var rs=Object.defineProperty;var us=(t,e,l)=>e in t?rs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var xt=(t,e,l)=>us(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=l(i);fetch(i.href,r)}})();function X(){}function xn(t){return t()}function dl(){return Object.create(null)}function nt(t){t.forEach(xn)}function es(t){return typeof t=="function"}function Je(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function cs(t){return Object.keys(t).length===0}function fs(t,...e){if(t==null){for(const n of e)n(void 0);return X}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function lt(t,e,l){t.$$.on_destroy.push(fs(e,l))}function pl(t){return t??""}function s(t,e){t.appendChild(e)}function A(t,e,l){t.insertBefore(e,l||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function ft(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function el(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function m(){return L(" ")}function Tt(){return L("")}function ne(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Dt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function c(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function ds(t){return Array.from(t.childNodes)}function E(t,e){e=""+e,t.data!==e&&(t.data=e)}function gt(t,e){t.value=e??""}function Oe(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function Wt(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function vl(t){const e=t.querySelector(":checked");return e&&e.__value}function G(t,e,l){t.classList.toggle(e,!!l)}function ps(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let zt;function Rt(t){zt=t}function rl(){if(!zt)throw new Error("Function called outside component initialization");return zt}function ts(t){rl().$$.on_mount.push(t)}function ls(t){rl().$$.on_destroy.push(t)}function Bt(){const t=rl();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=ps(e,l,{cancelable:n});return i.slice().forEach(a=>{a.call(t,r)}),!r.defaultPrevented}return!0}}function Vt(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Et=[],_l=[];let Pt=[];const ml=[],vs=Promise.resolve();let il=!1;function _s(){il||(il=!0,vs.then(ns))}function Ft(t){Pt.push(t)}const tl=new Set;let Mt=0;function ns(){if(Mt!==0)return;const t=zt;do{try{for(;Mt<Et.length;){const e=Et[Mt];Mt++,Rt(e),ms(e.$$)}}catch(e){throw Et.length=0,Mt=0,e}for(Rt(null),Et.length=0,Mt=0;_l.length;)_l.pop()();for(let e=0;e<Pt.length;e+=1){const l=Pt[e];tl.has(l)||(tl.add(l),l())}Pt.length=0}while(Et.length);for(;ml.length;)ml.pop()();il=!1,tl.clear(),Rt(t)}function ms(t){if(t.fragment!==null){t.update(),nt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ft)}}function bs(t){const e=[],l=[];Pt.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Pt=e}const Ht=new Set;let $t;function we(){$t={r:0,c:[],p:$t}}function Ce(){$t.r||nt($t.c),$t=$t.p}function B(t,e){t&&t.i&&(Ht.delete(t),t.i(e))}function R(t,e,l,n){if(t&&t.o){if(Ht.has(t))return;Ht.add(t),$t.c.push(()=>{Ht.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function pe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function gs(t,e){t.d(1),e.delete(t.key)}function Jt(t,e){R(t,1,1,()=>{e.delete(t.key)})}function Ut(t,e,l,n,i,r,a,o,u,f,p,v){let _=t.length,g=r.length,b=_;const h={};for(;b--;)h[t[b].key]=b;const T=[],y=new Map,C=new Map,w=[];for(b=g;b--;){const S=v(i,r,b),$=l(S);let P=a.get($);P?w.push(()=>P.p(S,e)):(P=f($,S),P.c()),y.set($,T[b]=P),$ in h&&C.set($,Math.abs(b-h[$]))}const k=new Set,D=new Set;function q(S){B(S,1),S.m(o,p),a.set(S.key,S),p=S.first,g--}for(;_&&g;){const S=T[g-1],$=t[_-1],P=S.key,O=$.key;S===$?(p=S.first,_--,g--):y.has(O)?!a.has(P)||k.has(P)?q(S):D.has(O)?_--:C.get(P)>C.get(O)?(D.add(P),q(S)):(k.add(O),_--):(u($,a),_--)}for(;_--;){const S=t[_];y.has(S.key)||u(S,a)}for(;g;)q(T[g-1]);return nt(w),T}function Le(t){t&&t.c()}function ke(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Ft(()=>{const r=t.$$.on_mount.map(xn).filter(es);t.$$.on_destroy?t.$$.on_destroy.push(...r):nt(r),t.$$.on_mount=[]}),i.forEach(Ft)}function ye(t,e){const l=t.$$;l.fragment!==null&&(bs(l.after_update),nt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function hs(t,e){t.$$.dirty[0]===-1&&(Et.push(t),_s(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Xe(t,e,l,n,i,r,a=null,o=[-1]){const u=zt;Rt(t);const f=t.$$={fragment:null,ctx:[],props:r,update:X,not_equal:i,bound:dl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:dl(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(f.root);let p=!1;if(f.ctx=l?l(t,e.props||{},(v,_,...g)=>{const b=g.length?g[0]:_;return f.ctx&&i(f.ctx[v],f.ctx[v]=b)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](b),p&&hs(t,v)),_}):[],f.update(),p=!0,nt(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const v=ds(e.target);f.fragment&&f.fragment.l(v),v.forEach(M)}else f.fragment&&f.fragment.c();e.intro&&B(t.$$.fragment),ke(t,e.target,e.anchor),ns()}Rt(u)}class Ye{constructor(){xt(this,"$$");xt(this,"$$set")}$destroy(){ye(this,1),this.$destroy=X}$on(e,l){if(!es(l))return X;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!cs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ks="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ks);function ss(){return!window.invokeNative}async function ht(t,e={}){if(ss())return{};const l=`https://trucking/${t}`;return await(await fetch(l,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)})).json()}function ys(t){function e(l){const{action:n,...i}=l.data;n&&t(n,i)}return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}function ws(){ht("close")}const At=[];function dt(t,e=X){let l;const n=new Set;function i(o){if(Je(t,o)&&(t=o,l)){const u=!At.length;for(const f of n)f[1](),At.push(f,t);if(u){for(let f=0;f<At.length;f+=2)At[f][0](At[f+1]);At.length=0}}}function r(o){i(o(t))}function a(o,u=X){const f=[o,u];return n.add(f),n.size===1&&(l=e(i,r)||X),o(t),()=>{n.delete(f),n.size===0&&l&&(l(),l=null)}}return{set:i,update:r,subscribe:a}}const St=dt("home"),It=dt({citizenid:"",name:"",reputationScore:500,reputationTier:"developing",suspendedUntil:null,totalLoadsCompleted:0,totalLoadsFailed:0,totalLoadsStolen:0,totalDistanceDriven:0,totalEarnings:0,licenses:[],certifications:[],leonAccess:!1}),Qt=dt(null),ul=dt({standard:[],supplier:[],open:[],routes:[]}),is=dt({policies:[],availablePlans:[]}),Cs=dt({company:null,members:[],activeClaims:[]}),Ls=dt({visible:!1,bolNumber:"",cargoType:"",destination:"",distanceRemaining:0,timeRemaining:0,temperature:null,tempInRange:!0,integrity:100,sealStatus:"not_applied",borderState:"normal"}),Ts=dt({active:!1,convoyId:null,leader:null,members:[],bonusPercentage:0}),al=dt(null),ol=dt(null),Ot=dt(null),qt=dt(!1);function Ss(t){let e,l,n;return{c(){e=d("span"),l=L(t[3]),c(e,"class",n=pl(t[1])+" svelte-17m5jgh"),c(e,"title",t[2]),G(e,"badge-small",t[0]==="small")},m(i,r){A(i,e,r),s(e,l)},p(i,[r]){r&8&&E(l,i[3]),r&2&&n!==(n=pl(i[1])+" svelte-17m5jgh")&&c(e,"class",n),r&4&&c(e,"title",i[2]),r&3&&G(e,"badge-small",i[0]==="small")},i:X,o:X,d(i){i&&M(e)}}}function qs(t,e,l){let n,i,r,{tier:a=0}=e,{size:o="default"}=e;const u={0:"T0",1:"T1",2:"T2",3:"T3"},f={0:"Entry",1:"Standard",2:"Specialized",3:"Premium"};return t.$$set=p=>{"tier"in p&&l(4,a=p.tier),"size"in p&&l(0,o=p.size)},t.$$.update=()=>{t.$$.dirty&16&&l(3,n=u[a]||"T0"),t.$$.dirty&16&&l(2,i=f[a]||"Entry"),t.$$.dirty&16&&l(1,r=`badge badge-t${a}`)},[o,r,i,n,a]}class Xt extends Ye{constructor(e){super(),Xe(this,e,qs,Ss,Je,{tier:4,size:0})}}function $s(t){let e,l,n;return{c(){e=d("span"),l=L(t[1]),c(e,"class",n="status-badge "+t[0].cssClass+" svelte-zwfd9g")},m(i,r){A(i,e,r),s(e,l)},p(i,[r]){r&2&&E(l,i[1]),r&1&&n!==(n="status-badge "+i[0].cssClass+" svelte-zwfd9g")&&c(e,"class",n)},i:X,o:X,d(i){i&&M(e)}}}function Ds(t,e,l){let n,i,{status:r="inactive"}=e,{label:a=""}=e;const o={sealed:{text:"Sealed",cssClass:"status-sealed"},broken:{text:"Broken",cssClass:"status-broken"},active:{text:"Active",cssClass:"status-active"},expired:{text:"Expired",cssClass:"status-expired"},not_applied:{text:"Not Applied",cssClass:"status-not-applied"},warning:{text:"Warning",cssClass:"status-warning"},critical:{text:"Critical",cssClass:"status-critical"},inactive:{text:"Inactive",cssClass:"status-inactive"},rejected:{text:"Rejected",cssClass:"status-rejected"},suspended:{text:"Suspended",cssClass:"status-suspended"},in_transit:{text:"In Transit",cssClass:"status-active"},at_origin:{text:"At Origin",cssClass:"status-active"},at_destination:{text:"At Dest",cssClass:"status-active"},completed:{text:"Completed",cssClass:"status-sealed"},distress_active:{text:"Distress",cssClass:"status-critical"}};return t.$$set=u=>{"status"in u&&l(2,r=u.status),"label"in u&&l(3,a=u.label)},t.$$.update=()=>{t.$$.dirty&4&&l(0,n=o[r]||o.inactive),t.$$.dirty&9&&l(1,i=a||n.text)},[n,i,r,a]}class kt extends Ye{constructor(e){super(),Xe(this,e,Ds,$s,Je,{status:2,label:3})}}function bl(t){let e;return{c(){e=d("span"),e.textContent="Time Remaining",c(e,"class","countdown-label svelte-wmne0m")},m(l,n){A(l,e,n)},d(l){l&&M(e)}}}function gl(t){let e;return{c(){e=d("span"),e.textContent="Expired",c(e,"class","countdown-expired-label svelte-wmne0m")},m(l,n){A(l,e,n)},d(l){l&&M(e)}}}function Ms(t){let e,l,n,i,r,a=t[1]&&bl(),o=t[2]==="expired"&&gl();return{c(){e=d("div"),a&&a.c(),l=m(),n=d("span"),i=L(t[3]),r=m(),o&&o.c(),c(n,"class","countdown-value mono svelte-wmne0m"),c(e,"class","countdown svelte-wmne0m"),G(e,"countdown-large",t[0]),G(e,"state-warning",t[2]==="warning"),G(e,"state-critical",t[2]==="critical"),G(e,"state-expired",t[2]==="expired")},m(u,f){A(u,e,f),a&&a.m(e,null),s(e,l),s(e,n),s(n,i),s(e,r),o&&o.m(e,null)},p(u,[f]){u[1]?a||(a=bl(),a.c(),a.m(e,l)):a&&(a.d(1),a=null),f&8&&E(i,u[3]),u[2]==="expired"?o||(o=gl(),o.c(),o.m(e,null)):o&&(o.d(1),o=null),f&1&&G(e,"countdown-large",u[0]),f&4&&G(e,"state-warning",u[2]==="warning"),f&4&&G(e,"state-critical",u[2]==="critical"),f&4&&G(e,"state-expired",u[2]==="expired")},i:X,o:X,d(u){u&&M(e),a&&a.d(),o&&o.d()}}}function As(t,e,l){const n=i=>String(i).padStart(2,"0");return t>0?`${t}:${n(e)}:${n(l)}`:`${n(e)}:${n(l)}`}function Es(t,e,l){let n,i,r,a,o,{targetTime:u=0}=e,{warningMinutes:f=15}=e,{criticalMinutes:p=5}=e,{large:v=!1}=e,{showLabel:_=!0}=e,g=0,b;function h(y){return y<=0?"expired":y<=p*60?"critical":y<=f*60?"warning":"normal"}function T(){const y=Math.floor(Date.now()/1e3);l(7,g=Math.max(0,u-y))}return ts(()=>{T(),b=setInterval(T,1e3)}),ls(()=>{b&&clearInterval(b)}),t.$$set=y=>{"targetTime"in y&&l(4,u=y.targetTime),"warningMinutes"in y&&l(5,f=y.warningMinutes),"criticalMinutes"in y&&l(6,p=y.criticalMinutes),"large"in y&&l(0,v=y.large),"showLabel"in y&&l(1,_=y.showLabel)},t.$$.update=()=>{t.$$.dirty&128&&l(10,n=Math.floor(g/3600)),t.$$.dirty&128&&l(9,i=Math.floor(g%3600/60)),t.$$.dirty&128&&l(8,r=g%60),t.$$.dirty&1792&&l(3,a=As(n,i,r)),t.$$.dirty&128&&l(2,o=h(g))},[v,_,o,a,u,f,p,g,r,i,n]}class as extends Ye{constructor(e){super(),Xe(this,e,Es,Ms,Je,{targetTime:4,warningMinutes:5,criticalMinutes:6,large:0,showLabel:1})}}function hl(t){let e,l;return{c(){e=d("span"),l=L(t[3]),c(e,"class","ring-label svelte-am61xn")},m(n,i){A(n,e,i),s(e,l)},p(n,i){i&8&&E(l,n[3])},d(n){n&&M(e)}}}function Ps(t){let e,l,n,i,r,a,o,u,f,p,v,_,g,b=Math.round(t[0])+"",h,T,y=t[3]&&hl(t);return{c(){e=d("div"),l=el("svg"),n=el("circle"),a=el("circle"),v=m(),_=d("div"),g=d("span"),h=L(b),T=m(),y&&y.c(),c(n,"cx",i=t[1]/2),c(n,"cy",r=t[1]/2),c(n,"r",t[5]),c(n,"fill","none"),c(n,"stroke","var(--navy-dark)"),c(n,"stroke-width",t[2]),c(a,"cx",o=t[1]/2),c(a,"cy",u=t[1]/2),c(a,"r",t[5]),c(a,"fill","none"),c(a,"stroke",t[6]),c(a,"stroke-width",t[2]),c(a,"stroke-linecap","round"),c(a,"stroke-dasharray",t[4]),c(a,"stroke-dashoffset",t[7]),c(a,"transform",f="rotate(-90 "+t[1]/2+" "+t[1]/2+")"),c(a,"class","progress-arc svelte-am61xn"),c(l,"width",t[1]),c(l,"height",t[1]),c(l,"viewBox",p="0 0 "+t[1]+" "+t[1]),c(l,"class","svelte-am61xn"),c(g,"class","ring-value mono svelte-am61xn"),Oe(g,"color",t[6]),c(_,"class","ring-content svelte-am61xn"),c(e,"class","progress-ring svelte-am61xn"),Oe(e,"width",t[1]+"px"),Oe(e,"height",t[1]+"px")},m(C,w){A(C,e,w),s(e,l),s(l,n),s(l,a),s(e,v),s(e,_),s(_,g),s(g,h),s(_,T),y&&y.m(_,null)},p(C,[w]){w&2&&i!==(i=C[1]/2)&&c(n,"cx",i),w&2&&r!==(r=C[1]/2)&&c(n,"cy",r),w&32&&c(n,"r",C[5]),w&4&&c(n,"stroke-width",C[2]),w&2&&o!==(o=C[1]/2)&&c(a,"cx",o),w&2&&u!==(u=C[1]/2)&&c(a,"cy",u),w&32&&c(a,"r",C[5]),w&64&&c(a,"stroke",C[6]),w&4&&c(a,"stroke-width",C[2]),w&16&&c(a,"stroke-dasharray",C[4]),w&128&&c(a,"stroke-dashoffset",C[7]),w&2&&f!==(f="rotate(-90 "+C[1]/2+" "+C[1]/2+")")&&c(a,"transform",f),w&2&&c(l,"width",C[1]),w&2&&c(l,"height",C[1]),w&2&&p!==(p="0 0 "+C[1]+" "+C[1])&&c(l,"viewBox",p),w&1&&b!==(b=Math.round(C[0])+"")&&E(h,b),w&64&&Oe(g,"color",C[6]),C[3]?y?y.p(C,w):(y=hl(C),y.c(),y.m(_,null)):y&&(y.d(1),y=null),w&2&&Oe(e,"width",C[1]+"px"),w&2&&Oe(e,"height",C[1]+"px")},i:X,o:X,d(C){C&&M(e),y&&y.d()}}}function js(t,e,l){let n,i,r,a,o,{value:u=100}=e,{max:f=100}=e,{size:p=64}=e,{strokeWidth:v=5}=e,{label:_=""}=e,{variant:g="default"}=e,{warningThreshold:b=60}=e,{criticalThreshold:h=40}=e;function T(y,C){return C==="integrity"||C==="default"||C==="temperature"?y<=h?"var(--orange)":y<=b?"var(--warning)":"var(--success)":"var(--orange)"}return t.$$set=y=>{"value"in y&&l(0,u=y.value),"max"in y&&l(8,f=y.max),"size"in y&&l(1,p=y.size),"strokeWidth"in y&&l(2,v=y.strokeWidth),"label"in y&&l(3,_=y.label),"variant"in y&&l(9,g=y.variant),"warningThreshold"in y&&l(10,b=y.warningThreshold),"criticalThreshold"in y&&l(11,h=y.criticalThreshold)},t.$$.update=()=>{t.$$.dirty&257&&l(12,n=Math.max(0,Math.min(100,u/f*100))),t.$$.dirty&6&&l(5,i=(p-v)/2),t.$$.dirty&32&&l(4,r=2*Math.PI*i),t.$$.dirty&4112&&l(7,a=r-n/100*r),t.$$.dirty&4608&&l(6,o=T(n,g))},[u,p,v,_,r,i,o,a,f,g,b,h,n]}class os extends Ye{constructor(e){super(),Xe(this,e,js,Ps,Je,{value:0,max:8,size:1,strokeWidth:2,label:3,variant:9,warningThreshold:10,criticalThreshold:11})}}function kl(t,e,l){const n=t.slice();return n[17]=e[l],n}function yl(t,e,l){const n=t.slice();return n[20]=e[l],n}function wl(t){let e,l,n,i,r,a,o,u,f,p,v,_=(t[3].bolNumber||"—")+"",g,b,h,T=(t[3].cargoType||"Cargo")+"",y,C,w,k=(t[3].destinationLabel||"—")+"",D,q,S,$,P,O,j,H,V,F;r=new kt({props:{status:t[3].status||"in_transit"}});let z=t[3].windowExpiresAt&&Cl(t);return P=new os({props:{value:t[3].cargoIntegrity??100,label:"%",size:52,strokeWidth:4,variant:"integrity"}}),{c(){e=d("div"),l=d("div"),n=d("h3"),n.textContent="Active Load",i=m(),Le(r.$$.fragment),a=m(),o=d("div"),u=d("div"),f=d("div"),p=d("span"),v=L("BOL #"),g=L(_),b=m(),h=d("span"),y=L(T),C=m(),w=d("span"),D=L(k),q=m(),S=d("div"),z&&z.c(),$=m(),Le(P.$$.fragment),O=m(),j=d("button"),j.textContent="View Active Load",c(n,"class","card-title"),c(l,"class","card-header"),c(p,"class","bol-number mono svelte-1b4ep7"),c(h,"class","cargo-label svelte-1b4ep7"),c(w,"class","dest-label text-muted svelte-1b4ep7"),c(f,"class","active-load-info svelte-1b4ep7"),c(S,"class","active-load-meters svelte-1b4ep7"),c(u,"class","active-load-top svelte-1b4ep7"),c(j,"class","btn btn-primary btn-sm"),c(o,"class","card-body"),c(e,"class","card active-load-card svelte-1b4ep7")},m(N,Q){A(N,e,Q),s(e,l),s(l,n),s(l,i),ke(r,l,null),s(e,a),s(e,o),s(o,u),s(u,f),s(f,p),s(p,v),s(p,g),s(f,b),s(f,h),s(h,y),s(f,C),s(f,w),s(w,D),s(u,q),s(u,S),z&&z.m(S,null),s(S,$),ke(P,S,null),s(o,O),s(o,j),H=!0,V||(F=ne(j,"click",t[12]),V=!0)},p(N,Q){const I={};Q&8&&(I.status=N[3].status||"in_transit"),r.$set(I),(!H||Q&8)&&_!==(_=(N[3].bolNumber||"—")+"")&&E(g,_),(!H||Q&8)&&T!==(T=(N[3].cargoType||"Cargo")+"")&&E(y,T),(!H||Q&8)&&k!==(k=(N[3].destinationLabel||"—")+"")&&E(D,k),N[3].windowExpiresAt?z?(z.p(N,Q),Q&8&&B(z,1)):(z=Cl(N),z.c(),B(z,1),z.m(S,$)):z&&(we(),R(z,1,1,()=>{z=null}),Ce());const x={};Q&8&&(x.value=N[3].cargoIntegrity??100),P.$set(x)},i(N){H||(B(r.$$.fragment,N),B(z),B(P.$$.fragment,N),H=!0)},o(N){R(r.$$.fragment,N),R(z),R(P.$$.fragment,N),H=!1},d(N){N&&M(e),ye(r),z&&z.d(),ye(P),V=!1,F()}}}function Cl(t){let e,l;return e=new as({props:{targetTime:t[3].windowExpiresAt}}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p(n,i){const r={};i&8&&(r.targetTime=n[3].windowExpiresAt),e.$set(r)},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Ll(t){let e,l,n,i,r,a=pe(t[4].licenses),o=[];for(let f=0;f<a.length;f+=1)o[f]=Tl(yl(t,a,f));const u=f=>R(o[f],1,1,()=>{o[f]=null});return{c(){e=d("div"),l=d("span"),l.textContent="Licenses",n=m(),i=d("div");for(let f=0;f<o.length;f+=1)o[f].c();c(l,"class","section-label svelte-1b4ep7"),c(i,"class","license-list svelte-1b4ep7"),c(e,"class","standing-licenses svelte-1b4ep7")},m(f,p){A(f,e,p),s(e,l),s(e,n),s(e,i);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(i,null);r=!0},p(f,p){if(p&16){a=pe(f[4].licenses);let v;for(v=0;v<a.length;v+=1){const _=yl(f,a,v);o[v]?(o[v].p(_,p),B(o[v],1)):(o[v]=Tl(_),o[v].c(),B(o[v],1),o[v].m(i,null))}for(we(),v=a.length;v<o.length;v+=1)u(v);Ce()}},i(f){if(!r){for(let p=0;p<a.length;p+=1)B(o[p]);r=!0}},o(f){o=o.filter(Boolean);for(let p=0;p<o.length;p+=1)R(o[p]);r=!1},d(f){f&&M(e),ft(o,f)}}}function Tl(t){var f;let e,l,n=((f=t[20].type)==null?void 0:f.replace("_"," ").toUpperCase())+"",i,r,a,o,u;return a=new kt({props:{status:t[20].status}}),{c(){e=d("div"),l=d("span"),i=L(n),r=m(),Le(a.$$.fragment),o=m(),c(l,"class","license-type svelte-1b4ep7"),c(e,"class","license-item svelte-1b4ep7")},m(p,v){A(p,e,v),s(e,l),s(l,i),s(e,r),ke(a,e,null),s(e,o),u=!0},p(p,v){var g;(!u||v&16)&&n!==(n=((g=p[20].type)==null?void 0:g.replace("_"," ").toUpperCase())+"")&&E(i,n);const _={};v&16&&(_.status=p[20].status),a.$set(_)},i(p){u||(B(a.$$.fragment,p),u=!0)},o(p){R(a.$$.fragment,p),u=!1},d(p){p&&M(e),ye(a)}}}function Bs(t){let e,l;return e=new kt({props:{status:"inactive",label:"No Policy"}}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Ns(t){let e,l;return e=new kt({props:{status:"active"}}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Rs(t){let e;return{c(){e=d("p"),e.textContent="No active insurance policy. Consider purchasing coverage before your next haul.",c(e,"class","text-muted"),Oe(e,"font-size","13px")},m(l,n){A(l,e,n)},p:X,d(l){l&&M(e)}}}function zs(t){let e,l,n=(t[2].policyType||"Standard")+"",i,r,a=t[2].expiresAt&&Sl(t);return{c(){e=d("div"),l=d("span"),i=L(n),r=m(),a&&a.c(),c(l,"class","insurance-type svelte-1b4ep7"),c(e,"class","insurance-info svelte-1b4ep7")},m(o,u){A(o,e,u),s(e,l),s(l,i),s(e,r),a&&a.m(e,null)},p(o,u){u&4&&n!==(n=(o[2].policyType||"Standard")+"")&&E(i,n),o[2].expiresAt?a?a.p(o,u):(a=Sl(o),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(o){o&&M(e),a&&a.d()}}}function Sl(t){let e,l,n,i=new Date(t[2].expiresAt*1e3).toLocaleDateString()+"",r;return{c(){e=d("span"),l=L("Expires: "),n=d("span"),r=L(i),c(n,"class","mono"),c(e,"class","insurance-expiry text-muted svelte-1b4ep7")},m(a,o){A(a,e,o),s(e,l),s(e,n),s(n,r)},p(a,o){o&4&&i!==(i=new Date(a[2].expiresAt*1e3).toLocaleDateString()+"")&&E(r,i)},d(a){a&&M(e)}}}function ql(t){let e,l,n,i,r=t[0][t[17]]+"",a,o,u;return l=new Xt({props:{tier:t[17],size:"small"}}),{c(){e=d("div"),Le(l.$$.fragment),n=m(),i=d("span"),a=L(r),o=m(),c(i,"class","tier-count-value mono svelte-1b4ep7"),c(e,"class","tier-count-item svelte-1b4ep7")},m(f,p){A(f,e,p),ke(l,e,null),s(e,n),s(e,i),s(i,a),s(e,o),u=!0},p(f,p){(!u||p&1)&&r!==(r=f[0][f[17]]+"")&&E(a,r)},i(f){u||(B(l.$$.fragment,f),u=!0)},o(f){R(l.$$.fragment,f),u=!1},d(f){f&&M(e),ye(l)}}}function Fs(t){var Ct,tt;let e,l,n,i,r,a,o,u=Dl(t[4].reputationTier)+"",f,p,v,_,g,b,h,T,y=t[4].reputationScore+"",C,w,k,D,q,S,$=t[4].totalLoadsCompleted+"",P,O,j,H,V,F,z=$l(t[4].totalEarnings)+"",N,Q,I,x,re,le,se=(((Ct=t[4].totalDistanceDriven)==null?void 0:Ct.toLocaleString())||"0")+"",ee,W,Z,J,te,ie,Se,ce,oe,_e,Ie,Te,st,ue,de,Re,vt,it,He,yt,_t,De,ze,Ze,Ge,mt,Be,We,Ke,Ve,xe,at,$e=t[3]&&wl(t),Ae=((tt=t[4].licenses)==null?void 0:tt.length)>0&&Ll(t);const ot=[Ns,Bs],Qe=[];function rt(Y,me){return Y[2]?0:1}oe=rt(t),_e=Qe[oe]=ot[oe](t);function et(Y,me){return Y[2]?zs:Rs}let ut=et(t),Ne=ut(t),wt=pe([0,1,2,3]),fe=[];for(let Y=0;Y<4;Y+=1)fe[Y]=ql(kl(t,wt,Y));const pt=Y=>R(fe[Y],1,1,()=>{fe[Y]=null});return{c(){e=d("div"),$e&&$e.c(),l=m(),n=d("div"),i=d("div"),r=d("h3"),r.textContent="Driver Standing",a=m(),o=d("span"),f=L(u),p=m(),v=d("div"),_=d("div"),g=d("div"),b=d("span"),b.textContent="Reputation",h=m(),T=d("span"),C=L(y),w=m(),k=d("div"),D=d("span"),D.textContent="Total Deliveries",q=m(),S=d("span"),P=L($),O=m(),j=d("div"),H=d("span"),H.textContent="Total Earnings",V=m(),F=d("span"),N=L(z),Q=m(),I=d("div"),x=d("span"),x.textContent="Distance Driven",re=m(),le=d("span"),ee=L(se),W=L(" mi"),Z=m(),Ae&&Ae.c(),J=m(),te=d("div"),ie=d("div"),Se=d("h3"),Se.textContent="Insurance",ce=m(),_e.c(),Ie=m(),Te=d("div"),Ne.c(),st=m(),ue=d("div"),de=d("div"),Re=d("h3"),Re.textContent="Available Loads",vt=m(),it=d("span"),He=L(t[1]),yt=m(),_t=d("div"),De=d("div");for(let Y=0;Y<4;Y+=1)fe[Y].c();ze=m(),Ze=d("div"),Ge=d("button"),Ge.textContent="View Board",mt=m(),Be=d("button"),Be.textContent="View Profile",We=m(),Ke=d("button"),Ke.textContent="Buy Insurance",c(r,"class","card-title"),c(o,"class","rep-tier-badge heading svelte-1b4ep7"),c(i,"class","card-header"),c(b,"class","stat-label svelte-1b4ep7"),c(T,"class","stat-value mono svelte-1b4ep7"),c(g,"class","stat-item svelte-1b4ep7"),c(D,"class","stat-label svelte-1b4ep7"),c(S,"class","stat-value mono svelte-1b4ep7"),c(k,"class","stat-item svelte-1b4ep7"),c(H,"class","stat-label svelte-1b4ep7"),c(F,"class","stat-value mono svelte-1b4ep7"),c(j,"class","stat-item svelte-1b4ep7"),c(x,"class","stat-label svelte-1b4ep7"),c(le,"class","stat-value mono svelte-1b4ep7"),c(I,"class","stat-item svelte-1b4ep7"),c(_,"class","standing-stats svelte-1b4ep7"),c(v,"class","card-body"),c(n,"class","card standing-card"),c(Se,"class","card-title"),c(ie,"class","card-header"),c(Te,"class","card-body"),c(te,"class","card insurance-card"),c(Re,"class","card-title"),c(it,"class","board-count mono svelte-1b4ep7"),c(de,"class","card-header"),c(De,"class","tier-counts svelte-1b4ep7"),c(_t,"class","card-body"),c(ue,"class","card board-summary-card"),c(Ge,"class","btn btn-primary svelte-1b4ep7"),c(Be,"class","btn btn-secondary svelte-1b4ep7"),c(Ke,"class","btn btn-secondary svelte-1b4ep7"),c(Ze,"class","quick-actions svelte-1b4ep7"),c(e,"class","home-screen svelte-1b4ep7")},m(Y,me){A(Y,e,me),$e&&$e.m(e,null),s(e,l),s(e,n),s(n,i),s(i,r),s(i,a),s(i,o),s(o,f),s(n,p),s(n,v),s(v,_),s(_,g),s(g,b),s(g,h),s(g,T),s(T,C),s(_,w),s(_,k),s(k,D),s(k,q),s(k,S),s(S,P),s(_,O),s(_,j),s(j,H),s(j,V),s(j,F),s(F,N),s(_,Q),s(_,I),s(I,x),s(I,re),s(I,le),s(le,ee),s(le,W),s(v,Z),Ae&&Ae.m(v,null),s(e,J),s(e,te),s(te,ie),s(ie,Se),s(ie,ce),Qe[oe].m(ie,null),s(te,Ie),s(te,Te),Ne.m(Te,null),s(e,st),s(e,ue),s(ue,de),s(de,Re),s(de,vt),s(de,it),s(it,He),s(ue,yt),s(ue,_t),s(_t,De);for(let be=0;be<4;be+=1)fe[be]&&fe[be].m(De,null);s(e,ze),s(e,Ze),s(Ze,Ge),s(Ze,mt),s(Ze,Be),s(Ze,We),s(Ze,Ke),Ve=!0,xe||(at=[ne(Ge,"click",t[13]),ne(Be,"click",t[14]),ne(Ke,"click",t[15])],xe=!0)},p(Y,[me]){var ge,Pe;Y[3]?$e?($e.p(Y,me),me&8&&B($e,1)):($e=wl(Y),$e.c(),B($e,1),$e.m(e,l)):$e&&(we(),R($e,1,1,()=>{$e=null}),Ce()),(!Ve||me&16)&&u!==(u=Dl(Y[4].reputationTier)+"")&&E(f,u),(!Ve||me&16)&&y!==(y=Y[4].reputationScore+"")&&E(C,y),(!Ve||me&16)&&$!==($=Y[4].totalLoadsCompleted+"")&&E(P,$),(!Ve||me&16)&&z!==(z=$l(Y[4].totalEarnings)+"")&&E(N,z),(!Ve||me&16)&&se!==(se=(((ge=Y[4].totalDistanceDriven)==null?void 0:ge.toLocaleString())||"0")+"")&&E(ee,se),((Pe=Y[4].licenses)==null?void 0:Pe.length)>0?Ae?(Ae.p(Y,me),me&16&&B(Ae,1)):(Ae=Ll(Y),Ae.c(),B(Ae,1),Ae.m(v,null)):Ae&&(we(),R(Ae,1,1,()=>{Ae=null}),Ce());let be=oe;if(oe=rt(Y),oe!==be&&(we(),R(Qe[be],1,1,()=>{Qe[be]=null}),Ce(),_e=Qe[oe],_e||(_e=Qe[oe]=ot[oe](Y),_e.c()),B(_e,1),_e.m(ie,null)),ut===(ut=et(Y))&&Ne?Ne.p(Y,me):(Ne.d(1),Ne=ut(Y),Ne&&(Ne.c(),Ne.m(Te,null))),(!Ve||me&2)&&E(He,Y[1]),me&1){wt=pe([0,1,2,3]);let ve;for(ve=0;ve<4;ve+=1){const Ee=kl(Y,wt,ve);fe[ve]?(fe[ve].p(Ee,me),B(fe[ve],1)):(fe[ve]=ql(Ee),fe[ve].c(),B(fe[ve],1),fe[ve].m(De,null))}for(we(),ve=4;ve<4;ve+=1)pt(ve);Ce()}},i(Y){if(!Ve){B($e),B(Ae),B(_e);for(let me=0;me<4;me+=1)B(fe[me]);Ve=!0}},o(Y){R($e),R(Ae),R(_e),fe=fe.filter(Boolean);for(let me=0;me<4;me+=1)R(fe[me]);Ve=!1},d(Y){Y&&M(e),$e&&$e.d(),Ae&&Ae.d(),Qe[oe].d(),Ne.d(),ft(fe,Y),xe=!1,nt(at)}}}function $l(t){return t==null?"$0":"$"+Number(t).toLocaleString("en-US")}function Dl(t){return{suspended:"Suspended",restricted:"Restricted",probationary:"Probationary",developing:"Developing",established:"Established",professional:"Professional",elite:"Elite"}[t]||t}function Is(t,e,l){let n,i,r,a,o,u,f,p,v,_,g;lt(t,ul,k=>l(8,p=k)),lt(t,is,k=>l(9,v=k)),lt(t,Qt,k=>l(10,_=k)),lt(t,It,k=>l(11,g=k));const b=Bt();function h(k,D=null){b("navigate",{screen:k,data:D})}const T=()=>h("activeLoad"),y=()=>h("board"),C=()=>h("profile"),w=()=>h("insurance");return t.$$.update=()=>{var k;t.$$.dirty&2048&&l(4,n=g),t.$$.dirty&1024&&l(3,i=_),t.$$.dirty&512&&l(7,r=v),t.$$.dirty&256&&l(6,a=p),t.$$.dirty&128&&l(2,o=((k=r.policies)==null?void 0:k.find(D=>D.status==="active"))||null),t.$$.dirty&64&&l(0,u=(()=>{const D=a.standard||[],q={0:0,1:0,2:0,3:0};return D.forEach(S=>{q[S.tier]!==void 0&&q[S.tier]++}),q})()),t.$$.dirty&1&&l(1,f=Object.values(u).reduce((D,q)=>D+q,0))},[u,f,o,i,n,h,a,r,p,v,_,g,T,y,C,w]}class Us extends Ye{constructor(e){super(),Xe(this,e,Is,Fs,Je,{})}}function Ml(t,e,l){const n=t.slice();return n[5]=e[l],n}function Al(t){let e,l=t[5].count+"",n;return{c(){e=d("span"),n=L(l),c(e,"class","tab-count mono svelte-1wvtizk")},m(i,r){A(i,e,r),s(e,n)},p(i,r){r&1&&l!==(l=i[5].count+"")&&E(n,l)},d(i){i&&M(e)}}}function El(t,e){let l,n=e[5].label+"",i,r,a,o,u,f=e[5].count!==void 0&&Al(e);function p(){return e[3](e[5])}return{key:t,first:null,c(){l=d("button"),i=L(n),r=m(),f&&f.c(),a=m(),c(l,"class","tab-item svelte-1wvtizk"),G(l,"tab-active",e[1]===e[5].id),this.first=l},m(v,_){A(v,l,_),s(l,i),s(l,r),f&&f.m(l,null),s(l,a),o||(u=ne(l,"click",p),o=!0)},p(v,_){e=v,_&1&&n!==(n=e[5].label+"")&&E(i,n),e[5].count!==void 0?f?f.p(e,_):(f=Al(e),f.c(),f.m(l,a)):f&&(f.d(1),f=null),_&3&&G(l,"tab-active",e[1]===e[5].id)},d(v){v&&M(l),f&&f.d(),o=!1,u()}}}function Os(t){let e,l=[],n=new Map,i=pe(t[0]);const r=a=>a[5].id;for(let a=0;a<i.length;a+=1){let o=Ml(t,i,a),u=r(o);n.set(u,l[a]=El(u,o))}return{c(){e=d("div");for(let a=0;a<l.length;a+=1)l[a].c();c(e,"class","tab-bar svelte-1wvtizk")},m(a,o){A(a,e,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(a,[o]){o&7&&(i=pe(a[0]),l=Ut(l,o,r,1,a,i,n,e,gs,El,null,Ml))},i:X,o:X,d(a){a&&M(e);for(let o=0;o<l.length;o+=1)l[o].d()}}}function Hs(t,e,l){let{tabs:n=[]}=e,{activeTab:i=""}=e;const r=Bt();function a(u){r("tabChange",{tab:u})}const o=u=>a(u.id);return t.$$set=u=>{"tabs"in u&&l(0,n=u.tabs),"activeTab"in u&&l(1,i=u.activeTab)},[n,i,a,o]}class Ws extends Ye{constructor(e){super(),Xe(this,e,Hs,Os,Je,{tabs:0,activeTab:1})}}function Pl(t,e,l){const n=t.slice();return n[5]=e[l],n}function jl(t){var g;let e,l,n,i,r,a,o,u,f=jt((g=t[0])==null?void 0:g.totalEstimated)+"",p,v=pe(t[2]),_=[];for(let b=0;b<v.length;b+=1)_[b]=Nl(Pl(t,v,b));return{c(){e=d("div");for(let b=0;b<_.length;b+=1)_[b].c();l=m(),n=d("div"),i=m(),r=d("div"),a=d("span"),a.textContent="Total Estimated",o=m(),u=d("span"),p=L(f),c(n,"class","payout-divider svelte-klj94l"),c(a,"class","payout-line-label svelte-klj94l"),c(u,"class","payout-line-value payout-figure mono svelte-klj94l"),c(r,"class","payout-line payout-total-line svelte-klj94l"),c(e,"class","payout-body fade-in svelte-klj94l")},m(b,h){A(b,e,h);for(let T=0;T<_.length;T+=1)_[T]&&_[T].m(e,null);s(e,l),s(e,n),s(e,i),s(e,r),s(r,a),s(r,o),s(r,u),s(u,p)},p(b,h){var T;if(h&4){v=pe(b[2]);let y;for(y=0;y<v.length;y+=1){const C=Pl(b,v,y);_[y]?_[y].p(C,h):(_[y]=Nl(C),_[y].c(),_[y].m(e,l))}for(;y<_.length;y+=1)_[y].d(1);_.length=v.length}h&1&&f!==(f=jt((T=b[0])==null?void 0:T.totalEstimated)+"")&&E(p,f)},d(b){b&&M(e),ft(_,b)}}}function Bl(t){let e,l=jt(t[5].value)+"",n;return{c(){e=d("span"),n=L(l),c(e,"class","payout-line-value mono svelte-klj94l")},m(i,r){A(i,e,r),s(e,n)},p(i,r){r&4&&l!==(l=jt(i[5].value)+"")&&E(n,l)},d(i){i&&M(e)}}}function Nl(t){let e,l,n=t[5].label+"",i,r,a=t[5].value!=null&&Bl(t);return{c(){e=d("div"),l=d("span"),i=L(n),r=m(),a&&a.c(),c(l,"class","payout-line-label svelte-klj94l"),c(e,"class","payout-line svelte-klj94l"),G(e,"surge-line",t[5].type==="surge")},m(o,u){A(o,e,u),s(e,l),s(l,i),s(e,r),a&&a.m(e,null)},p(o,u){u&4&&n!==(n=o[5].label+"")&&E(i,n),o[5].value!=null?a?a.p(o,u):(a=Bl(o),a.c(),a.m(e,null)):a&&(a.d(1),a=null),u&4&&G(e,"surge-line",o[5].type==="surge")},d(o){o&&M(e),a&&a.d()}}}function Vs(t){var y;let e,l,n,i,r,a,o=jt((y=t[0])==null?void 0:y.totalEstimated)+"",u,f,p,v=t[1]?"▲":"▼",_,g,b,h,T=t[1]&&jl(t);return{c(){e=d("div"),l=d("button"),n=d("span"),n.textContent="Payout Breakdown",i=m(),r=d("div"),a=d("span"),u=L(o),f=m(),p=d("span"),_=L(v),g=m(),T&&T.c(),c(n,"class","payout-title svelte-klj94l"),c(a,"class","payout-total mono svelte-klj94l"),c(p,"class","payout-chevron svelte-klj94l"),c(r,"class","payout-header-right svelte-klj94l"),c(l,"class","payout-header svelte-klj94l"),c(e,"class","payout-breakdown svelte-klj94l"),G(e,"expanded",t[1])},m(C,w){A(C,e,w),s(e,l),s(l,n),s(l,i),s(l,r),s(r,a),s(a,u),s(r,f),s(r,p),s(p,_),s(e,g),T&&T.m(e,null),b||(h=ne(l,"click",t[3]),b=!0)},p(C,[w]){var k;w&1&&o!==(o=jt((k=C[0])==null?void 0:k.totalEstimated)+"")&&E(u,o),w&2&&v!==(v=C[1]?"▲":"▼")&&E(_,v),C[1]?T?T.p(C,w):(T=jl(C),T.c(),T.m(e,null)):T&&(T.d(1),T=null),w&2&&G(e,"expanded",C[1])},i:X,o:X,d(C){C&&M(e),T&&T.d(),b=!1,h()}}}function Qs(t){if(!t)return[];const e=[];if(t.baseRate&&t.distance?e.push({label:`Base rate ($${ll(t.baseRate)}/mi x ${ll(t.distance)} mi)`,value:t.basePayout||t.baseRate*t.distance,type:"base"}):t.basePayout&&e.push({label:"Base payout",value:t.basePayout,type:"base"}),t.weightMultiplier&&t.weightMultiplier!==1&&e.push({label:`Weight multiplier (x${ll(t.weightMultiplier)})`,value:null,type:"modifier"}),t.ownerOpBonus&&e.push({label:"Owner-op bonus",value:t.ownerOpBonus,type:"bonus"}),t.timePerformance&&e.push({label:"Est. time performance",value:t.timePerformance,type:"bonus"}),t.complianceBonus&&e.push({label:"Compliance potential",value:t.complianceBonus,type:"bonus"}),t.nightHaulPremium&&e.push({label:"Night haul premium",value:t.nightHaulPremium,type:"bonus"}),t.surgeBonus){const l=t.surgePercentage?`Surge bonus (+${t.surgePercentage}%)`:"Surge bonus";e.push({label:l,value:t.surgeBonus,type:"surge"})}return e}function ll(t){return t==null?"—":Number(t).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}function jt(t){return t==null?"—":"$"+Number(t).toLocaleString("en-US")}function Zs(t,e,l){let n,{breakdown:i={}}=e,{startExpanded:r=!1}=e,a=r;function o(){l(1,a=!a)}return t.$$set=u=>{"breakdown"in u&&l(0,i=u.breakdown),"startExpanded"in u&&l(4,r=u.startExpanded)},t.$$.update=()=>{t.$$.dirty&1&&l(2,n=Qs(i))},[i,a,n,o,r]}class cl extends Ye{constructor(e){super(),Xe(this,e,Zs,Vs,Je,{breakdown:0,startExpanded:4})}}function Rl(t){let e,l,n=t[0].cargoSubtype+"",i,r;return{c(){e=d("span"),l=L("("),i=L(n),r=L(")"),c(e,"class","cargo-subtype text-muted svelte-n0u9b4")},m(a,o){A(a,e,o),s(e,l),s(e,i),s(e,r)},p(a,o){o&1&&n!==(n=a[0].cargoSubtype+"")&&E(i,n)},d(a){a&&M(e)}}}function zl(t){let e,l,n=t[0].surgePercentage+"",i,r;return{c(){e=d("span"),l=L("+"),i=L(n),r=L("%"),c(e,"class","badge badge-surge svelte-n0u9b4")},m(a,o){A(a,e,o),s(e,l),s(e,i),s(e,r)},p(a,o){o&1&&n!==(n=a[0].surgePercentage+"")&&E(i,n)},d(a){a&&M(e)}}}function Fl(t){let e,l,n,i=t[0].requiredLicense&&t[0].requiredLicense!=="none"&&Il(t),r=t[0].requiredEndorsement&&Ul(t),a=t[0].requiredCertification&&Ol(t);return{c(){e=d("div"),i&&i.c(),l=m(),r&&r.c(),n=m(),a&&a.c(),c(e,"class","card-row-reqs svelte-n0u9b4")},m(o,u){A(o,e,u),i&&i.m(e,null),s(e,l),r&&r.m(e,null),s(e,n),a&&a.m(e,null)},p(o,u){o[0].requiredLicense&&o[0].requiredLicense!=="none"?i?i.p(o,u):(i=Il(o),i.c(),i.m(e,l)):i&&(i.d(1),i=null),o[0].requiredEndorsement?r?r.p(o,u):(r=Ul(o),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o[0].requiredCertification?a?a.p(o,u):(a=Ol(o),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(o){o&&M(e),i&&i.d(),r&&r.d(),a&&a.d()}}}function Il(t){let e,l,n;return{c(){e=d("span"),l=L("CDL"),c(e,"class","req-icon svelte-n0u9b4"),c(e,"title",n="CDL Required: "+t[0].requiredLicense)},m(i,r){A(i,e,r),s(e,l)},p(i,r){r&1&&n!==(n="CDL Required: "+i[0].requiredLicense)&&c(e,"title",n)},d(i){i&&M(e)}}}function Ul(t){let e,l;function n(a,o){return a[0].requiredEndorsement==="tanker"?Js:a[0].requiredEndorsement==="hazmat"?Ks:Gs}let i=n(t),r=i(t);return{c(){e=d("span"),r.c(),c(e,"class","req-icon svelte-n0u9b4"),c(e,"title",l="Endorsement: "+t[0].requiredEndorsement)},m(a,o){A(a,e,o),r.m(e,null)},p(a,o){i===(i=n(a))&&r?r.p(a,o):(r.d(1),r=i(a),r&&(r.c(),r.m(e,null))),o&1&&l!==(l="Endorsement: "+a[0].requiredEndorsement)&&c(e,"title",l)},d(a){a&&M(e),r.d()}}}function Gs(t){let e=t[0].requiredEndorsement.substring(0,3).toUpperCase()+"",l;return{c(){l=L(e)},m(n,i){A(n,l,i)},p(n,i){i&1&&e!==(e=n[0].requiredEndorsement.substring(0,3).toUpperCase()+"")&&E(l,e)},d(n){n&&M(l)}}}function Ks(t){let e;return{c(){e=L("HAZ")},m(l,n){A(l,e,n)},p:X,d(l){l&&M(e)}}}function Js(t){let e;return{c(){e=L("TKR")},m(l,n){A(l,e,n)},p:X,d(l){l&&M(e)}}}function Ol(t){let e,l,n;return{c(){e=d("span"),l=L("CERT"),c(e,"class","req-icon svelte-n0u9b4"),c(e,"title",n="Cert: "+t[0].requiredCertification)},m(i,r){A(i,e,r),s(e,l)},p(i,r){r&1&&n!==(n="Cert: "+i[0].requiredCertification)&&c(e,"title",n)},d(i){i&&M(e)}}}function Hl(t){let e,l=t[2]?"▲":"▼",n;return{c(){e=d("span"),n=L(l),c(e,"class","expand-indicator svelte-n0u9b4")},m(i,r){A(i,e,r),s(e,n)},p(i,r){r&4&&l!==(l=i[2]?"▲":"▼")&&E(n,l)},d(i){i&&M(e)}}}function Wl(t){var st;let e,l,n,i,r,a,o=(t[0].shipperName||"—")+"",u,f,p,v,_,g,b=t[0].weightLbs?t[0].weightLbs.toLocaleString()+" lbs":"—",h,T,y,C,w,k,D=(t[0].requiredVehicleType||"Any")+"",q,S,$,P,O,j,H=(t[0].requiredLicense==="none"?"None":(st=t[0].requiredLicense)==null?void 0:st.toUpperCase())+"",V,F,z,N,Q,I,x,re=Zt(t[0].depositAmount)+"",le,se,ee,W,Z,J,te,ie,Se,ce=t[0].requiredCertification&&Vl(t),oe=t[0].payoutBreakdown&&Ql(t);function _e(ue,de){return ue[4]?Ys:Xs}let Ie=_e(t),Te=Ie(t);return{c(){e=d("div"),l=d("div"),n=d("div"),i=d("span"),i.textContent="Shipper",r=m(),a=d("span"),u=L(o),f=m(),p=d("div"),v=d("span"),v.textContent="Weight",_=m(),g=d("span"),h=L(b),T=m(),y=d("div"),C=d("span"),C.textContent="Vehicle Type",w=m(),k=d("span"),q=L(D),S=m(),$=d("div"),P=d("span"),P.textContent="License",O=m(),j=d("span"),V=L(H),F=m(),ce&&ce.c(),z=m(),N=d("div"),Q=d("span"),Q.textContent="Deposit",I=m(),x=d("span"),le=L(re),se=m(),oe&&oe.c(),ee=m(),W=d("div"),Z=d("button"),Z.textContent="View Details",J=m(),Te.c(),c(i,"class","detail-label svelte-n0u9b4"),c(a,"class","detail-value svelte-n0u9b4"),c(n,"class","detail-item svelte-n0u9b4"),c(v,"class","detail-label svelte-n0u9b4"),c(g,"class","detail-value mono svelte-n0u9b4"),c(p,"class","detail-item svelte-n0u9b4"),c(C,"class","detail-label svelte-n0u9b4"),c(k,"class","detail-value svelte-n0u9b4"),c(y,"class","detail-item svelte-n0u9b4"),c(P,"class","detail-label svelte-n0u9b4"),c(j,"class","detail-value svelte-n0u9b4"),c($,"class","detail-item svelte-n0u9b4"),c(Q,"class","detail-label svelte-n0u9b4"),c(x,"class","detail-value mono svelte-n0u9b4"),c(N,"class","detail-item svelte-n0u9b4"),c(l,"class","detail-grid svelte-n0u9b4"),c(Z,"class","btn btn-secondary btn-sm"),c(W,"class","card-actions svelte-n0u9b4"),c(e,"class","card-expanded-body fade-in svelte-n0u9b4")},m(ue,de){A(ue,e,de),s(e,l),s(l,n),s(n,i),s(n,r),s(n,a),s(a,u),s(l,f),s(l,p),s(p,v),s(p,_),s(p,g),s(g,h),s(l,T),s(l,y),s(y,C),s(y,w),s(y,k),s(k,q),s(l,S),s(l,$),s($,P),s($,O),s($,j),s(j,V),s(l,F),ce&&ce.m(l,null),s(l,z),s(l,N),s(N,Q),s(N,I),s(N,x),s(x,le),s(e,se),oe&&oe.m(e,null),s(e,ee),s(e,W),s(W,Z),s(W,J),Te.m(W,null),te=!0,ie||(Se=ne(Z,"click",Dt(t[7])),ie=!0)},p(ue,de){var Re;(!te||de&1)&&o!==(o=(ue[0].shipperName||"—")+"")&&E(u,o),(!te||de&1)&&b!==(b=ue[0].weightLbs?ue[0].weightLbs.toLocaleString()+" lbs":"—")&&E(h,b),(!te||de&1)&&D!==(D=(ue[0].requiredVehicleType||"Any")+"")&&E(q,D),(!te||de&1)&&H!==(H=(ue[0].requiredLicense==="none"?"None":(Re=ue[0].requiredLicense)==null?void 0:Re.toUpperCase())+"")&&E(V,H),ue[0].requiredCertification?ce?ce.p(ue,de):(ce=Vl(ue),ce.c(),ce.m(l,z)):ce&&(ce.d(1),ce=null),(!te||de&1)&&re!==(re=Zt(ue[0].depositAmount)+"")&&E(le,re),ue[0].payoutBreakdown?oe?(oe.p(ue,de),de&1&&B(oe,1)):(oe=Ql(ue),oe.c(),B(oe,1),oe.m(e,ee)):oe&&(we(),R(oe,1,1,()=>{oe=null}),Ce()),Ie===(Ie=_e(ue))&&Te?Te.p(ue,de):(Te.d(1),Te=Ie(ue),Te&&(Te.c(),Te.m(W,null)))},i(ue){te||(B(oe),te=!0)},o(ue){R(oe),te=!1},d(ue){ue&&M(e),ce&&ce.d(),oe&&oe.d(),Te.d(),ie=!1,Se()}}}function Vl(t){let e,l,n,i,r=t[0].requiredCertification+"",a;return{c(){e=d("div"),l=d("span"),l.textContent="Certification",n=m(),i=d("span"),a=L(r),c(l,"class","detail-label svelte-n0u9b4"),c(i,"class","detail-value svelte-n0u9b4"),c(e,"class","detail-item svelte-n0u9b4")},m(o,u){A(o,e,u),s(e,l),s(e,n),s(e,i),s(i,a)},p(o,u){u&1&&r!==(r=o[0].requiredCertification+"")&&E(a,r)},d(o){o&&M(e)}}}function Ql(t){let e,l;return e=new cl({props:{breakdown:t[0].payoutBreakdown}}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p(n,i){const r={};i&1&&(r.breakdown=n[0].payoutBreakdown),e.$set(r)},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Xs(t){let e,l,n;return{c(){e=d("button"),e.textContent="Reserve (3:00)",c(e,"class","btn btn-primary btn-sm")},m(i,r){A(i,e,r),l||(n=ne(e,"click",Dt(t[8])),l=!0)},p:X,d(i){i&&M(e),l=!1,n()}}}function Ys(t){let e,l,n;return{c(){e=d("button"),e.textContent="Accept Load",c(e,"class","btn btn-primary btn-sm")},m(i,r){A(i,e,r),l||(n=ne(e,"click",Dt(t[9])),l=!0)},p:X,d(i){i&&M(e),l=!1,n()}}}function xs(t){let e,l,n,i,r,a,o,u=(t[0].cargoType||"Cargo")+"",f,p,v,_,g,b,h=Zt(t[0].basePayout||t[0].basePayoutRental)+"",T,y,C,w,k=(t[0].originLabel||"—")+"",D,q,S,$,P=(t[0].destinationLabel||"—")+"",O,j,H,V=Zl(t[0].distanceMiles)+"",F,z,N,Q,I,x,re;r=new Xt({props:{tier:t[0].tier,size:"small"}});let le=t[0].cargoSubtype&&Rl(t),se=t[3]&&zl(t),ee=t[5]&&Fl(t),W=t[1]&&Hl(t),Z=t[2]&&Wl(t);return{c(){e=d("div"),l=d("button"),n=d("div"),i=d("div"),Le(r.$$.fragment),a=m(),o=d("span"),f=L(u),p=m(),le&&le.c(),v=m(),_=d("div"),se&&se.c(),g=m(),b=d("span"),T=L(h),y=m(),C=d("div"),w=d("span"),D=L(k),q=m(),S=d("span"),S.textContent="→",$=m(),O=L(P),j=m(),H=d("span"),F=L(V),z=m(),ee&&ee.c(),N=m(),W&&W.c(),Q=m(),Z&&Z.c(),c(o,"class","cargo-type svelte-n0u9b4"),c(i,"class","card-left svelte-n0u9b4"),c(b,"class","payout-figure mono svelte-n0u9b4"),c(_,"class","card-right svelte-n0u9b4"),c(n,"class","card-row-top svelte-n0u9b4"),c(S,"class","route-arrow svelte-n0u9b4"),c(w,"class","route-text text-muted svelte-n0u9b4"),c(H,"class","distance mono text-muted svelte-n0u9b4"),c(C,"class","card-row-route svelte-n0u9b4"),c(l,"class","card-main svelte-n0u9b4"),c(e,"class","load-card svelte-n0u9b4"),G(e,"surge-active",t[3]),G(e,"card-expanded",t[2])},m(J,te){A(J,e,te),s(e,l),s(l,n),s(n,i),ke(r,i,null),s(i,a),s(i,o),s(o,f),s(i,p),le&&le.m(i,null),s(n,v),s(n,_),se&&se.m(_,null),s(_,g),s(_,b),s(b,T),s(l,y),s(l,C),s(C,w),s(w,D),s(w,q),s(w,S),s(w,$),s(w,O),s(C,j),s(C,H),s(H,F),s(l,z),ee&&ee.m(l,null),s(l,N),W&&W.m(l,null),s(e,Q),Z&&Z.m(e,null),I=!0,x||(re=ne(l,"click",t[6]),x=!0)},p(J,[te]){const ie={};te&1&&(ie.tier=J[0].tier),r.$set(ie),(!I||te&1)&&u!==(u=(J[0].cargoType||"Cargo")+"")&&E(f,u),J[0].cargoSubtype?le?le.p(J,te):(le=Rl(J),le.c(),le.m(i,null)):le&&(le.d(1),le=null),J[3]?se?se.p(J,te):(se=zl(J),se.c(),se.m(_,g)):se&&(se.d(1),se=null),(!I||te&1)&&h!==(h=Zt(J[0].basePayout||J[0].basePayoutRental)+"")&&E(T,h),(!I||te&1)&&k!==(k=(J[0].originLabel||"—")+"")&&E(D,k),(!I||te&1)&&P!==(P=(J[0].destinationLabel||"—")+"")&&E(O,P),(!I||te&1)&&V!==(V=Zl(J[0].distanceMiles)+"")&&E(F,V),J[5]?ee?ee.p(J,te):(ee=Fl(J),ee.c(),ee.m(l,N)):ee&&(ee.d(1),ee=null),J[1]?W?W.p(J,te):(W=Hl(J),W.c(),W.m(l,null)):W&&(W.d(1),W=null),J[2]?Z?(Z.p(J,te),te&4&&B(Z,1)):(Z=Wl(J),Z.c(),B(Z,1),Z.m(e,null)):Z&&(we(),R(Z,1,1,()=>{Z=null}),Ce()),(!I||te&8)&&G(e,"surge-active",J[3]),(!I||te&4)&&G(e,"card-expanded",J[2])},i(J){I||(B(r.$$.fragment,J),B(Z),I=!0)},o(J){R(r.$$.fragment,J),R(Z),I=!1},d(J){J&&M(e),ye(r),le&&le.d(),se&&se.d(),ee&&ee.d(),W&&W.d(),Z&&Z.d(),x=!1,re()}}}function Zt(t){return t==null?"—":"$"+Number(t).toLocaleString("en-US")}function Zl(t){return t==null?"—":Number(t).toFixed(1)+" mi"}function ei(t,e,l){let n,i,r,{load:a={}}=e,{expandable:o=!0}=e;const u=Bt();let f=!1;function p(){o&&l(2,f=!f)}function v(){u("viewDetail",{load:a})}function _(){u("reserve",{load:a})}function g(){u("accept",{load:a})}return t.$$set=b=>{"load"in b&&l(0,a=b.load),"expandable"in b&&l(1,o=b.expandable)},t.$$.update=()=>{t.$$.dirty&1&&l(5,n=a.requiredLicense!=="none"||a.requiredEndorsement||a.requiredCertification),t.$$.dirty&1&&l(4,i=a.boardStatus==="reserved"),t.$$.dirty&1&&l(3,r=a.surgeActive)},[a,o,f,r,i,n,p,v,_,g]}class ti extends Ye{constructor(e){super(),Xe(this,e,ei,xs,Je,{load:0,expandable:1})}}function Gl(t,e,l){const n=t.slice();return n[27]=e[l],n}function Kl(t,e,l){const n=t.slice();return n[30]=e[l],n[32]=l,n}function Jl(t,e,l){const n=t.slice();return n[33]=e[l],n}function Xl(t,e,l){const n=t.slice();return n[33]=e[l],n}function Yl(t,e,l){const n=t.slice();return n[38]=e[l],n}function xl(t){let e,l,n,i,r,a,o,u,f,p,v,_,g,b,h,T,y,C,w=t[8]&&en(t);const k=[ni,li],D=[];function q(S,$){return S[7].length===0?0:1}return b=q(t),h=D[b]=k[b](t),{c(){e=d("div"),l=d("div"),n=d("label"),n.textContent="Tier",i=m(),r=d("select"),a=d("option"),a.textContent="All Tiers",o=d("option"),o.textContent="T0 — Entry",u=d("option"),u.textContent="T1 — Standard",f=d("option"),f.textContent="T2 — Specialized",p=d("option"),p.textContent="T3 — Premium",v=m(),w&&w.c(),_=m(),g=d("div"),h.c(),c(n,"class","filter-label svelte-t5sfgo"),c(n,"for","tier-filter"),a.__value="all",gt(a,a.__value),c(a,"class","svelte-t5sfgo"),o.__value="0",gt(o,o.__value),c(o,"class","svelte-t5sfgo"),u.__value="1",gt(u,u.__value),c(u,"class","svelte-t5sfgo"),f.__value="2",gt(f,f.__value),c(f,"class","svelte-t5sfgo"),p.__value="3",gt(p,p.__value),c(p,"class","svelte-t5sfgo"),c(r,"id","tier-filter"),c(r,"class","filter-select svelte-t5sfgo"),t[0]===void 0&&Ft(()=>t[21].call(r)),c(l,"class","filter-group svelte-t5sfgo"),c(e,"class","board-filters svelte-t5sfgo"),c(g,"class","load-list svelte-t5sfgo")},m(S,$){A(S,e,$),s(e,l),s(l,n),s(l,i),s(l,r),s(r,a),s(r,o),s(r,u),s(r,f),s(r,p),Wt(r,t[0],!0),s(e,v),w&&w.m(e,null),A(S,_,$),A(S,g,$),D[b].m(g,null),T=!0,y||(C=ne(r,"change",t[21]),y=!0)},p(S,$){$[0]&1&&Wt(r,S[0]),S[8]?w?w.p(S,$):(w=en(S),w.c(),w.m(e,null)):w&&(w.d(1),w=null);let P=b;b=q(S),b===P?D[b].p(S,$):(we(),R(D[P],1,1,()=>{D[P]=null}),Ce(),h=D[b],h?h.p(S,$):(h=D[b]=k[b](S),h.c()),B(h,1),h.m(g,null))},i(S){T||(B(h),T=!0)},o(S){R(h),T=!1},d(S){S&&(M(e),M(_),M(g)),w&&w.d(),D[b].d(),y=!1,C()}}}function en(t){let e,l,n,i,r,a,o,u,f,p,v;return{c(){e=d("div"),l=d("label"),l.textContent="Region",n=m(),i=d("select"),r=d("option"),r.textContent="All Regions",a=d("option"),a.textContent="Chicago (LS)",o=d("option"),o.textContent="Gary (SS)",u=d("option"),u.textContent="Wisconsin (Paleto)",f=d("option"),f.textContent="W. Michigan (GS)",c(l,"class","filter-label svelte-t5sfgo"),c(l,"for","region-filter"),r.__value="all",gt(r,r.__value),c(r,"class","svelte-t5sfgo"),a.__value="los_santos",gt(a,a.__value),c(a,"class","svelte-t5sfgo"),o.__value="sandy_shores",gt(o,o.__value),c(o,"class","svelte-t5sfgo"),u.__value="paleto",gt(u,u.__value),c(u,"class","svelte-t5sfgo"),f.__value="grapeseed",gt(f,f.__value),c(f,"class","svelte-t5sfgo"),c(i,"id","region-filter"),c(i,"class","filter-select svelte-t5sfgo"),t[1]===void 0&&Ft(()=>t[22].call(i)),c(e,"class","filter-group svelte-t5sfgo")},m(_,g){A(_,e,g),s(e,l),s(e,n),s(e,i),s(i,r),s(i,a),s(i,o),s(i,u),s(i,f),Wt(i,t[1],!0),p||(v=ne(i,"change",t[22]),p=!0)},p(_,g){g[0]&2&&Wt(i,_[1])},d(_){_&&M(e),p=!1,v()}}}function li(t){let e=[],l=new Map,n,i,r=pe(t[7]);const a=o=>o[38].id;for(let o=0;o<r.length;o+=1){let u=Yl(t,r,o),f=a(u);l.set(f,e[o]=tn(f,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Tt()},m(o,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,u);A(o,n,u),i=!0},p(o,u){u[0]&14464&&(r=pe(o[7]),we(),e=Ut(e,u,a,1,o,r,l,n.parentNode,Jt,tn,n,Yl),Ce())},i(o){if(!i){for(let u=0;u<r.length;u+=1)B(e[u]);i=!0}},o(o){for(let u=0;u<e.length;u+=1)R(e[u]);i=!1},d(o){o&&M(n);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function ni(t){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No loads available matching your filters.</span>',c(e,"class","empty-state svelte-t5sfgo")},m(l,n){A(l,e,n)},p:X,i:X,o:X,d(l){l&&M(e)}}}function tn(t,e){let l,n,i;return n=new ti({props:{load:e[38]}}),n.$on("viewDetail",e[11]),n.$on("reserve",e[12]),n.$on("accept",e[13]),{key:t,first:null,c(){l=Tt(),Le(n.$$.fragment),this.first=l},m(r,a){A(r,l,a),ke(n,r,a),i=!0},p(r,a){e=r;const o={};a[0]&128&&(o.load=e[38]),n.$set(o)},i(r){i||(B(n.$$.fragment,r),i=!0)},o(r){R(n.$$.fragment,r),i=!1},d(r){r&&M(l),ye(n,r)}}}function ln(t){let e,l,n,i;const r=[ii,si],a=[];function o(u,f){return(u[2].supplier||[]).length===0?0:1}return l=o(t),n=a[l]=r[l](t),{c(){e=d("div"),n.c(),c(e,"class","load-list svelte-t5sfgo")},m(u,f){A(u,e,f),a[l].m(e,null),i=!0},p(u,f){let p=l;l=o(u),l===p?a[l].p(u,f):(we(),R(a[p],1,1,()=>{a[p]=null}),Ce(),n=a[l],n?n.p(u,f):(n=a[l]=r[l](u),n.c()),B(n,1),n.m(e,null))},i(u){i||(B(n),i=!0)},o(u){R(n),i=!1},d(u){u&&M(e),a[l].d()}}}function si(t){let e=[],l=new Map,n,i,r=pe(t[2].supplier);const a=o=>o[33].id;for(let o=0;o<r.length;o+=1){let u=Xl(t,r,o),f=a(u);l.set(f,e[o]=an(f,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Tt()},m(o,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,u);A(o,n,u),i=!0},p(o,u){u[0]&4&&(r=pe(o[2].supplier),we(),e=Ut(e,u,a,1,o,r,l,n.parentNode,Jt,an,n,Xl),Ce())},i(o){if(!i){for(let u=0;u<r.length;u+=1)B(e[u]);i=!0}},o(o){for(let u=0;u<e.length;u+=1)R(e[u]);i=!1},d(o){o&&M(n);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function ii(t){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No supplier contracts available.</span>',c(e,"class","empty-state svelte-t5sfgo")},m(l,n){A(l,e,n)},p:X,i:X,o:X,d(l){l&&M(e)}}}function nn(t){let e,l,n,i,r=new Date(t[33].deadline*1e3).toLocaleString()+"",a;return{c(){e=d("div"),l=d("span"),l.textContent="Deadline",n=m(),i=d("span"),a=L(r),c(l,"class","detail-label svelte-t5sfgo"),c(i,"class","detail-value mono svelte-t5sfgo"),c(e,"class","detail-row svelte-t5sfgo")},m(o,u){A(o,e,u),s(e,l),s(e,n),s(e,i),s(i,a)},p(o,u){u[0]&4&&r!==(r=new Date(o[33].deadline*1e3).toLocaleString()+"")&&E(a,r)},d(o){o&&M(e)}}}function sn(t){let e,l;return{c(){e=d("div"),l=d("div"),c(l,"class","progress-bar-fill svelte-t5sfgo"),Oe(l,"width",Math.min(100,(t[33].quantity||0)/t[33].quantityRequired*100)+"%"),c(e,"class","progress-bar-container svelte-t5sfgo")},m(n,i){A(n,e,i),s(e,l)},p(n,i){i[0]&4&&Oe(l,"width",Math.min(100,(n[33].quantity||0)/n[33].quantityRequired*100)+"%")},d(n){n&&M(e)}}}function an(t,e){let l,n,i,r=(e[33].supplierName||"Supplier")+"",a,o,u,f,p,v,_,g,b,h,T=(e[33].itemRequired||"—")+"",y,C,w,k,D,q,S=(e[33].quantity||0)+"",$,P,O=(e[33].quantityRequired||0)+"",j,H,V,F,z,N,Q=Lt(e[33].payout)+"",I,x,re,le,se;u=new kt({props:{status:e[33].status||"active"}});let ee=e[33].deadline&&nn(e),W=e[33].quantityRequired&&sn(e);return{key:t,first:null,c(){l=d("div"),n=d("div"),i=d("h4"),a=L(r),o=m(),Le(u.$$.fragment),f=m(),p=d("div"),v=d("div"),_=d("div"),g=d("span"),g.textContent="Items Required",b=m(),h=d("span"),y=L(T),C=m(),w=d("div"),k=d("span"),k.textContent="Quantity",D=m(),q=d("span"),$=L(S),P=L(" / "),j=L(O),H=m(),V=d("div"),F=d("span"),F.textContent="Payout",z=m(),N=d("span"),I=L(Q),x=m(),ee&&ee.c(),re=m(),W&&W.c(),le=m(),c(i,"class","supplier-name svelte-t5sfgo"),c(n,"class","card-header"),c(g,"class","detail-label svelte-t5sfgo"),c(h,"class","detail-value svelte-t5sfgo"),c(_,"class","detail-row svelte-t5sfgo"),c(k,"class","detail-label svelte-t5sfgo"),c(q,"class","detail-value mono svelte-t5sfgo"),c(w,"class","detail-row svelte-t5sfgo"),c(F,"class","detail-label svelte-t5sfgo"),c(N,"class","detail-value mono payout-figure svelte-t5sfgo"),c(V,"class","detail-row svelte-t5sfgo"),c(v,"class","supplier-details svelte-t5sfgo"),c(p,"class","card-body"),c(l,"class","card supplier-card"),this.first=l},m(Z,J){A(Z,l,J),s(l,n),s(n,i),s(i,a),s(n,o),ke(u,n,null),s(l,f),s(l,p),s(p,v),s(v,_),s(_,g),s(_,b),s(_,h),s(h,y),s(v,C),s(v,w),s(w,k),s(w,D),s(w,q),s(q,$),s(q,P),s(q,j),s(v,H),s(v,V),s(V,F),s(V,z),s(V,N),s(N,I),s(v,x),ee&&ee.m(v,null),s(p,re),W&&W.m(p,null),s(l,le),se=!0},p(Z,J){e=Z,(!se||J[0]&4)&&r!==(r=(e[33].supplierName||"Supplier")+"")&&E(a,r);const te={};J[0]&4&&(te.status=e[33].status||"active"),u.$set(te),(!se||J[0]&4)&&T!==(T=(e[33].itemRequired||"—")+"")&&E(y,T),(!se||J[0]&4)&&S!==(S=(e[33].quantity||0)+"")&&E($,S),(!se||J[0]&4)&&O!==(O=(e[33].quantityRequired||0)+"")&&E(j,O),(!se||J[0]&4)&&Q!==(Q=Lt(e[33].payout)+"")&&E(I,Q),e[33].deadline?ee?ee.p(e,J):(ee=nn(e),ee.c(),ee.m(v,null)):ee&&(ee.d(1),ee=null),e[33].quantityRequired?W?W.p(e,J):(W=sn(e),W.c(),W.m(p,null)):W&&(W.d(1),W=null)},i(Z){se||(B(u.$$.fragment,Z),se=!0)},o(Z){R(u.$$.fragment,Z),se=!1},d(Z){Z&&M(l),ye(u),ee&&ee.d(),W&&W.d()}}}function on(t){let e,l,n,i;const r=[oi,ai],a=[];function o(u,f){return(u[2].open||[]).length===0?0:1}return l=o(t),n=a[l]=r[l](t),{c(){e=d("div"),n.c(),c(e,"class","load-list svelte-t5sfgo")},m(u,f){A(u,e,f),a[l].m(e,null),i=!0},p(u,f){let p=l;l=o(u),l===p?a[l].p(u,f):(we(),R(a[p],1,1,()=>{a[p]=null}),Ce(),n=a[l],n?n.p(u,f):(n=a[l]=r[l](u),n.c()),B(n,1),n.m(e,null))},i(u){i||(B(n),i=!0)},o(u){R(n),i=!1},d(u){u&&M(e),a[l].d()}}}function ai(t){let e=[],l=new Map,n,i,r=pe(t[2].open);const a=o=>o[33].id;for(let o=0;o<r.length;o+=1){let u=Jl(t,r,o),f=a(u);l.set(f,e[o]=un(f,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Tt()},m(o,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,u);A(o,n,u),i=!0},p(o,u){u[0]&4&&(r=pe(o[2].open),we(),e=Ut(e,u,a,1,o,r,l,n.parentNode,Jt,un,n,Jl),Ce())},i(o){if(!i){for(let u=0;u<r.length;u+=1)B(e[u]);i=!0}},o(o){for(let u=0;u<e.length;u+=1)R(e[u]);i=!1},d(o){o&&M(n);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function oi(t){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No open contracts available.</span>',c(e,"class","empty-state svelte-t5sfgo")},m(l,n){A(l,e,n)},p:X,i:X,o:X,d(l){l&&M(e)}}}function rn(t){let e,l;return{c(){e=d("div"),l=d("div"),c(l,"class","progress-bar-fill svelte-t5sfgo"),Oe(l,"width",Math.min(100,(t[33].currentProgress||0)/t[33].targetProgress*100)+"%"),c(e,"class","progress-bar-container svelte-t5sfgo")},m(n,i){A(n,e,i),s(e,l)},p(n,i){i[0]&4&&Oe(l,"width",Math.min(100,(n[33].currentProgress||0)/n[33].targetProgress*100)+"%")},d(n){n&&M(e)}}}function un(t,e){let l,n,i,r=(e[33].title||"Open Contract")+"",a,o,u,f,p,v,_=(e[33].description||"")+"",g,b,h,T,y,C,w=(e[33].currentProgress||0)+"",k,D,q=(e[33].targetProgress||0)+"",S,$,P,O,j,H,V=Lt(e[33].payoutPerUnit)+"",F,z,N,Q;u=new kt({props:{status:e[33].status||"active"}});let I=e[33].targetProgress&&rn(e);return{key:t,first:null,c(){l=d("div"),n=d("div"),i=d("h4"),a=L(r),o=m(),Le(u.$$.fragment),f=m(),p=d("div"),v=d("p"),g=L(_),b=m(),h=d("div"),T=d("span"),T.textContent="Progress",y=m(),C=d("span"),k=L(w),D=L(" / "),S=L(q),$=m(),P=d("div"),O=d("span"),O.textContent="Payout per Unit",j=m(),H=d("span"),F=L(V),z=m(),I&&I.c(),N=m(),c(i,"class","contract-title svelte-t5sfgo"),c(n,"class","card-header"),c(v,"class","contract-desc text-muted svelte-t5sfgo"),c(T,"class","detail-label svelte-t5sfgo"),c(C,"class","detail-value mono svelte-t5sfgo"),c(h,"class","detail-row svelte-t5sfgo"),c(O,"class","detail-label svelte-t5sfgo"),c(H,"class","detail-value mono payout-figure svelte-t5sfgo"),c(P,"class","detail-row svelte-t5sfgo"),c(p,"class","card-body"),c(l,"class","card open-card"),this.first=l},m(x,re){A(x,l,re),s(l,n),s(n,i),s(i,a),s(n,o),ke(u,n,null),s(l,f),s(l,p),s(p,v),s(v,g),s(p,b),s(p,h),s(h,T),s(h,y),s(h,C),s(C,k),s(C,D),s(C,S),s(p,$),s(p,P),s(P,O),s(P,j),s(P,H),s(H,F),s(p,z),I&&I.m(p,null),s(l,N),Q=!0},p(x,re){e=x,(!Q||re[0]&4)&&r!==(r=(e[33].title||"Open Contract")+"")&&E(a,r);const le={};re[0]&4&&(le.status=e[33].status||"active"),u.$set(le),(!Q||re[0]&4)&&_!==(_=(e[33].description||"")+"")&&E(g,_),(!Q||re[0]&4)&&w!==(w=(e[33].currentProgress||0)+"")&&E(k,w),(!Q||re[0]&4)&&q!==(q=(e[33].targetProgress||0)+"")&&E(S,q),(!Q||re[0]&4)&&V!==(V=Lt(e[33].payoutPerUnit)+"")&&E(F,V),e[33].targetProgress?I?I.p(e,re):(I=rn(e),I.c(),I.m(p,null)):I&&(I.d(1),I=null)},i(x){Q||(B(u.$$.fragment,x),Q=!0)},o(x){R(u.$$.fragment,x),Q=!1},d(x){x&&M(l),ye(u),I&&I.d()}}}function cn(t){let e,l,n,i;const r=[ui,ri],a=[];function o(u,f){return(u[2].routes||[]).length===0?0:1}return l=o(t),n=a[l]=r[l](t),{c(){e=d("div"),n.c(),c(e,"class","load-list svelte-t5sfgo")},m(u,f){A(u,e,f),a[l].m(e,null),i=!0},p(u,f){let p=l;l=o(u),l===p?a[l].p(u,f):(we(),R(a[p],1,1,()=>{a[p]=null}),Ce(),n=a[l],n?n.p(u,f):(n=a[l]=r[l](u),n.c()),B(n,1),n.m(e,null))},i(u){i||(B(n),i=!0)},o(u){R(n),i=!1},d(u){u&&M(e),a[l].d()}}}function ri(t){let e=[],l=new Map,n,i,r=pe(t[2].routes);const a=o=>o[27].id;for(let o=0;o<r.length;o+=1){let u=Gl(t,r,o),f=a(u);l.set(f,e[o]=vn(f,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Tt()},m(o,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,u);A(o,n,u),i=!0},p(o,u){u[0]&1028&&(r=pe(o[2].routes),we(),e=Ut(e,u,a,1,o,r,l,n.parentNode,Jt,vn,n,Gl),Ce())},i(o){if(!i){for(let u=0;u<r.length;u+=1)B(e[u]);i=!0}},o(o){for(let u=0;u<e.length;u+=1)R(e[u]);i=!1},d(o){o&&M(n);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function ui(t){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No multi-stop routes available.</span>',c(e,"class","empty-state svelte-t5sfgo")},m(l,n){A(l,e,n)},p:X,i:X,o:X,d(l){l&&M(e)}}}function fn(t){let e;return{c(){e=d("span"),e.textContent="✓",c(e,"class","stop-check text-success svelte-t5sfgo")},m(l,n){A(l,e,n)},d(l){l&&M(e)}}}function dn(t){let e,l,n,i,r=(t[30].label||"Stop")+"",a,o,u,f=t[30].completed&&fn();return{c(){e=d("div"),l=d("span"),l.textContent=`${t[32]+1}`,n=m(),i=d("span"),a=L(r),o=m(),f&&f.c(),u=m(),c(l,"class","stop-number mono svelte-t5sfgo"),c(i,"class","stop-label svelte-t5sfgo"),c(e,"class","route-stop svelte-t5sfgo"),G(e,"stop-completed",t[30].completed)},m(p,v){A(p,e,v),s(e,l),s(e,n),s(e,i),s(i,a),s(e,o),f&&f.m(e,null),s(e,u)},p(p,v){v[0]&4&&r!==(r=(p[30].label||"Stop")+"")&&E(a,r),p[30].completed?f||(f=fn(),f.c(),f.m(e,u)):f&&(f.d(1),f=null),v[0]&4&&G(e,"stop-completed",p[30].completed)},d(p){p&&M(e),f&&f.d()}}}function pn(t){let e,l,n,i,r,a=t[27].premium+"",o,u;return{c(){e=d("div"),l=d("span"),l.textContent="Route Premium",n=m(),i=d("span"),r=L("+"),o=L(a),u=L("%"),c(l,"class","detail-label svelte-t5sfgo"),c(i,"class","detail-value mono text-orange svelte-t5sfgo"),c(e,"class","detail-row svelte-t5sfgo")},m(f,p){A(f,e,p),s(e,l),s(e,n),s(e,i),s(i,r),s(i,o),s(i,u)},p(f,p){p[0]&4&&a!==(a=f[27].premium+"")&&E(o,a)},d(f){f&&M(e)}}}function vn(t,e){var te;let l,n,i,r,a,o,u=(e[27].name||"Route")+"",f,p,v,_=Lt(e[27].totalPayout)+"",g,b,h,T,y,C,w,k,D,q,S=mn(e[27].totalDistance)+"",$,P,O,j,H,V,F=(((te=e[27].stops)==null?void 0:te.length)||0)+"",z,N,Q,I,x,re,le,se;r=new Xt({props:{tier:e[27].tier||2,size:"small"}});let ee=pe(e[27].stops||[]),W=[];for(let ie=0;ie<ee.length;ie+=1)W[ie]=dn(Kl(e,ee,ie));let Z=e[27].premium&&pn(e);function J(){return e[23](e[27])}return{key:t,first:null,c(){l=d("div"),n=d("div"),i=d("div"),Le(r.$$.fragment),a=m(),o=d("h4"),f=L(u),p=m(),v=d("span"),g=L(_),b=m(),h=d("div"),T=d("div");for(let ie=0;ie<W.length;ie+=1)W[ie].c();y=m(),C=d("div"),w=d("div"),k=d("span"),k.textContent="Total Distance",D=m(),q=d("span"),$=L(S),P=m(),O=d("div"),j=d("span"),j.textContent="Stops",H=m(),V=d("span"),z=L(F),N=m(),Z&&Z.c(),Q=m(),I=d("button"),I.textContent="View Route Details",x=m(),c(o,"class","route-name svelte-t5sfgo"),c(i,"class","route-header-left svelte-t5sfgo"),c(v,"class","payout-figure mono svelte-t5sfgo"),c(n,"class","card-header"),c(T,"class","route-stops svelte-t5sfgo"),c(k,"class","detail-label svelte-t5sfgo"),c(q,"class","detail-value mono svelte-t5sfgo"),c(w,"class","detail-row svelte-t5sfgo"),c(j,"class","detail-label svelte-t5sfgo"),c(V,"class","detail-value mono svelte-t5sfgo"),c(O,"class","detail-row svelte-t5sfgo"),c(C,"class","route-summary svelte-t5sfgo"),c(I,"class","btn btn-primary btn-sm"),c(h,"class","card-body"),c(l,"class","card route-card"),this.first=l},m(ie,Se){A(ie,l,Se),s(l,n),s(n,i),ke(r,i,null),s(i,a),s(i,o),s(o,f),s(n,p),s(n,v),s(v,g),s(l,b),s(l,h),s(h,T);for(let ce=0;ce<W.length;ce+=1)W[ce]&&W[ce].m(T,null);s(h,y),s(h,C),s(C,w),s(w,k),s(w,D),s(w,q),s(q,$),s(C,P),s(C,O),s(O,j),s(O,H),s(O,V),s(V,z),s(C,N),Z&&Z.m(C,null),s(h,Q),s(h,I),s(l,x),re=!0,le||(se=ne(I,"click",J),le=!0)},p(ie,Se){var oe;e=ie;const ce={};if(Se[0]&4&&(ce.tier=e[27].tier||2),r.$set(ce),(!re||Se[0]&4)&&u!==(u=(e[27].name||"Route")+"")&&E(f,u),(!re||Se[0]&4)&&_!==(_=Lt(e[27].totalPayout)+"")&&E(g,_),Se[0]&4){ee=pe(e[27].stops||[]);let _e;for(_e=0;_e<ee.length;_e+=1){const Ie=Kl(e,ee,_e);W[_e]?W[_e].p(Ie,Se):(W[_e]=dn(Ie),W[_e].c(),W[_e].m(T,null))}for(;_e<W.length;_e+=1)W[_e].d(1);W.length=ee.length}(!re||Se[0]&4)&&S!==(S=mn(e[27].totalDistance)+"")&&E($,S),(!re||Se[0]&4)&&F!==(F=(((oe=e[27].stops)==null?void 0:oe.length)||0)+"")&&E(z,F),e[27].premium?Z?Z.p(e,Se):(Z=pn(e),Z.c(),Z.m(C,null)):Z&&(Z.d(1),Z=null)},i(ie){re||(B(r.$$.fragment,ie),re=!0)},o(ie){R(r.$$.fragment,ie),re=!1},d(ie){ie&&M(l),ye(r),ft(W,ie),Z&&Z.d(),le=!1,se()}}}function _n(t){var C;let e,l,n,i,r,a,o,u=Lt((C=t[5])==null?void 0:C.depositAmount)+"",f,p,v,_,g,b,h,T,y;return{c(){e=d("div"),l=d("div"),n=d("h3"),n.textContent="Confirm Accept",i=m(),r=d("p"),a=L(`Accept this load? A deposit of
          `),o=d("span"),f=L(u),p=L(`
          will be placed.`),v=m(),_=d("div"),g=d("button"),g.textContent="Cancel",b=m(),h=d("button"),h.textContent="Accept Load",c(n,"class","svelte-t5sfgo"),c(o,"class","mono"),c(r,"class","text-muted svelte-t5sfgo"),c(g,"class","btn btn-secondary"),c(h,"class","btn btn-primary"),c(_,"class","dialog-actions svelte-t5sfgo"),c(l,"class","dialog-panel svelte-t5sfgo"),c(l,"role","document"),c(e,"class","dialog-overlay svelte-t5sfgo"),c(e,"role","dialog"),c(e,"tabindex","-1")},m(w,k){A(w,e,k),s(e,l),s(l,n),s(l,i),s(l,r),s(r,a),s(r,o),s(o,f),s(r,p),s(l,v),s(l,_),s(_,g),s(_,b),s(_,h),T||(y=[ne(g,"click",t[15]),ne(h,"click",t[14]),ne(l,"click",Dt(t[19])),ne(l,"keydown",Dt(t[20])),ne(e,"click",t[15]),ne(e,"keydown",t[24])],T=!0)},p(w,k){var D;k[0]&32&&u!==(u=Lt((D=w[5])==null?void 0:D.depositAmount)+"")&&E(f,u)},d(w){w&&M(e),T=!1,nt(y)}}}function ci(t){let e,l,n,i,r,a,o,u;l=new Ws({props:{tabs:t[6],activeTab:t[3]}}),l.$on("tabChange",t[9]);let f=t[3]==="standard"&&xl(t),p=t[3]==="supplier"&&ln(t),v=t[3]==="open"&&on(t),_=t[3]==="routes"&&cn(t),g=t[4]&&_n(t);return{c(){e=d("div"),Le(l.$$.fragment),n=m(),f&&f.c(),i=m(),p&&p.c(),r=m(),v&&v.c(),a=m(),_&&_.c(),o=m(),g&&g.c(),c(e,"class","board-screen svelte-t5sfgo")},m(b,h){A(b,e,h),ke(l,e,null),s(e,n),f&&f.m(e,null),s(e,i),p&&p.m(e,null),s(e,r),v&&v.m(e,null),s(e,a),_&&_.m(e,null),s(e,o),g&&g.m(e,null),u=!0},p(b,h){const T={};h[0]&64&&(T.tabs=b[6]),h[0]&8&&(T.activeTab=b[3]),l.$set(T),b[3]==="standard"?f?(f.p(b,h),h[0]&8&&B(f,1)):(f=xl(b),f.c(),B(f,1),f.m(e,i)):f&&(we(),R(f,1,1,()=>{f=null}),Ce()),b[3]==="supplier"?p?(p.p(b,h),h[0]&8&&B(p,1)):(p=ln(b),p.c(),B(p,1),p.m(e,r)):p&&(we(),R(p,1,1,()=>{p=null}),Ce()),b[3]==="open"?v?(v.p(b,h),h[0]&8&&B(v,1)):(v=on(b),v.c(),B(v,1),v.m(e,a)):v&&(we(),R(v,1,1,()=>{v=null}),Ce()),b[3]==="routes"?_?(_.p(b,h),h[0]&8&&B(_,1)):(_=cn(b),_.c(),B(_,1),_.m(e,o)):_&&(we(),R(_,1,1,()=>{_=null}),Ce()),b[4]?g?g.p(b,h):(g=_n(b),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(b){u||(B(l.$$.fragment,b),B(f),B(p),B(v),B(_),u=!0)},o(b){R(l.$$.fragment,b),R(f),R(p),R(v),R(_),u=!1},d(b){b&&M(e),ye(l),f&&f.d(),p&&p.d(),v&&v.d(),_&&_.d(),g&&g.d()}}}function Lt(t){return t==null?"$0":"$"+Number(t).toLocaleString("en-US")}function mn(t){return t==null?"—":Number(t).toFixed(1)+" mi"}function fi(t,e,l){let n,i,r,a,o,u,f;lt(t,It,F=>l(17,u=F)),lt(t,ul,F=>l(18,f=F));const p=Bt();let v="standard",_="all",g="all",b=!1,h=null;const T=[{id:"standard",label:"Standard"},{id:"supplier",label:"Supplier"},{id:"open",label:"Open"},{id:"routes",label:"Routes"}];function y(F){l(3,v=F.detail.tab)}function C(F,z=null){p("navigate",{screen:F,data:z})}function w(F){C("loadDetail",F.detail.load)}async function k(F){const z=F.detail.load;await ht("reserveLoad",{loadId:z.id})}function D(F){l(5,h=F.detail.load),l(4,b=!0)}async function q(){h&&await ht("acceptLoad",{loadId:h.id}),l(4,b=!1),l(5,h=null)}function S(){l(4,b=!1),l(5,h=null)}function $(F){Vt.call(this,t,F)}function P(F){Vt.call(this,t,F)}function O(){_=vl(this),l(0,_)}function j(){g=vl(this),l(1,g)}const H=F=>C("loadDetail",F),V=F=>F.key==="Escape"&&S();return t.$$.update=()=>{t.$$.dirty[0]&262144&&l(2,n=f),t.$$.dirty[0]&131072&&l(16,i=u),t.$$.dirty[0]&65536&&l(8,r=["professional","elite"].includes(i.reputationTier)),t.$$.dirty[0]&7&&l(7,a=(()=>{let F=n.standard||[];return _!=="all"&&(F=F.filter(z=>z.tier===Number(_))),g!=="all"&&(F=F.filter(z=>z.boardRegion===g)),F})()),t.$$.dirty[0]&4&&l(6,o=T.map(F=>({...F,count:F.id==="standard"?(n.standard||[]).length:F.id==="supplier"?(n.supplier||[]).length:F.id==="open"?(n.open||[]).length:F.id==="routes"?(n.routes||[]).length:0})))},[_,g,n,v,b,h,o,a,r,y,C,w,k,D,q,S,i,u,f,$,P,O,j,H,V]}class di extends Ye{constructor(e){super(),Xe(this,e,fi,ci,Je,{},null,[-1,-1])}}function bn(t,e,l){const n=t.slice();return n[10]=e[l],n}function gn(t,e,l){const n=t.slice();return n[13]=e[l],n[15]=l,n}function pi(t){let e,l,n,i,r,a;return{c(){e=d("div"),l=d("span"),l.textContent="No load selected.",n=m(),i=d("button"),i.textContent="Back to Board",c(l,"class","text-muted"),c(i,"class","btn btn-secondary"),c(e,"class","empty-state svelte-71s5ly")},m(o,u){A(o,e,u),s(e,l),s(e,n),s(e,i),r||(a=ne(i,"click",t[5]),r=!0)},p:X,i:X,o:X,d(o){o&&M(e),r=!1,a()}}}function vi(t){let e,l,n,i,r,a,o,u,f=(t[0].cargoType||"Cargo")+"",p,v,_,g,b,h,T,y,C,w,k,D,q,S=qn(t[0].distanceMiles)+"",$,P,O,j,H,V,F,z,N,Q,I=(t[0].cargoType||"—")+"",x,re,le,se,ee,W,Z=$n(t[0].weightLbs)+"",J,te,ie,Se,ce,oe,_e,Ie,Te=(t[0].shipperName||"—")+"",st,ue,de,Re,vt,it,He=(t[0].requiredVehicleType||"Any")+"",yt,_t,De,ze,Ze,Ge,mt,Be,We,Ke,Ve,xe,at=Gt(t[0].depositAmount)+"",$e,Ae,ot,Qe,rt,et,ut=t[0].deliveryWindowMinutes?t[0].deliveryWindowMinutes+" min":"—",Ne,wt,fe,pt,Ct,tt,Y=t[2]?"Accepting...":"Accept Load",me,be,ge,Pe,ve;a=new Xt({props:{tier:t[0].tier}});let Ee=t[0].cargoSubtype&&hn(t),he=t[0].surgeActive&&kn(t);function je(K,qe){return K[3]?mi:_i}let Fe=je(t),Me=Fe(t),U=t[0].tempMinF!=null&&t[0].tempMaxF!=null&&wn(t),ae=t[0].hazmatClass&&Cn(t);const bt=[gi,bi],ct=[];function Nt(K,qe){return K[0].payoutBreakdown?0:1}De=Nt(t),ze=ct[De]=bt[De](t);let Ue=t[1].length>0&&Tn(t);return{c(){e=d("div"),l=d("button"),l.innerHTML='<span class="back-arrow svelte-71s5ly">←</span> Back to Board',n=m(),i=d("div"),r=d("div"),Le(a.$$.fragment),o=m(),u=d("h2"),p=L(f),v=m(),Ee&&Ee.c(),_=m(),he&&he.c(),g=m(),b=d("div"),h=d("h3"),h.textContent="Route",T=m(),y=d("div"),Me.c(),C=m(),w=d("div"),k=d("span"),k.textContent="Total Distance:",D=m(),q=d("span"),$=L(S),P=m(),O=d("div"),j=d("h3"),j.textContent="Cargo Details",H=m(),V=d("div"),F=d("div"),z=d("span"),z.textContent="Type",N=m(),Q=d("span"),x=L(I),re=m(),le=d("div"),se=d("span"),se.textContent="Weight",ee=m(),W=d("span"),J=L(Z),te=m(),U&&U.c(),ie=m(),ae&&ae.c(),Se=m(),ce=d("div"),oe=d("span"),oe.textContent="Shipper",_e=m(),Ie=d("span"),st=L(Te),ue=m(),de=d("div"),Re=d("span"),Re.textContent="Vehicle Type",vt=m(),it=d("span"),yt=L(He),_t=m(),ze.c(),Ze=m(),Ue&&Ue.c(),Ge=m(),mt=d("div"),Be=d("div"),We=d("div"),Ke=d("span"),Ke.textContent="Deposit",Ve=m(),xe=d("span"),$e=L(at),Ae=m(),ot=d("div"),Qe=d("span"),Qe.textContent="Delivery Window",rt=m(),et=d("span"),Ne=L(ut),wt=m(),fe=d("div"),pt=d("button"),pt.textContent="Back",Ct=m(),tt=d("button"),me=L(Y),c(l,"class","back-btn svelte-71s5ly"),c(u,"class","cargo-title svelte-71s5ly"),c(r,"class","header-left svelte-71s5ly"),c(i,"class","detail-header svelte-71s5ly"),c(h,"class","card-title"),c(y,"class","route-display svelte-71s5ly"),c(k,"class","text-muted"),c(q,"class","mono"),c(w,"class","route-distance svelte-71s5ly"),c(b,"class","card route-card"),c(j,"class","card-title"),c(z,"class","detail-label svelte-71s5ly"),c(Q,"class","detail-value svelte-71s5ly"),c(F,"class","detail-item svelte-71s5ly"),c(se,"class","detail-label svelte-71s5ly"),c(W,"class","detail-value mono svelte-71s5ly"),c(le,"class","detail-item svelte-71s5ly"),c(oe,"class","detail-label svelte-71s5ly"),c(Ie,"class","detail-value svelte-71s5ly"),c(ce,"class","detail-item svelte-71s5ly"),c(Re,"class","detail-label svelte-71s5ly"),c(it,"class","detail-value svelte-71s5ly"),c(de,"class","detail-item svelte-71s5ly"),c(V,"class","detail-grid svelte-71s5ly"),c(O,"class","card cargo-card"),c(Ke,"class","detail-label svelte-71s5ly"),c(xe,"class","detail-value mono svelte-71s5ly"),c(We,"class","detail-item svelte-71s5ly"),c(Qe,"class","detail-label svelte-71s5ly"),c(et,"class","detail-value mono svelte-71s5ly"),c(ot,"class","detail-item svelte-71s5ly"),c(Be,"class","info-row svelte-71s5ly"),c(mt,"class","card info-card"),c(pt,"class","btn btn-secondary"),c(tt,"class","btn btn-primary"),tt.disabled=be=!t[4]||t[2],c(fe,"class","detail-actions svelte-71s5ly"),c(e,"class","load-detail-screen svelte-71s5ly")},m(K,qe){A(K,e,qe),s(e,l),s(e,n),s(e,i),s(i,r),ke(a,r,null),s(r,o),s(r,u),s(u,p),s(r,v),Ee&&Ee.m(r,null),s(i,_),he&&he.m(i,null),s(e,g),s(e,b),s(b,h),s(b,T),s(b,y),Me.m(y,null),s(b,C),s(b,w),s(w,k),s(w,D),s(w,q),s(q,$),s(e,P),s(e,O),s(O,j),s(O,H),s(O,V),s(V,F),s(F,z),s(F,N),s(F,Q),s(Q,x),s(V,re),s(V,le),s(le,se),s(le,ee),s(le,W),s(W,J),s(V,te),U&&U.m(V,null),s(V,ie),ae&&ae.m(V,null),s(V,Se),s(V,ce),s(ce,oe),s(ce,_e),s(ce,Ie),s(Ie,st),s(V,ue),s(V,de),s(de,Re),s(de,vt),s(de,it),s(it,yt),s(e,_t),ct[De].m(e,null),s(e,Ze),Ue&&Ue.m(e,null),s(e,Ge),s(e,mt),s(mt,Be),s(Be,We),s(We,Ke),s(We,Ve),s(We,xe),s(xe,$e),s(Be,Ae),s(Be,ot),s(ot,Qe),s(ot,rt),s(ot,et),s(et,Ne),s(e,wt),s(e,fe),s(fe,pt),s(fe,Ct),s(fe,tt),s(tt,me),ge=!0,Pe||(ve=[ne(l,"click",t[5]),ne(pt,"click",t[5]),ne(tt,"click",t[6])],Pe=!0)},p(K,qe){const fl={};qe&1&&(fl.tier=K[0].tier),a.$set(fl),(!ge||qe&1)&&f!==(f=(K[0].cargoType||"Cargo")+"")&&E(p,f),K[0].cargoSubtype?Ee?Ee.p(K,qe):(Ee=hn(K),Ee.c(),Ee.m(r,null)):Ee&&(Ee.d(1),Ee=null),K[0].surgeActive?he?he.p(K,qe):(he=kn(K),he.c(),he.m(i,null)):he&&(he.d(1),he=null),Fe===(Fe=je(K))&&Me?Me.p(K,qe):(Me.d(1),Me=Fe(K),Me&&(Me.c(),Me.m(y,null))),(!ge||qe&1)&&S!==(S=qn(K[0].distanceMiles)+"")&&E($,S),(!ge||qe&1)&&I!==(I=(K[0].cargoType||"—")+"")&&E(x,I),(!ge||qe&1)&&Z!==(Z=$n(K[0].weightLbs)+"")&&E(J,Z),K[0].tempMinF!=null&&K[0].tempMaxF!=null?U?U.p(K,qe):(U=wn(K),U.c(),U.m(V,ie)):U&&(U.d(1),U=null),K[0].hazmatClass?ae?(ae.p(K,qe),qe&1&&B(ae,1)):(ae=Cn(K),ae.c(),B(ae,1),ae.m(V,Se)):ae&&(we(),R(ae,1,1,()=>{ae=null}),Ce()),(!ge||qe&1)&&Te!==(Te=(K[0].shipperName||"—")+"")&&E(st,Te),(!ge||qe&1)&&He!==(He=(K[0].requiredVehicleType||"Any")+"")&&E(yt,He);let Yt=De;De=Nt(K),De===Yt?ct[De].p(K,qe):(we(),R(ct[Yt],1,1,()=>{ct[Yt]=null}),Ce(),ze=ct[De],ze?ze.p(K,qe):(ze=ct[De]=bt[De](K),ze.c()),B(ze,1),ze.m(e,Ze)),K[1].length>0?Ue?Ue.p(K,qe):(Ue=Tn(K),Ue.c(),Ue.m(e,Ge)):Ue&&(Ue.d(1),Ue=null),(!ge||qe&1)&&at!==(at=Gt(K[0].depositAmount)+"")&&E($e,at),(!ge||qe&1)&&ut!==(ut=K[0].deliveryWindowMinutes?K[0].deliveryWindowMinutes+" min":"—")&&E(Ne,ut),(!ge||qe&4)&&Y!==(Y=K[2]?"Accepting...":"Accept Load")&&E(me,Y),(!ge||qe&20&&be!==(be=!K[4]||K[2]))&&(tt.disabled=be)},i(K){ge||(B(a.$$.fragment,K),B(ae),B(ze),ge=!0)},o(K){R(a.$$.fragment,K),R(ae),R(ze),ge=!1},d(K){K&&M(e),ye(a),Ee&&Ee.d(),he&&he.d(),Me.d(),U&&U.d(),ae&&ae.d(),ct[De].d(),Ue&&Ue.d(),Pe=!1,nt(ve)}}}function hn(t){let e,l,n=t[0].cargoSubtype+"",i,r;return{c(){e=d("span"),l=L("("),i=L(n),r=L(")"),c(e,"class","cargo-sub text-muted svelte-71s5ly")},m(a,o){A(a,e,o),s(e,l),s(e,i),s(e,r)},p(a,o){o&1&&n!==(n=a[0].cargoSubtype+"")&&E(i,n)},d(a){a&&M(e)}}}function kn(t){let e,l,n=t[0].surgePercentage+"",i,r;return{c(){e=d("span"),l=L("SURGE +"),i=L(n),r=L("%"),c(e,"class","badge badge-surge svelte-71s5ly")},m(a,o){A(a,e,o),s(e,l),s(e,i),s(e,r)},p(a,o){o&1&&n!==(n=a[0].surgePercentage+"")&&E(i,n)},d(a){a&&M(e)}}}function _i(t){let e,l,n,i,r,a=(t[0].originLabel||"—")+"",o,u,f,p,v,_,g,b,h=(t[0].destinationLabel||"—")+"",T;return{c(){e=d("div"),l=d("div"),n=d("span"),i=m(),r=d("span"),o=L(a),u=m(),f=d("div"),p=m(),v=d("div"),_=d("span"),g=m(),b=d("span"),T=L(h),c(n,"class","route-dot svelte-71s5ly"),c(r,"class","route-location svelte-71s5ly"),c(l,"class","route-point origin svelte-71s5ly"),c(f,"class","route-connector svelte-71s5ly"),c(_,"class","route-dot dest-dot svelte-71s5ly"),c(b,"class","route-location svelte-71s5ly"),c(v,"class","route-point destination svelte-71s5ly"),c(e,"class","single-route svelte-71s5ly")},m(y,C){A(y,e,C),s(e,l),s(l,n),s(l,i),s(l,r),s(r,o),s(e,u),s(e,f),s(e,p),s(e,v),s(v,_),s(v,g),s(v,b),s(b,T)},p(y,C){C&1&&a!==(a=(y[0].originLabel||"—")+"")&&E(o,a),C&1&&h!==(h=(y[0].destinationLabel||"—")+"")&&E(T,h)},d(y){y&&M(e)}}}function mi(t){let e,l,n,i,r,a=t[0].originLabel+"",o,u,f,p,v,_,g,b,h,T=t[0].destinationLabel+"",y,C=pe(t[0].stops||[]),w=[];for(let k=0;k<C.length;k+=1)w[k]=yn(gn(t,C,k));return{c(){e=d("div"),l=d("div"),n=d("span"),i=m(),r=d("span"),o=L(a),u=m();for(let k=0;k<w.length;k+=1)w[k].c();f=m(),p=d("div"),v=m(),_=d("div"),g=d("span"),b=m(),h=d("span"),y=L(T),c(n,"class","route-dot svelte-71s5ly"),c(r,"class","route-location svelte-71s5ly"),c(l,"class","route-point origin svelte-71s5ly"),c(p,"class","route-connector svelte-71s5ly"),c(g,"class","route-dot dest-dot svelte-71s5ly"),c(h,"class","route-location svelte-71s5ly"),c(_,"class","route-point destination svelte-71s5ly"),c(e,"class","multi-stop-route svelte-71s5ly")},m(k,D){A(k,e,D),s(e,l),s(l,n),s(l,i),s(l,r),s(r,o),s(e,u);for(let q=0;q<w.length;q+=1)w[q]&&w[q].m(e,null);s(e,f),s(e,p),s(e,v),s(e,_),s(_,g),s(_,b),s(_,h),s(h,y)},p(k,D){if(D&1&&a!==(a=k[0].originLabel+"")&&E(o,a),D&1){C=pe(k[0].stops||[]);let q;for(q=0;q<C.length;q+=1){const S=gn(k,C,q);w[q]?w[q].p(S,D):(w[q]=yn(S),w[q].c(),w[q].m(e,f))}for(;q<w.length;q+=1)w[q].d(1);w.length=C.length}D&1&&T!==(T=k[0].destinationLabel+"")&&E(y,T)},d(k){k&&M(e),ft(w,k)}}}function yn(t){let e,l,n,i,r,a,o=(t[13].label||`Stop ${t[15]+1}`)+"",u;return{c(){e=d("div"),l=m(),n=d("div"),i=d("span"),r=m(),a=d("span"),u=L(o),c(e,"class","route-connector svelte-71s5ly"),c(i,"class","route-dot stop-dot svelte-71s5ly"),c(a,"class","route-location svelte-71s5ly"),c(n,"class","route-point stop svelte-71s5ly")},m(f,p){A(f,e,p),A(f,l,p),A(f,n,p),s(n,i),s(n,r),s(n,a),s(a,u)},p(f,p){p&1&&o!==(o=(f[13].label||`Stop ${f[15]+1}`)+"")&&E(u,o)},d(f){f&&(M(e),M(l),M(n))}}}function wn(t){let e,l,n,i,r=t[0].tempMinF+"",a,o,u=t[0].tempMaxF+"",f,p;return{c(){e=d("div"),l=d("span"),l.textContent="Temperature Range",n=m(),i=d("span"),a=L(r),o=L("°F - "),f=L(u),p=L("°F"),c(l,"class","detail-label svelte-71s5ly"),c(i,"class","detail-value mono svelte-71s5ly"),c(e,"class","detail-item svelte-71s5ly")},m(v,_){A(v,e,_),s(e,l),s(e,n),s(e,i),s(i,a),s(i,o),s(i,f),s(i,p)},p(v,_){_&1&&r!==(r=v[0].tempMinF+"")&&E(a,r),_&1&&u!==(u=v[0].tempMaxF+"")&&E(f,u)},d(v){v&&M(e)}}}function Cn(t){let e,l,n,i,r,a,o;r=new kt({props:{status:"warning",label:"Class "+t[0].hazmatClass}});let u=t[0].hazmatUnNumber&&Ln(t);return{c(){e=d("div"),l=d("span"),l.textContent="Hazmat Class",n=m(),i=d("span"),Le(r.$$.fragment),a=m(),u&&u.c(),c(l,"class","detail-label svelte-71s5ly"),c(i,"class","detail-value svelte-71s5ly"),c(e,"class","detail-item svelte-71s5ly")},m(f,p){A(f,e,p),s(e,l),s(e,n),s(e,i),ke(r,i,null),s(i,a),u&&u.m(i,null),o=!0},p(f,p){const v={};p&1&&(v.label="Class "+f[0].hazmatClass),r.$set(v),f[0].hazmatUnNumber?u?u.p(f,p):(u=Ln(f),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(f){o||(B(r.$$.fragment,f),o=!0)},o(f){R(r.$$.fragment,f),o=!1},d(f){f&&M(e),ye(r),u&&u.d()}}}function Ln(t){let e,l,n=t[0].hazmatUnNumber+"",i;return{c(){e=d("span"),l=L("UN"),i=L(n),c(e,"class","mono text-muted"),Oe(e,"margin-left","6px")},m(r,a){A(r,e,a),s(e,l),s(e,i)},p(r,a){a&1&&n!==(n=r[0].hazmatUnNumber+"")&&E(i,n)},d(r){r&&M(e)}}}function bi(t){let e,l,n,i,r=Gt(t[0].basePayout||t[0].basePayoutRental)+"",a;return{c(){e=d("div"),l=d("h3"),l.textContent="Estimated Payout",n=m(),i=d("span"),a=L(r),c(l,"class","card-title"),c(i,"class","payout-figure mono svelte-71s5ly"),Oe(i,"font-size","20px"),c(e,"class","card payout-card")},m(o,u){A(o,e,u),s(e,l),s(e,n),s(e,i),s(i,a)},p(o,u){u&1&&r!==(r=Gt(o[0].basePayout||o[0].basePayoutRental)+"")&&E(a,r)},i:X,o:X,d(o){o&&M(e)}}}function gi(t){let e,l;return e=new cl({props:{breakdown:t[0].payoutBreakdown,startExpanded:!0}}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p(n,i){const r={};i&1&&(r.breakdown=n[0].payoutBreakdown),e.$set(r)},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Tn(t){let e,l,n,i,r=pe(t[1]),a=[];for(let o=0;o<r.length;o+=1)a[o]=Sn(bn(t,r,o));return{c(){e=d("div"),l=d("h3"),l.textContent="Requirements",n=m(),i=d("div");for(let o=0;o<a.length;o+=1)a[o].c();c(l,"class","card-title"),c(i,"class","requirements-list svelte-71s5ly"),c(e,"class","card requirements-card")},m(o,u){A(o,e,u),s(e,l),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(o,u){if(u&2){r=pe(o[1]);let f;for(f=0;f<r.length;f+=1){const p=bn(o,r,f);a[f]?a[f].p(p,u):(a[f]=Sn(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=r.length}},d(o){o&&M(e),ft(a,o)}}}function Sn(t){let e,l,n=t[10].met?"✓":"✗",i,r,a,o=t[10].label+"",u,f;return{c(){e=d("div"),l=d("span"),i=L(n),r=m(),a=d("span"),u=L(o),f=m(),c(l,"class","req-icon svelte-71s5ly"),c(a,"class","req-label svelte-71s5ly"),c(e,"class","req-row svelte-71s5ly"),G(e,"req-met",t[10].met),G(e,"req-unmet",!t[10].met)},m(p,v){A(p,e,v),s(e,l),s(l,i),s(e,r),s(e,a),s(a,u),s(e,f)},p(p,v){v&2&&n!==(n=p[10].met?"✓":"✗")&&E(i,n),v&2&&o!==(o=p[10].label+"")&&E(u,o),v&2&&G(e,"req-met",p[10].met),v&2&&G(e,"req-unmet",!p[10].met)},d(p){p&&M(e)}}}function hi(t){let e,l,n,i;const r=[vi,pi],a=[];function o(u,f){return u[0]?0:1}return e=o(t),l=a[e]=r[e](t),{c(){l.c(),n=Tt()},m(u,f){a[e].m(u,f),A(u,n,f),i=!0},p(u,[f]){let p=e;e=o(u),e===p?a[e].p(u,f):(we(),R(a[p],1,1,()=>{a[p]=null}),Ce(),l=a[e],l?l.p(u,f):(l=a[e]=r[e](u),l.c()),B(l,1),l.m(n.parentNode,n))},i(u){i||(B(l),i=!0)},o(u){R(l),i=!1},d(u){u&&M(n),a[e].d(u)}}}function Gt(t){return t==null?"—":"$"+Number(t).toLocaleString("en-US")}function qn(t){return t==null?"—":Number(t).toFixed(1)+" mi"}function $n(t){return t==null?"—":Number(t).toLocaleString()+" lbs"}function ki(t,e){var n,i,r;if(!t)return[];const l=[];if(t.requiredLicense&&t.requiredLicense!=="none"){const a=(n=e.licenses)==null?void 0:n.some(o=>o.type===t.requiredLicense&&o.status==="active");l.push({label:`CDL ${t.requiredLicense.replace("_"," ").toUpperCase()}`,met:a})}if(t.requiredEndorsement){const a=(i=e.licenses)==null?void 0:i.some(o=>o.type===t.requiredEndorsement&&o.status==="active");l.push({label:`Endorsement: ${t.requiredEndorsement.replace("_"," ").toUpperCase()}`,met:a})}if(t.requiredCertification){const a=(r=e.certifications)==null?void 0:r.some(o=>o.type===t.requiredCertification&&o.status==="active");l.push({label:`Certification: ${t.requiredCertification.replace(/_/g," ")}`,met:a})}return l}function yi(t,e,l){let n,i,r,a,o;lt(t,It,g=>l(8,o=g));let{load:u=null}=e;const f=Bt();let p=!1;function v(){f("back")}async function _(){!u||p||(l(2,p=!0),await ht("acceptLoad",{loadId:u.id}),l(2,p=!1))}return t.$$set=g=>{"load"in g&&l(0,u=g.load)},t.$$.update=()=>{t.$$.dirty&256&&l(7,n=o),t.$$.dirty&129&&l(1,i=ki(u,n)),t.$$.dirty&2&&l(4,r=i.every(g=>g.met)),t.$$.dirty&1&&l(3,a=(u==null?void 0:u.isMultiStop)||(u==null?void 0:u.stops)&&u.stops.length>1)},[u,i,p,a,r,v,_,n,o]}class wi extends Ye{constructor(e){super(),Xe(this,e,yi,hi,Je,{load:0})}}function Dn(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Mn(t,e,l){const n=t.slice();return n[21]=e[l],n}function An(t,e,l){const n=t.slice();return n[24]=e[l],n}function Ci(t){let e;return{c(){e=d("div"),e.innerHTML='<span class="text-muted" style="font-size: 14px;">No active load. Visit the board to pick up a job.</span>',c(e,"class","empty-state svelte-97jg85")},m(l,n){A(l,e,n)},p:X,i:X,o:X,d(l){l&&M(e)}}}function Li(t){let e,l,n,i,r,a=(t[0].bolNumber||"—")+"",o,u,f,p=(t[0].cargoType||"Cargo")+"",v,_,g,b,h,T,y,C,w,k,D=(t[0].destinationLabel||"—")+"",q,S,$,P,O,j,H=On(t[0].distanceRemaining)+"",V,F,z,N,Q,I,x,re,le,se,ee,W,Z,J,te,ie,Se=(t[0].cargoIntegrity??100)+"",ce,oe,_e,Ie,Te,st,ue,de,Re,vt,it,He,yt,_t,De,ze,Ze,Ge,mt,Be,We,Ke,Ve,xe,at=Kt(t[0].estimatedPayout)+"",$e,Ae,ot,Qe,rt,et,ut,Ne,wt,fe,pt,Ct;g=new kt({props:{status:t[0].status||"in_transit"}});const tt=[Si,Ti],Y=[];function me(U,ae){return U[0].windowExpiresAt?0:1}N=me(t),Q=Y[N]=tt[N](t);let be=t[2]&&En(t);Z=new os({props:{value:t[0].cargoIntegrity??100,label:"%",size:72,strokeWidth:5,variant:"integrity",criticalThreshold:40,warningThreshold:70}});let ge=(t[0].cargoIntegrity??100)<=40&&Pn(),Pe=t[1]&&jn(t);He=new kt({props:{status:t[0].sealStatus||"not_applied"}});let ve=t[0].sealNumber&&Nn(t),Ee=pe(t[6]),he=[];for(let U=0;U<Ee.length;U+=1)he[U]=Rn(Mn(t,Ee,U));let je=t[0].payoutBreakdown&&zn(t),Fe=t[7]&&t[0].stops&&Fn(t),Me=t[3]&&Un(t);return{c(){e=d("div"),l=d("div"),n=d("div"),i=d("span"),r=L("BOL #"),o=L(a),u=m(),f=d("h2"),v=L(p),_=m(),Le(g.$$.fragment),b=m(),h=d("div"),T=d("div"),y=d("div"),C=d("span"),C.textContent="Destination",w=m(),k=d("span"),q=L(D),S=m(),$=d("div"),P=d("span"),P.textContent="Distance Remaining",O=m(),j=d("span"),V=L(H),F=m(),z=d("div"),Q.c(),I=m(),x=d("div"),be&&be.c(),re=m(),le=d("div"),se=d("h4"),se.textContent="Cargo Integrity",ee=m(),W=d("div"),Le(Z.$$.fragment),J=m(),te=d("div"),ie=d("span"),ce=L(Se),oe=L("%"),_e=m(),ge&&ge.c(),Ie=m(),Te=d("div"),Te.innerHTML='Rejection threshold: <span class="mono">40%</span>',st=m(),Pe&&Pe.c(),ue=m(),de=d("div"),Re=d("div"),vt=d("h4"),vt.textContent="Seal Status",it=m(),Le(He.$$.fragment),yt=m(),ve&&ve.c(),_t=m(),De=d("div"),ze=d("h4"),ze.textContent="Compliance Checklist",Ze=m(),Ge=d("div");for(let U=0;U<he.length;U+=1)he[U].c();mt=m(),Be=d("div"),We=d("div"),Ke=d("h4"),Ke.textContent="Estimated Payout",Ve=m(),xe=d("span"),$e=L(at),Ae=m(),je&&je.c(),ot=m(),Fe&&Fe.c(),Qe=m(),rt=d("div"),et=d("button"),et.textContent="Distress Signal",ut=m(),Ne=d("button"),Ne.textContent="Abandon Load",wt=m(),Me&&Me.c(),c(i,"class","bol-number mono svelte-97jg85"),c(f,"class","cargo-title svelte-97jg85"),c(n,"class","header-info svelte-97jg85"),c(l,"class","load-header svelte-97jg85"),c(C,"class","dest-label text-muted svelte-97jg85"),c(k,"class","dest-name svelte-97jg85"),c(y,"class","dest-info svelte-97jg85"),c(P,"class","dest-label text-muted svelte-97jg85"),c(j,"class","dest-value mono svelte-97jg85"),c($,"class","dest-distance svelte-97jg85"),c(T,"class","dest-row svelte-97jg85"),c(h,"class","card destination-card"),c(z,"class","card timer-card svelte-97jg85"),c(se,"class","card-title"),c(ie,"class","integrity-value mono"),Oe(ie,"font-size","14px"),c(te,"class","integrity-info svelte-97jg85"),c(Te,"class","threshold-marker text-muted"),Oe(Te,"font-size","10px"),Oe(Te,"margin-top","4px"),c(W,"class","integrity-display svelte-97jg85"),c(le,"class","card meter-card svelte-97jg85"),c(x,"class","meters-row svelte-97jg85"),c(vt,"class","card-title"),c(Re,"class","card-header"),c(de,"class","card seal-card"),c(ze,"class","card-title"),c(Ge,"class","compliance-list svelte-97jg85"),c(De,"class","card compliance-card"),c(Ke,"class","card-title"),c(xe,"class","payout-value payout-figure mono svelte-97jg85"),c(We,"class","card-header"),c(Be,"class","card payout-card"),c(et,"class","btn btn-secondary"),c(Ne,"class","btn btn-danger"),c(rt,"class","load-actions svelte-97jg85"),c(e,"class","active-load-screen svelte-97jg85")},m(U,ae){A(U,e,ae),s(e,l),s(l,n),s(n,i),s(i,r),s(i,o),s(n,u),s(n,f),s(f,v),s(n,_),ke(g,n,null),s(e,b),s(e,h),s(h,T),s(T,y),s(y,C),s(y,w),s(y,k),s(k,q),s(T,S),s(T,$),s($,P),s($,O),s($,j),s(j,V),s(e,F),s(e,z),Y[N].m(z,null),s(e,I),s(e,x),be&&be.m(x,null),s(x,re),s(x,le),s(le,se),s(le,ee),s(le,W),ke(Z,W,null),s(W,J),s(W,te),s(te,ie),s(ie,ce),s(ie,oe),s(te,_e),ge&&ge.m(te,null),s(W,Ie),s(W,Te),s(x,st),Pe&&Pe.m(x,null),s(e,ue),s(e,de),s(de,Re),s(Re,vt),s(Re,it),ke(He,Re,null),s(de,yt),ve&&ve.m(de,null),s(e,_t),s(e,De),s(De,ze),s(De,Ze),s(De,Ge);for(let bt=0;bt<he.length;bt+=1)he[bt]&&he[bt].m(Ge,null);s(e,mt),s(e,Be),s(Be,We),s(We,Ke),s(We,Ve),s(We,xe),s(xe,$e),s(Be,Ae),je&&je.m(Be,null),s(e,ot),Fe&&Fe.m(e,null),s(e,Qe),s(e,rt),s(rt,et),s(rt,ut),s(rt,Ne),s(e,wt),Me&&Me.m(e,null),fe=!0,pt||(Ct=[ne(et,"click",t[9]),ne(Ne,"click",t[10])],pt=!0)},p(U,ae){(!fe||ae&1)&&a!==(a=(U[0].bolNumber||"—")+"")&&E(o,a),(!fe||ae&1)&&p!==(p=(U[0].cargoType||"Cargo")+"")&&E(v,p);const bt={};ae&1&&(bt.status=U[0].status||"in_transit"),g.$set(bt),(!fe||ae&1)&&D!==(D=(U[0].destinationLabel||"—")+"")&&E(q,D),(!fe||ae&1)&&H!==(H=On(U[0].distanceRemaining)+"")&&E(V,H);let ct=N;N=me(U),N===ct?Y[N].p(U,ae):(we(),R(Y[ct],1,1,()=>{Y[ct]=null}),Ce(),Q=Y[N],Q?Q.p(U,ae):(Q=Y[N]=tt[N](U),Q.c()),B(Q,1),Q.m(z,null)),U[2]?be?(be.p(U,ae),ae&4&&B(be,1)):(be=En(U),be.c(),B(be,1),be.m(x,re)):be&&(we(),R(be,1,1,()=>{be=null}),Ce());const Nt={};ae&1&&(Nt.value=U[0].cargoIntegrity??100),Z.$set(Nt),(!fe||ae&1)&&Se!==(Se=(U[0].cargoIntegrity??100)+"")&&E(ce,Se),(U[0].cargoIntegrity??100)<=40?ge||(ge=Pn(),ge.c(),ge.m(te,null)):ge&&(ge.d(1),ge=null),U[1]?Pe?Pe.p(U,ae):(Pe=jn(U),Pe.c(),Pe.m(x,null)):Pe&&(Pe.d(1),Pe=null);const Ue={};if(ae&1&&(Ue.status=U[0].sealStatus||"not_applied"),He.$set(Ue),U[0].sealNumber?ve?ve.p(U,ae):(ve=Nn(U),ve.c(),ve.m(de,null)):ve&&(ve.d(1),ve=null),ae&64){Ee=pe(U[6]);let K;for(K=0;K<Ee.length;K+=1){const qe=Mn(U,Ee,K);he[K]?he[K].p(qe,ae):(he[K]=Rn(qe),he[K].c(),he[K].m(Ge,null))}for(;K<he.length;K+=1)he[K].d(1);he.length=Ee.length}(!fe||ae&1)&&at!==(at=Kt(U[0].estimatedPayout)+"")&&E($e,at),U[0].payoutBreakdown?je?(je.p(U,ae),ae&1&&B(je,1)):(je=zn(U),je.c(),B(je,1),je.m(Be,null)):je&&(we(),R(je,1,1,()=>{je=null}),Ce()),U[7]&&U[0].stops?Fe?Fe.p(U,ae):(Fe=Fn(U),Fe.c(),Fe.m(e,Qe)):Fe&&(Fe.d(1),Fe=null),U[3]?Me?Me.p(U,ae):(Me=Un(U),Me.c(),Me.m(e,null)):Me&&(Me.d(1),Me=null)},i(U){fe||(B(g.$$.fragment,U),B(Q),B(be),B(Z.$$.fragment,U),B(He.$$.fragment,U),B(je),fe=!0)},o(U){R(g.$$.fragment,U),R(Q),R(be),R(Z.$$.fragment,U),R(He.$$.fragment,U),R(je),fe=!1},d(U){U&&M(e),ye(g),Y[N].d(),be&&be.d(),ye(Z),ge&&ge.d(),Pe&&Pe.d(),ye(He),ve&&ve.d(),ft(he,U),je&&je.d(),Fe&&Fe.d(),Me&&Me.d(),pt=!1,nt(Ct)}}}function Ti(t){let e;return{c(){e=d("span"),e.textContent="No delivery window set",c(e,"class","text-muted")},m(l,n){A(l,e,n)},p:X,i:X,o:X,d(l){l&&M(e)}}}function Si(t){let e,l;return e=new as({props:{targetTime:t[0].windowExpiresAt,large:!0,warningMinutes:15,criticalMinutes:5}}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p(n,i){const r={};i&1&&(r.targetTime=n[0].windowExpiresAt),e.$set(r)},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function En(t){let e,l,n,i,r,a=t[0].currentTempF!=null?t[0].currentTempF+"°F":"—",o,u,f,p,v=(t[0].tempMinF??"—")+"",_,g,b=(t[0].tempMaxF??"—")+"",h,T,y,C,w;return C=new kt({props:{status:t[8]?"active":"critical",label:t[8]?"In Range":"Out of Range"}}),{c(){e=d("div"),l=d("h4"),l.textContent="Temperature",n=m(),i=d("div"),r=d("span"),o=L(a),u=m(),f=d("span"),p=L("Target: "),_=L(v),g=L("°F - "),h=L(b),T=L("°F"),y=m(),Le(C.$$.fragment),c(l,"class","card-title"),c(r,"class","temp-value mono svelte-97jg85"),G(r,"temp-ok",t[8]),G(r,"temp-bad",!t[8]),c(f,"class","temp-range text-muted mono svelte-97jg85"),c(i,"class","temp-display svelte-97jg85"),c(e,"class","card meter-card svelte-97jg85")},m(k,D){A(k,e,D),s(e,l),s(e,n),s(e,i),s(i,r),s(r,o),s(i,u),s(i,f),s(f,p),s(f,_),s(f,g),s(f,h),s(f,T),s(i,y),ke(C,i,null),w=!0},p(k,D){(!w||D&1)&&a!==(a=k[0].currentTempF!=null?k[0].currentTempF+"°F":"—")&&E(o,a),(!w||D&256)&&G(r,"temp-ok",k[8]),(!w||D&256)&&G(r,"temp-bad",!k[8]),(!w||D&1)&&v!==(v=(k[0].tempMinF??"—")+"")&&E(_,v),(!w||D&1)&&b!==(b=(k[0].tempMaxF??"—")+"")&&E(h,b);const q={};D&256&&(q.status=k[8]?"active":"critical"),D&256&&(q.label=k[8]?"In Range":"Out of Range"),C.$set(q)},i(k){w||(B(C.$$.fragment,k),w=!0)},o(k){R(C.$$.fragment,k),w=!1},d(k){k&&M(e),ye(C)}}}function Pn(t){let e;return{c(){e=d("span"),e.textContent="Below rejection threshold",c(e,"class","integrity-warning text-orange"),Oe(e,"font-size","11px")},m(l,n){A(l,e,n)},d(l){l&&M(e)}}}function jn(t){let e,l,n,i,r=pe(t[5]),a=[];for(let o=0;o<r.length;o+=1)a[o]=Bn(An(t,r,o));return{c(){e=d("div"),l=d("h4"),l.textContent="Welfare Rating",n=m(),i=d("div");for(let o=0;o<a.length;o+=1)a[o].c();c(l,"class","card-title"),c(i,"class","welfare-stars svelte-97jg85"),c(e,"class","card meter-card svelte-97jg85")},m(o,u){A(o,e,u),s(e,l),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(o,u){if(u&32){r=pe(o[5]);let f;for(f=0;f<r.length;f+=1){const p=An(o,r,f);a[f]?a[f].p(p,u):(a[f]=Bn(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=r.length}},d(o){o&&M(e),ft(a,o)}}}function Bn(t){let e;return{c(){e=d("span"),e.textContent=`★
              `,c(e,"class","star svelte-97jg85"),G(e,"star-filled",t[24]),G(e,"star-empty",!t[24])},m(l,n){A(l,e,n)},p(l,n){n&32&&G(e,"star-filled",l[24]),n&32&&G(e,"star-empty",!l[24])},d(l){l&&M(e)}}}function Nn(t){let e,l,n=t[0].sealNumber+"",i;return{c(){e=d("span"),l=L("Seal #"),i=L(n),c(e,"class","seal-number mono text-muted svelte-97jg85")},m(r,a){A(r,e,a),s(e,l),s(e,i)},p(r,a){a&1&&n!==(n=r[0].sealNumber+"")&&E(i,n)},d(r){r&&M(e)}}}function Rn(t){let e,l,n=t[21].done?"✓":"✗",i,r,a,o=t[21].label+"",u,f;return{c(){e=d("div"),l=d("span"),i=L(n),r=m(),a=d("span"),u=L(o),f=m(),c(l,"class","compliance-icon svelte-97jg85"),c(a,"class","compliance-label svelte-97jg85"),c(e,"class","compliance-item svelte-97jg85"),G(e,"item-done",t[21].done)},m(p,v){A(p,e,v),s(e,l),s(l,i),s(e,r),s(e,a),s(a,u),s(e,f)},p(p,v){v&64&&n!==(n=p[21].done?"✓":"✗")&&E(i,n),v&64&&o!==(o=p[21].label+"")&&E(u,o),v&64&&G(e,"item-done",p[21].done)},d(p){p&&M(e)}}}function zn(t){let e,l;return e=new cl({props:{breakdown:t[0].payoutBreakdown}}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p(n,i){const r={};i&1&&(r.breakdown=n[0].payoutBreakdown),e.$set(r)},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Fn(t){let e,l,n,i,r=pe(t[0].stops),a=[];for(let o=0;o<r.length;o+=1)a[o]=In(Dn(t,r,o));return{c(){e=d("div"),l=d("h4"),l.textContent="Route Progress",n=m(),i=d("div");for(let o=0;o<a.length;o+=1)a[o].c();c(l,"class","card-title"),c(i,"class","stops-list svelte-97jg85"),c(e,"class","card stops-card")},m(o,u){A(o,e,u),s(e,l),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(o,u){if(u&1){r=pe(o[0].stops);let f;for(f=0;f<r.length;f+=1){const p=Dn(o,r,f);a[f]?a[f].p(p,u):(a[f]=In(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=r.length}},d(o){o&&M(e),ft(a,o)}}}function qi(t){let e;return{c(){e=d("span"),e.textContent="○",c(e,"class","text-muted")},m(l,n){A(l,e,n)},d(l){l&&M(e)}}}function $i(t){let e;return{c(){e=d("span"),e.textContent="●",c(e,"class","text-orange")},m(l,n){A(l,e,n)},d(l){l&&M(e)}}}function Di(t){let e;return{c(){e=d("span"),e.textContent="✓",c(e,"class","text-success")},m(l,n){A(l,e,n)},d(l){l&&M(e)}}}function In(t){let e,l,n,i,r=(t[18].label||`Stop ${t[20]+1}`)+"",a,o;function u(v,_){return v[20]<(v[0].currentStop||1)-1?Di:v[20]===(v[0].currentStop||1)-1?$i:qi}let f=u(t),p=f(t);return{c(){e=d("div"),l=d("span"),p.c(),n=m(),i=d("span"),a=L(r),o=m(),c(l,"class","stop-indicator svelte-97jg85"),c(i,"class","stop-name svelte-97jg85"),c(e,"class","stop-item svelte-97jg85"),G(e,"stop-completed",t[20]<(t[0].currentStop||1)-1),G(e,"stop-current",t[20]===(t[0].currentStop||1)-1),G(e,"stop-remaining",t[20]>(t[0].currentStop||1)-1)},m(v,_){A(v,e,_),s(e,l),p.m(l,null),s(e,n),s(e,i),s(i,a),s(e,o)},p(v,_){f!==(f=u(v))&&(p.d(1),p=f(v),p&&(p.c(),p.m(l,null))),_&1&&r!==(r=(v[18].label||`Stop ${v[20]+1}`)+"")&&E(a,r),_&1&&G(e,"stop-completed",v[20]<(v[0].currentStop||1)-1),_&1&&G(e,"stop-current",v[20]===(v[0].currentStop||1)-1),_&1&&G(e,"stop-remaining",v[20]>(v[0].currentStop||1)-1)},d(v){v&&M(e),p.d()}}}function Un(t){let e,l,n,i,r,a,o,u=Kt(t[0].depositPosted)+"",f,p,v,_,g,b,h,T=t[4]?"Abandoning...":"Confirm Abandon",y,C,w;return{c(){e=d("div"),l=d("div"),n=d("h3"),n.textContent="Abandon Load?",i=m(),r=d("p"),a=L(`Abandoning this load will forfeit your deposit of
            `),o=d("span"),f=L(u),p=L(`
            and impact your reputation score. This action cannot be undone.`),v=m(),_=d("div"),g=d("button"),g.textContent="Cancel",b=m(),h=d("button"),y=L(T),c(n,"class","svelte-97jg85"),c(o,"class","mono"),c(r,"class","text-muted svelte-97jg85"),c(g,"class","btn btn-secondary"),c(h,"class","btn btn-danger"),h.disabled=t[4],c(_,"class","dialog-actions svelte-97jg85"),c(l,"class","dialog-panel svelte-97jg85"),c(l,"role","document"),c(e,"class","dialog-overlay svelte-97jg85"),c(e,"role","dialog"),c(e,"tabindex","-1")},m(k,D){A(k,e,D),s(e,l),s(l,n),s(l,i),s(l,r),s(r,a),s(r,o),s(o,f),s(r,p),s(l,v),s(l,_),s(_,g),s(_,b),s(_,h),s(h,y),C||(w=[ne(g,"click",t[12]),ne(h,"click",t[11]),ne(l,"click",Dt(t[14])),ne(l,"keydown",Dt(t[15])),ne(e,"click",t[12]),ne(e,"keydown",t[16])],C=!0)},p(k,D){D&1&&u!==(u=Kt(k[0].depositPosted)+"")&&E(f,u),D&16&&T!==(T=k[4]?"Abandoning...":"Confirm Abandon")&&E(y,T),D&16&&(h.disabled=k[4])},d(k){k&&M(e),C=!1,nt(w)}}}function Mi(t){let e,l,n,i;const r=[Li,Ci],a=[];function o(u,f){return u[0]?0:1}return e=o(t),l=a[e]=r[e](t),{c(){l.c(),n=Tt()},m(u,f){a[e].m(u,f),A(u,n,f),i=!0},p(u,[f]){let p=e;e=o(u),e===p?a[e].p(u,f):(we(),R(a[p],1,1,()=>{a[p]=null}),Ce(),l=a[e],l?l.p(u,f):(l=a[e]=r[e](u),l.c()),B(l,1),l.m(n.parentNode,n))},i(u){i||(B(l),i=!0)},o(u){R(l),i=!1},d(u){u&&M(n),a[e].d(u)}}}function Kt(t){return t==null?"—":"$"+Number(t).toLocaleString("en-US")}function On(t){return t==null?"—":Number(t).toFixed(1)+" mi"}function Ai(t,e,l){let n,i,r,a,o,u,f,p;lt(t,Qt,k=>l(13,p=k)),Bt();let v=!1,_=!1;async function g(){await ht("distressSignal",{bolId:p==null?void 0:p.bolId})}function b(){l(3,v=!0)}async function h(){l(4,_=!0),await ht("abandonLoad",{bolId:p==null?void 0:p.bolId}),l(4,_=!1),l(3,v=!1)}function T(){l(3,v=!1)}function y(k){Vt.call(this,t,k)}function C(k){Vt.call(this,t,k)}const w=k=>k.key==="Escape"&&T();return t.$$.update=()=>{t.$$.dirty&8192&&l(0,n=p),t.$$.dirty&1&&l(2,i=n==null?void 0:n.tempMonitoringActive),t.$$.dirty&5&&l(8,r=i&&(n==null?void 0:n.currentTempF)!=null?n.currentTempF>=(n.tempMinF??-999)&&n.currentTempF<=(n.tempMaxF??999):!0),t.$$.dirty&1&&l(1,a=(n==null?void 0:n.welfareRating)!=null),t.$$.dirty&1&&l(7,o=(n==null?void 0:n.isMultiStop)||(n==null?void 0:n.stops)&&n.stops.length>1),t.$$.dirty&1&&l(6,u=n?[{label:"Pre-Trip Inspection",done:n.preTripCompleted},{label:"Manifest Verified",done:n.manifestVerified},{label:"Weigh Station",done:n.weighStationStamped},{label:"Seal Applied",done:n.sealStatus==="sealed"}]:[]),t.$$.dirty&3&&l(5,f=a?Array.from({length:5},(k,D)=>D<(n.welfareRating||0)):[])},[n,a,i,v,_,f,u,o,r,g,b,h,T,p,y,C,w]}class Ei extends Ye{constructor(e){super(),Xe(this,e,Ai,Mi,Je,{})}}function Hn(t,e,l){const n=t.slice();return n[18]=e[l][0],n[19]=e[l][1],n}function nl(t){const e=t.slice(),l=e[3][e[5]];return e[17]=l,e}function Wn(t,e,l){const n=t.slice();return n[22]=e[l],n[24]=l,n}function Vn(t){let e,l,n;function i(){return t[13](t[24])}return{c(){e=d("button"),e.textContent=`${t[24]+1}`,c(e,"class","progress-dot svelte-1giqgz1"),c(e,"aria-label","Question "+(t[24]+1)),G(e,"answered",t[0][t[24]]!==void 0),G(e,"current",t[5]===t[24])},m(r,a){A(r,e,a),l||(n=ne(e,"click",i),l=!0)},p(r,a){t=r,a&1&&G(e,"answered",t[0][t[24]]!==void 0),a&32&&G(e,"current",t[5]===t[24])},d(r){r&&M(e),l=!1,n()}}}function Qn(t){let e,l,n,i=t[5]+1+"",r,a,o,u=t[17].question+"",f,p,v,_,g,b,h,T,y,C,w,k=pe(Object.entries(t[17].options)),D=[];for(let P=0;P<k.length;P+=1)D[P]=Zn(Hn(t,k,P));function q(P,O){return P[5]<P[1]-1?ji:Pi}let S=q(t),$=S(t);return{c(){e=d("div"),l=d("div"),n=L("Question "),r=L(i),a=m(),o=d("p"),f=L(u),p=m(),v=d("div");for(let P=0;P<D.length;P+=1)D[P].c();_=m(),g=d("div"),b=d("button"),h=L("Previous"),y=m(),$.c(),c(l,"class","question-number svelte-1giqgz1"),c(o,"class","question-text svelte-1giqgz1"),c(v,"class","options svelte-1giqgz1"),c(e,"class","question-card svelte-1giqgz1"),c(b,"class","nav-btn svelte-1giqgz1"),b.disabled=T=t[5]===0,c(g,"class","nav-buttons svelte-1giqgz1")},m(P,O){A(P,e,O),s(e,l),s(l,n),s(l,r),s(e,a),s(e,o),s(o,f),s(e,p),s(e,v);for(let j=0;j<D.length;j+=1)D[j]&&D[j].m(v,null);A(P,_,O),A(P,g,O),s(g,b),s(b,h),s(g,y),$.m(g,null),C||(w=ne(b,"click",t[15]),C=!0)},p(P,O){if(O&32&&i!==(i=P[5]+1+"")&&E(r,i),O&40&&u!==(u=P[17].question+"")&&E(f,u),O&2233){k=pe(Object.entries(P[17].options));let j;for(j=0;j<k.length;j+=1){const H=Hn(P,k,j);D[j]?D[j].p(H,O):(D[j]=Zn(H),D[j].c(),D[j].m(v,null))}for(;j<D.length;j+=1)D[j].d(1);D.length=k.length}O&32&&T!==(T=P[5]===0)&&(b.disabled=T),S===(S=q(P))&&$?$.p(P,O):($.d(1),$=S(P),$&&($.c(),$.m(g,null)))},d(P){P&&(M(e),M(_),M(g)),ft(D,P),$.d(),C=!1,w()}}}function Zn(t){let e,l,n=(t[11][t[18]]||t[18])+"",i,r,a,o=t[19]+"",u,f,p,v;function _(){return t[14](t[18])}return{c(){e=d("button"),l=d("span"),i=L(n),r=m(),a=d("span"),u=L(o),f=m(),c(l,"class","option-key svelte-1giqgz1"),c(a,"class","option-text svelte-1giqgz1"),c(e,"class","option-btn svelte-1giqgz1"),e.disabled=t[4],G(e,"selected",t[0][t[5]]===t[18])},m(g,b){A(g,e,b),s(e,l),s(l,i),s(e,r),s(e,a),s(a,u),s(e,f),p||(v=ne(e,"click",_),p=!0)},p(g,b){t=g,b&40&&n!==(n=(t[11][t[18]]||t[18])+"")&&E(i,n),b&40&&o!==(o=t[19]+"")&&E(u,o),b&16&&(e.disabled=t[4]),b&41&&G(e,"selected",t[0][t[5]]===t[18])},d(g){g&&M(e),p=!1,v()}}}function Pi(t){let e,l=t[4]?"Submitting...":"Submit Test",n,i,r,a;return{c(){e=d("button"),n=L(l),c(e,"class","nav-btn nav-submit svelte-1giqgz1"),e.disabled=i=!t[6]||t[4]},m(o,u){A(o,e,u),s(e,n),r||(a=ne(e,"click",t[8]),r=!0)},p(o,u){u&16&&l!==(l=o[4]?"Submitting...":"Submit Test")&&E(n,l),u&80&&i!==(i=!o[6]||o[4])&&(e.disabled=i)},d(o){o&&M(e),r=!1,a()}}}function ji(t){let e,l,n;return{c(){e=d("button"),e.textContent="Next",c(e,"class","nav-btn nav-next svelte-1giqgz1")},m(i,r){A(i,e,r),l||(n=ne(e,"click",t[16]),l=!0)},p:X,d(i){i&&M(e),l=!1,n()}}}function Bi(t){var P,O;let e,l,n,i,r,a=(((O=(P=t[2])==null?void 0:P.testType)==null?void 0:O.replace("_"," ").toUpperCase())||"CDL")+"",o,u,f,p,v,_,g,b=Object.keys(t[0]).length+"",h,T,y,C,w,k,D,q=pe(Array(t[1])),S=[];for(let j=0;j<q.length;j+=1)S[j]=Vn(Wn(t,q,j));let $=t[3][t[5]]&&Qn(nl(t));return{c(){e=d("div"),l=d("div"),n=d("h2"),n.textContent="CDL Written Test",i=m(),r=d("span"),o=L(a),u=m(),f=d("button"),f.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',p=m(),v=d("div");for(let j=0;j<S.length;j+=1)S[j].c();_=m(),g=d("div"),h=L(b),T=L(" / "),y=L(t[1]),C=L(" answered"),w=m(),$&&$.c(),c(n,"class","svelte-1giqgz1"),c(r,"class","test-type svelte-1giqgz1"),c(f,"class","close-btn svelte-1giqgz1"),c(f,"aria-label","Close"),c(l,"class","test-header svelte-1giqgz1"),c(v,"class","progress-bar svelte-1giqgz1"),c(g,"class","progress-text svelte-1giqgz1"),c(e,"class","cdl-test svelte-1giqgz1")},m(j,H){A(j,e,H),s(e,l),s(l,n),s(l,i),s(l,r),s(r,o),s(l,u),s(l,f),s(e,p),s(e,v);for(let V=0;V<S.length;V+=1)S[V]&&S[V].m(v,null);s(e,_),s(e,g),s(g,h),s(g,T),s(g,y),s(g,C),s(e,w),$&&$.m(e,null),k||(D=ne(f,"click",t[9]),k=!0)},p(j,[H]){var V,F;if(H&4&&a!==(a=(((F=(V=j[2])==null?void 0:V.testType)==null?void 0:F.replace("_"," ").toUpperCase())||"CDL")+"")&&E(o,a),H&1059){q=pe(Array(j[1]));let z;for(z=0;z<q.length;z+=1){const N=Wn(j,q,z);S[z]?S[z].p(N,H):(S[z]=Vn(N),S[z].c(),S[z].m(v,null))}for(;z<S.length;z+=1)S[z].d(1);S.length=q.length}H&1&&b!==(b=Object.keys(j[0]).length+"")&&E(h,b),H&2&&E(y,j[1]),j[3][j[5]]?$?$.p(nl(j),H):($=Qn(nl(j)),$.c(),$.m(e,null)):$&&($.d(1),$=null)},i:X,o:X,d(j){j&&M(e),ft(S,j),$&&$.d(),k=!1,D()}}}function Ni(t,e,l){let n,i,r,a,o;lt(t,al,k=>l(12,o=k));let u={},f=!1,p=0;function v(k,D){f||(l(0,u[k]=D,u),l(0,u))}async function _(){if(f||!a)return;l(4,f=!0);const k=[];for(let D=0;D<r;D++)k.push(u[D]||"");await ht("trucking:submitCDLTest",{testType:n.testType,answers:k})}function g(){ht("trucking:closeCDLTest")}function b(k){k>=0&&k<r&&l(5,p=k)}const h={a:"A",b:"B",c:"C",d:"D"},T=k=>b(k),y=k=>v(p,k),C=()=>b(p-1),w=()=>b(p+1);return t.$$.update=()=>{t.$$.dirty&4096&&l(2,n=o),t.$$.dirty&4&&l(3,i=(n==null?void 0:n.questions)||[]),t.$$.dirty&8&&l(1,r=i.length),t.$$.dirty&3&&l(6,a=Object.keys(u).length===r)},[u,r,n,i,f,p,a,v,_,g,b,h,o,T,y,C,w]}class Ri extends Ye{constructor(e){super(),Xe(this,e,Ni,Bi,Je,{})}}function sl(t){const e=t.slice(),l=e[2][e[0]];return e[11]=l,e}function Gn(t,e,l){const n=t.slice();return n[11]=e[l],n[13]=l,n}function Kn(t){let e,l,n;function i(){return t[9](t[13])}return{c(){e=d("button"),e.textContent=`${t[13]+1}`,c(e,"class","topic-pip svelte-1vy5gyb"),c(e,"aria-label","Topic "+(t[13]+1)),G(e,"read",t[13]<=t[0]),G(e,"current",t[13]===t[0])},m(r,a){A(r,e,a),l||(n=ne(e,"click",i),l=!0)},p(r,a){t=r,a&1&&G(e,"read",t[13]<=t[0]),a&1&&G(e,"current",t[13]===t[0])},d(r){r&&M(e),l=!1,n()}}}function Jn(t){let e,l,n,i=(t[11].id||t[0]+1)+"",r,a,o,u=t[11].title+"",f,p,v,_=t[11].description+"",g;return{c(){e=d("div"),l=d("div"),n=L("Topic "),r=L(i),a=m(),o=d("h3"),f=L(u),p=m(),v=d("p"),g=L(_),c(l,"class","topic-id svelte-1vy5gyb"),c(o,"class","topic-title svelte-1vy5gyb"),c(v,"class","topic-description svelte-1vy5gyb"),c(e,"class","topic-card svelte-1vy5gyb")},m(b,h){A(b,e,h),s(e,l),s(l,n),s(l,r),s(e,a),s(e,o),s(o,f),s(e,p),s(e,v),s(v,g)},p(b,h){h&5&&i!==(i=(b[11].id||b[0]+1)+"")&&E(r,i),h&5&&u!==(u=b[11].title+"")&&E(f,u),h&5&&_!==(_=b[11].description+"")&&E(g,_)},d(b){b&&M(e)}}}function zi(t){let e,l=t[3]?"Processing...":"Complete Briefing",n,i,r;return{c(){e=d("button"),n=L(l),c(e,"class","nav-btn nav-complete svelte-1vy5gyb"),e.disabled=t[3]},m(a,o){A(a,e,o),s(e,n),i||(r=ne(e,"click",t[6]),i=!0)},p(a,o){o&8&&l!==(l=a[3]?"Processing...":"Complete Briefing")&&E(n,l),o&8&&(e.disabled=a[3])},d(a){a&&M(e),i=!1,r()}}}function Fi(t){let e,l,n;return{c(){e=d("button"),e.textContent="Next Topic",c(e,"class","nav-btn nav-next svelte-1vy5gyb")},m(i,r){A(i,e,r),l||(n=ne(e,"click",t[4]),l=!0)},p:X,d(i){i&&M(e),l=!1,n()}}}function Ii(t){let e,l,n,i,r,a,o,u,f,p,v,_,g=t[0]+1+"",b,h,T,y,C,w,k,D,q,S,$,P,O=pe(t[2]),j=[];for(let N=0;N<O.length;N+=1)j[N]=Kn(Gn(t,O,N));let H=t[2][t[0]]&&Jn(sl(t));function V(N,Q){return N[0]<N[1]-1?Fi:zi}let F=V(t),z=F(t);return{c(){e=d("div"),l=d("div"),n=d("h2"),n.textContent="HAZMAT Safety Briefing",i=m(),r=d("span"),r.textContent="ENDORSEMENT",a=m(),o=d("button"),o.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',u=m(),f=d("div");for(let N=0;N<j.length;N+=1)j[N].c();p=m(),v=d("div"),_=L("Topic "),b=L(g),h=L(" of "),T=L(t[1]),y=m(),H&&H.c(),C=m(),w=d("div"),k=d("button"),D=L("Previous"),S=m(),z.c(),c(n,"class","svelte-1vy5gyb"),c(r,"class","hazmat-badge svelte-1vy5gyb"),c(o,"class","close-btn svelte-1vy5gyb"),c(o,"aria-label","Close"),c(l,"class","briefing-header svelte-1vy5gyb"),c(f,"class","topic-progress svelte-1vy5gyb"),c(v,"class","progress-label svelte-1vy5gyb"),c(k,"class","nav-btn svelte-1vy5gyb"),k.disabled=q=t[0]===0,c(w,"class","nav-buttons svelte-1vy5gyb"),c(e,"class","hazmat-briefing svelte-1vy5gyb")},m(N,Q){A(N,e,Q),s(e,l),s(l,n),s(l,i),s(l,r),s(l,a),s(l,o),s(e,u),s(e,f);for(let I=0;I<j.length;I+=1)j[I]&&j[I].m(f,null);s(e,p),s(e,v),s(v,_),s(v,b),s(v,h),s(v,T),s(e,y),H&&H.m(e,null),s(e,C),s(e,w),s(w,k),s(k,D),s(w,S),z.m(w,null),$||(P=[ne(o,"click",t[7]),ne(k,"click",t[5])],$=!0)},p(N,[Q]){if(Q&5){O=pe(N[2]);let I;for(I=0;I<O.length;I+=1){const x=Gn(N,O,I);j[I]?j[I].p(x,Q):(j[I]=Kn(x),j[I].c(),j[I].m(f,null))}for(;I<j.length;I+=1)j[I].d(1);j.length=O.length}Q&1&&g!==(g=N[0]+1+"")&&E(b,g),Q&2&&E(T,N[1]),N[2][N[0]]?H?H.p(sl(N),Q):(H=Jn(sl(N)),H.c(),H.m(e,C)):H&&(H.d(1),H=null),Q&1&&q!==(q=N[0]===0)&&(k.disabled=q),F===(F=V(N))&&z?z.p(N,Q):(z.d(1),z=F(N),z&&(z.c(),z.m(w,null)))},i:X,o:X,d(N){N&&M(e),ft(j,N),H&&H.d(),z.d(),$=!1,nt(P)}}}function Ui(t,e,l){let n,i,r;lt(t,ol,g=>l(8,r=g));let a=0,o=!1;function u(){a<i-1&&l(0,a++,a)}function f(){a>0&&l(0,a--,a)}async function p(){o||(l(3,o=!0),await ht("trucking:completeHAZMATBriefing"))}function v(){ht("trucking:closeCDLTest")}const _=g=>{g<=a&&l(0,a=g)};return t.$$.update=()=>{t.$$.dirty&256&&l(2,n=(r==null?void 0:r.topics)||[]),t.$$.dirty&4&&l(1,i=n.length),t.$$.dirty&3},[a,i,n,o,u,f,p,v,r,_]}class Oi extends Ye{constructor(e){super(),Xe(this,e,Ui,Ii,Je,{})}}function Xn(t){let e,l,n,i,r,a,o,u,f,p,v,_,g,b,h,T,y,C,w,k=t[4]&&Yn(t);const D=[Gi,Zi,Qi,Vi,Wi,Hi],q=[];function S($,P){return $[2]==="home"?0:$[2]==="board"?1:$[2]==="loadDetail"?2:$[2]==="activeLoad"?3:$[2]==="cdlTest"?4:$[2]==="hazmatBriefing"?5:-1}return~(h=S(t))&&(T=q[h]=D[h](t)),{c(){e=d("div"),l=d("div"),n=d("header"),i=d("div"),i.innerHTML='<h1 class="header-title svelte-vucr7r">Trucking</h1>',r=m(),a=d("nav"),o=d("button"),o.textContent="Home",u=m(),f=d("button"),f.textContent="Board",p=m(),k&&k.c(),v=m(),_=d("button"),_.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',g=m(),b=d("main"),T&&T.c(),c(i,"class","header-left svelte-vucr7r"),c(o,"class","nav-btn svelte-vucr7r"),G(o,"nav-active",t[2]==="home"),c(f,"class","nav-btn svelte-vucr7r"),G(f,"nav-active",t[2]==="board"||t[2]==="loadDetail"),c(a,"class","header-nav svelte-vucr7r"),c(_,"class","close-btn svelte-vucr7r"),c(_,"aria-label","Close"),c(n,"class","nui-header svelte-vucr7r"),c(b,"class","nui-content svelte-vucr7r"),c(l,"class","nui-container fade-in svelte-vucr7r"),c(e,"class","nui-wrapper svelte-vucr7r"),G(e,"phone-mode",t[0]==="phone"),G(e,"standalone-mode",t[0]==="standalone")},m($,P){A($,e,P),s(e,l),s(l,n),s(n,i),s(n,r),s(n,a),s(a,o),s(a,u),s(a,f),s(a,p),k&&k.m(a,null),s(n,v),s(n,_),s(l,g),s(l,b),~h&&q[h].m(b,null),y=!0,C||(w=[ne(o,"click",t[9]),ne(f,"click",t[10]),ne(_,"click",t[5])],C=!0)},p($,P){(!y||P&4)&&G(o,"nav-active",$[2]==="home"),(!y||P&4)&&G(f,"nav-active",$[2]==="board"||$[2]==="loadDetail"),$[4]?k?k.p($,P):(k=Yn($),k.c(),k.m(a,null)):k&&(k.d(1),k=null);let O=h;h=S($),h===O?~h&&q[h].p($,P):(T&&(we(),R(q[O],1,1,()=>{q[O]=null}),Ce()),~h?(T=q[h],T?T.p($,P):(T=q[h]=D[h]($),T.c()),B(T,1),T.m(b,null)):T=null),(!y||P&1)&&G(e,"phone-mode",$[0]==="phone"),(!y||P&1)&&G(e,"standalone-mode",$[0]==="standalone")},i($){y||(B(T),y=!0)},o($){R(T),y=!1},d($){$&&M(e),k&&k.d(),~h&&q[h].d(),C=!1,nt(w)}}}function Yn(t){let e,l,n;return{c(){e=d("button"),e.textContent="Active Load",c(e,"class","nav-btn svelte-vucr7r"),G(e,"nav-active",t[2]==="activeLoad")},m(i,r){A(i,e,r),l||(n=ne(e,"click",t[11]),l=!0)},p(i,r){r&4&&G(e,"nav-active",i[2]==="activeLoad")},d(i){i&&M(e),l=!1,n()}}}function Hi(t){let e,l;return e=new Oi({}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p:X,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Wi(t){let e,l;return e=new Ri({}),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p:X,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Vi(t){let e,l;return e=new Ei({}),e.$on("navigate",t[16]),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p:X,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Qi(t){let e,l;return e=new wi({props:{load:t[1]}}),e.$on("navigate",t[14]),e.$on("back",t[15]),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p(n,i){const r={};i&2&&(r.load=n[1]),e.$set(r)},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Zi(t){let e,l;return e=new di({}),e.$on("navigate",t[13]),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p:X,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Gi(t){let e,l;return e=new Us({}),e.$on("navigate",t[12]),{c(){Le(e.$$.fragment)},m(n,i){ke(e,n,i),l=!0},p:X,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){R(e.$$.fragment,n),l=!1},d(n){ye(e,n)}}}function Ki(t){let e,l,n=t[3]&&Xn(t);return{c(){n&&n.c(),e=Tt()},m(i,r){n&&n.m(i,r),A(i,e,r),l=!0},p(i,[r]){i[3]?n?(n.p(i,r),r&8&&B(n,1)):(n=Xn(i),n.c(),B(n,1),n.m(e.parentNode,e)):n&&(we(),R(n,1,1,()=>{n=null}),Ce())},i(i){l||(B(n),l=!0)},o(i){R(n),l=!1},d(i){i&&M(e),n&&n.d(i)}}}function Ji(t,e,l){let n,i,r,a,o;lt(t,St,q=>l(7,r=q)),lt(t,qt,q=>l(8,a=q)),lt(t,Qt,q=>l(4,o=q));let u="standalone",f=null,p;function v(q){q.key==="Escape"&&(q.preventDefault(),_())}function _(){qt.set(!1),ws()}function g(q,S=null){q==="loadDetail"&&S&&l(1,f=S),St.set(q)}ts(()=>{ss()&&(qt.set(!0),It.set({citizenid:"DEV123",name:"Dev Driver",reputationScore:650,reputationTier:"established",suspendedUntil:null,totalLoadsCompleted:42,totalLoadsFailed:2,totalLoadsStolen:0,totalDistanceDriven:1280,totalEarnings:87500,licenses:[{type:"class_b",status:"active"},{type:"class_a",status:"active"}],certifications:[{type:"bilkington_carrier",status:"active"}],leonAccess:!1})),p=ys((q,S)=>{switch(q){case"show":qt.set(!0),l(0,u=S.mode||"standalone"),S.screen&&St.set(S.screen);break;case"hide":qt.set(!1);break;case"setScreen":St.set(S.screen),S.screen==="loadDetail"&&S.load&&l(1,f=S.load);break;case"updatePlayer":It.set(S.player);break;case"updateActiveLoad":Qt.set(S.load);break;case"updateBoard":ul.set(S.board);break;case"updateInsurance":is.set(S.insurance);break;case"updateCompany":Cs.set(S.company);break;case"updateHud":Ls.set(S.hud);break;case"updateConvoy":Ts.set(S.convoy);break;case"openCDLTest":al.set(S),Ot.set(null),St.set("cdlTest"),qt.set(!0);break;case"openHazmatBriefing":ol.set(S),St.set("hazmatBriefing"),qt.set(!0);break;case"testResults":Ot.set(S);break;case"cdlTestResult":Ot.set(S);break;case"closeCDLTest":al.set(null),ol.set(null),Ot.set(null),St.set("home");break}}),window.addEventListener("keydown",v)}),ls(()=>{p&&p(),window.removeEventListener("keydown",v)});const b=()=>g("home"),h=()=>g("board"),T=()=>g("activeLoad"),y=q=>g(q.detail.screen,q.detail.data),C=q=>g(q.detail.screen,q.detail.data),w=q=>g(q.detail.screen,q.detail.data),k=()=>g("board"),D=q=>g(q.detail.screen,q.detail.data);return t.$$.update=()=>{t.$$.dirty&256&&l(3,n=a),t.$$.dirty&128&&l(2,i=r)},[u,f,i,n,o,_,g,r,a,b,h,T,y,C,w,k,D]}class Xi extends Ye{constructor(e){super(),Xe(this,e,Ji,Ki,Je,{})}}new Xi({target:document.getElementById("app")});
