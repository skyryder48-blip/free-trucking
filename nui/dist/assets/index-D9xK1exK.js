var yi=Object.defineProperty;var wi=(l,e,t)=>e in l?yi(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var cl=(l,e,t)=>wi(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function le(){}function di(l){return l()}function Cl(){return Object.create(null)}function at(l){l.forEach(di)}function pi(l){return typeof l=="function"}function dt(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Ci(l){return Object.keys(l).length===0}function Li(l,...e){if(l==null){for(const n of e)n(void 0);return le}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ht(l,e,t){l.$$.on_destroy.push(Li(e,t))}function Ll(l){return l??""}function s(l,e){l.appendChild(e)}function R(l,e,t){l.insertBefore(e,t||null)}function P(l){l.parentNode&&l.parentNode.removeChild(l)}function rt(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function d(l){return document.createElement(l)}function fl(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function T(l){return document.createTextNode(l)}function _(){return T(" ")}function Ct(){return T("")}function x(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Dt(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function u(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Mt(l){return l===""?null:+l}function Ti(l){return Array.from(l.childNodes)}function q(l,e){e=""+e,l.data!==e&&(l.data=e)}function et(l,e){l.value=e??""}function vt(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function Pt(l,e,t){for(let n=0;n<l.options.length;n+=1){const i=l.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function tl(l){const e=l.querySelector(":checked");return e&&e.__value}function oe(l,e,t){l.classList.toggle(e,!!t)}function Si(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}let Xt;function Jt(l){Xt=l}function hl(){if(!Xt)throw new Error("Function called outside component initialization");return Xt}function rl(l){hl().$$.on_mount.push(l)}function kl(l){hl().$$.on_destroy.push(l)}function $t(){const l=hl();return(e,t,{cancelable:n=!1}={})=>{const i=l.$$.callbacks[e];if(i){const o=Si(e,t,{cancelable:n});return i.slice().forEach(a=>{a.call(l,o)}),!o.defaultPrevented}return!0}}function It(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Vt=[],Tl=[];let Gt=[];const Sl=[],Di=Promise.resolve();let ml=!1;function Ai(){ml||(ml=!0,Di.then(vi))}function Ut(l){Gt.push(l)}const dl=new Set;let Ot=0;function vi(){if(Ot!==0)return;const l=Xt;do{try{for(;Ot<Vt.length;){const e=Vt[Ot];Ot++,Jt(e),Ni(e.$$)}}catch(e){throw Vt.length=0,Ot=0,e}for(Jt(null),Vt.length=0,Ot=0;Tl.length;)Tl.pop()();for(let e=0;e<Gt.length;e+=1){const t=Gt[e];dl.has(t)||(dl.add(t),t())}Gt.length=0}while(Vt.length);for(;Sl.length;)Sl.pop()();ml=!1,dl.clear(),Jt(l)}function Ni(l){if(l.fragment!==null){l.update(),at(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Ut)}}function Mi(l){const e=[],t=[];Gt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Gt=e}const xt=new Set;let Ft;function Se(){Ft={r:0,c:[],p:Ft}}function De(){Ft.r||at(Ft.c),Ft=Ft.p}function $(l,e){l&&l.i&&(xt.delete(l),l.i(e))}function H(l,e,t,n){if(l&&l.o){if(xt.has(l))return;xt.add(l),Ft.c.push(()=>{xt.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function pe(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function _i(l,e){l.d(1),e.delete(l.key)}function Zt(l,e){H(l,1,1,()=>{e.delete(l.key)})}function zt(l,e,t,n,i,o,a,r,c,f,p,v){let m=l.length,b=o.length,g=m;const y={};for(;g--;)y[l[g].key]=g;const L=[],k=new Map,h=new Map,C=[];for(g=b;g--;){const N=v(i,o,g),D=t(N);let S=a.get(D);S?C.push(()=>S.p(N,e)):(S=f(D,N),S.c()),k.set(D,L[g]=S),D in y&&h.set(D,Math.abs(g-y[D]))}const w=new Set,A=new Set;function M(N){$(N,1),N.m(r,p),a.set(N.key,N),p=N.first,b--}for(;m&&b;){const N=L[b-1],D=l[m-1],S=N.key,B=D.key;N===D?(p=N.first,m--,b--):k.has(B)?!a.has(S)||w.has(S)?M(N):A.has(B)?m--:h.get(S)>h.get(B)?(A.add(S),M(N)):(w.add(B),m--):(c(D,a),m--)}for(;m--;){const N=l[m];k.has(N.key)||c(N,a)}for(;b;)M(L[b-1]);return at(C),L}function Be(l){l&&l.c()}function qe(l,e,t){const{fragment:n,after_update:i}=l.$$;n&&n.m(e,t),Ut(()=>{const o=l.$$.on_mount.map(di).filter(pi);l.$$.on_destroy?l.$$.on_destroy.push(...o):at(o),l.$$.on_mount=[]}),i.forEach(Ut)}function Pe(l,e){const t=l.$$;t.fragment!==null&&(Mi(t.after_update),at(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function qi(l,e){l.$$.dirty[0]===-1&&(Vt.push(l),Ai(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function _t(l,e,t,n,i,o,a=null,r=[-1]){const c=Xt;Jt(l);const f=l.$$={fragment:null,ctx:[],props:o,update:le,not_equal:i,bound:Cl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Cl(),dirty:r,skip_bound:!1,root:e.target||c.$$.root};a&&a(f.root);let p=!1;if(f.ctx=t?t(l,e.props||{},(v,m,...b)=>{const g=b.length?b[0]:m;return f.ctx&&i(f.ctx[v],f.ctx[v]=g)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](g),p&&qi(l,v)),m}):[],f.update(),p=!0,at(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const v=Ti(e.target);f.fragment&&f.fragment.l(v),v.forEach(P)}else f.fragment&&f.fragment.c();e.intro&&$(l.$$.fragment),qe(l,e.target,e.anchor),vi()}Jt(c)}class mt{constructor(){cl(this,"$$");cl(this,"$$set")}$destroy(){Pe(this,1),this.$destroy=le}$on(e,t){if(!pi(t))return le;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Ci(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pi);function mi(){return!window.invokeNative}async function Ke(l,e={}){if(mi())return{};const t=`https://trucking/${l}`;return await(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)})).json()}function bi(l){function e(t){const{action:n,data:i,...o}=t.data;n&&l(n,i||o)}return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}function Ri(){Ke("close")}const Ht=[];function bt(l,e=le){let t;const n=new Set;function i(r){if(dt(l,r)&&(l=r,t)){const c=!Ht.length;for(const f of n)f[1](),Ht.push(f,l);if(c){for(let f=0;f<Ht.length;f+=2)Ht[f][0](Ht[f+1]);Ht.length=0}}}function o(r){i(r(l))}function a(r,c=le){const f=[r,c];return n.add(f),n.size===1&&(t=e(i,o)||le),r(l),()=>{n.delete(f),n.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:a}}const yt=bt("home"),qt=bt({citizenid:"",name:"",reputationScore:500,reputationTier:"developing",suspendedUntil:null,totalLoadsCompleted:0,totalLoadsFailed:0,totalLoadsStolen:0,totalDistanceDriven:0,totalEarnings:0,licenses:[],certifications:[],leonAccess:!1}),Wt=bt(null),Rt=bt({standard:[],supplier:[],open:[],routes:[]}),el=bt({policies:[],availablePlans:[]}),Nt=bt({company:null,members:[],activeClaims:[]}),jt=bt({visible:!1,bolNumber:"",cargoType:"",destination:"",distanceRemaining:0,timeRemaining:0,temperature:null,tempInRange:!0,integrity:100,sealStatus:"not_applied",borderState:"normal"}),Bi=bt({active:!1,convoyId:null,leader:null,members:[],bonusPercentage:0}),bl=bt(null),gl=bt(null),Yt=bt(null),At=bt({stats:null,activeLoads:[],activeSurges:[],boardState:{},economySettings:{multiplier:1},pendingClaims:[],playerProfile:null}),Ei=bt(null),Dl=bt(null),Al=bt(null),$i=bt(null),Tt=bt(!1);function zi(l){let e,t,n;return{c(){e=d("span"),t=T(l[3]),u(e,"class",n=Ll(l[1])+" svelte-17m5jgh"),u(e,"title",l[2]),oe(e,"badge-small",l[0]==="small")},m(i,o){R(i,e,o),s(e,t)},p(i,[o]){o&8&&q(t,i[3]),o&2&&n!==(n=Ll(i[1])+" svelte-17m5jgh")&&u(e,"class",n),o&4&&u(e,"title",i[2]),o&3&&oe(e,"badge-small",i[0]==="small")},i:le,o:le,d(i){i&&P(e)}}}function ji(l,e,t){let n,i,o,{tier:a=0}=e,{size:r="default"}=e;const c={0:"T0",1:"T1",2:"T2",3:"T3"},f={0:"Entry",1:"Standard",2:"Specialized",3:"Premium"};return l.$$set=p=>{"tier"in p&&t(4,a=p.tier),"size"in p&&t(0,r=p.size)},l.$$.update=()=>{l.$$.dirty&16&&t(3,n=c[a]||"T0"),l.$$.dirty&16&&t(2,i=f[a]||"Entry"),l.$$.dirty&16&&t(1,o=`badge badge-t${a}`)},[r,o,i,n,a]}class ol extends mt{constructor(e){super(),_t(this,e,ji,zi,dt,{tier:4,size:0})}}function Fi(l){let e,t,n;return{c(){e=d("span"),t=T(l[1]),u(e,"class",n="status-badge "+l[0].cssClass+" svelte-zwfd9g")},m(i,o){R(i,e,o),s(e,t)},p(i,[o]){o&2&&q(t,i[1]),o&1&&n!==(n="status-badge "+i[0].cssClass+" svelte-zwfd9g")&&u(e,"class",n)},i:le,o:le,d(i){i&&P(e)}}}function Ii(l,e,t){let n,i,{status:o="inactive"}=e,{label:a=""}=e;const r={sealed:{text:"Sealed",cssClass:"status-sealed"},broken:{text:"Broken",cssClass:"status-broken"},active:{text:"Active",cssClass:"status-active"},expired:{text:"Expired",cssClass:"status-expired"},not_applied:{text:"Not Applied",cssClass:"status-not-applied"},warning:{text:"Warning",cssClass:"status-warning"},critical:{text:"Critical",cssClass:"status-critical"},inactive:{text:"Inactive",cssClass:"status-inactive"},rejected:{text:"Rejected",cssClass:"status-rejected"},suspended:{text:"Suspended",cssClass:"status-suspended"},in_transit:{text:"In Transit",cssClass:"status-active"},at_origin:{text:"At Origin",cssClass:"status-active"},at_destination:{text:"At Dest",cssClass:"status-active"},completed:{text:"Completed",cssClass:"status-sealed"},distress_active:{text:"Distress",cssClass:"status-critical"}};return l.$$set=c=>{"status"in c&&t(2,o=c.status),"label"in c&&t(3,a=c.label)},l.$$.update=()=>{l.$$.dirty&4&&t(0,n=r[o]||r.inactive),l.$$.dirty&9&&t(1,i=a||n.text)},[n,i,o,a]}class ft extends mt{constructor(e){super(),_t(this,e,Ii,Fi,dt,{status:2,label:3})}}function Nl(l){let e;return{c(){e=d("span"),e.textContent="Time Remaining",u(e,"class","countdown-label svelte-wmne0m")},m(t,n){R(t,e,n)},d(t){t&&P(e)}}}function Ml(l){let e;return{c(){e=d("span"),e.textContent="Expired",u(e,"class","countdown-expired-label svelte-wmne0m")},m(t,n){R(t,e,n)},d(t){t&&P(e)}}}function Ui(l){let e,t,n,i,o,a=l[1]&&Nl(),r=l[2]==="expired"&&Ml();return{c(){e=d("div"),a&&a.c(),t=_(),n=d("span"),i=T(l[3]),o=_(),r&&r.c(),u(n,"class","countdown-value mono svelte-wmne0m"),u(e,"class","countdown svelte-wmne0m"),oe(e,"countdown-large",l[0]),oe(e,"state-warning",l[2]==="warning"),oe(e,"state-critical",l[2]==="critical"),oe(e,"state-expired",l[2]==="expired")},m(c,f){R(c,e,f),a&&a.m(e,null),s(e,t),s(e,n),s(n,i),s(e,o),r&&r.m(e,null)},p(c,[f]){c[1]?a||(a=Nl(),a.c(),a.m(e,t)):a&&(a.d(1),a=null),f&8&&q(i,c[3]),c[2]==="expired"?r||(r=Ml(),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&1&&oe(e,"countdown-large",c[0]),f&4&&oe(e,"state-warning",c[2]==="warning"),f&4&&oe(e,"state-critical",c[2]==="critical"),f&4&&oe(e,"state-expired",c[2]==="expired")},i:le,o:le,d(c){c&&P(e),a&&a.d(),r&&r.d()}}}function Oi(l,e,t){const n=i=>String(i).padStart(2,"0");return l>0?`${l}:${n(e)}:${n(t)}`:`${n(e)}:${n(t)}`}function Hi(l,e,t){let n,i,o,a,r,{targetTime:c=0}=e,{warningMinutes:f=15}=e,{criticalMinutes:p=5}=e,{large:v=!1}=e,{showLabel:m=!0}=e,b=0,g;function y(k){return k<=0?"expired":k<=p*60?"critical":k<=f*60?"warning":"normal"}function L(){const k=Math.floor(Date.now()/1e3);t(7,b=Math.max(0,c-k))}return rl(()=>{L(),g=setInterval(L,1e3)}),kl(()=>{g&&clearInterval(g)}),l.$$set=k=>{"targetTime"in k&&t(4,c=k.targetTime),"warningMinutes"in k&&t(5,f=k.warningMinutes),"criticalMinutes"in k&&t(6,p=k.criticalMinutes),"large"in k&&t(0,v=k.large),"showLabel"in k&&t(1,m=k.showLabel)},l.$$.update=()=>{l.$$.dirty&128&&t(10,n=Math.floor(b/3600)),l.$$.dirty&128&&t(9,i=Math.floor(b%3600/60)),l.$$.dirty&128&&t(8,o=b%60),l.$$.dirty&1792&&t(3,a=Oi(n,i,o)),l.$$.dirty&128&&t(2,r=y(b))},[v,m,r,a,c,f,p,b,o,i,n]}class gi extends mt{constructor(e){super(),_t(this,e,Hi,Ui,dt,{targetTime:4,warningMinutes:5,criticalMinutes:6,large:0,showLabel:1})}}function ql(l){let e,t;return{c(){e=d("span"),t=T(l[3]),u(e,"class","ring-label svelte-am61xn")},m(n,i){R(n,e,i),s(e,t)},p(n,i){i&8&&q(t,n[3])},d(n){n&&P(e)}}}function Vi(l){let e,t,n,i,o,a,r,c,f,p,v,m,b,g=Math.round(l[0])+"",y,L,k=l[3]&&ql(l);return{c(){e=d("div"),t=fl("svg"),n=fl("circle"),a=fl("circle"),v=_(),m=d("div"),b=d("span"),y=T(g),L=_(),k&&k.c(),u(n,"cx",i=l[1]/2),u(n,"cy",o=l[1]/2),u(n,"r",l[5]),u(n,"fill","none"),u(n,"stroke","var(--navy-dark)"),u(n,"stroke-width",l[2]),u(a,"cx",r=l[1]/2),u(a,"cy",c=l[1]/2),u(a,"r",l[5]),u(a,"fill","none"),u(a,"stroke",l[6]),u(a,"stroke-width",l[2]),u(a,"stroke-linecap","round"),u(a,"stroke-dasharray",l[4]),u(a,"stroke-dashoffset",l[7]),u(a,"transform",f="rotate(-90 "+l[1]/2+" "+l[1]/2+")"),u(a,"class","progress-arc svelte-am61xn"),u(t,"width",l[1]),u(t,"height",l[1]),u(t,"viewBox",p="0 0 "+l[1]+" "+l[1]),u(t,"class","svelte-am61xn"),u(b,"class","ring-value mono svelte-am61xn"),vt(b,"color",l[6]),u(m,"class","ring-content svelte-am61xn"),u(e,"class","progress-ring svelte-am61xn"),vt(e,"width",l[1]+"px"),vt(e,"height",l[1]+"px")},m(h,C){R(h,e,C),s(e,t),s(t,n),s(t,a),s(e,v),s(e,m),s(m,b),s(b,y),s(m,L),k&&k.m(m,null)},p(h,[C]){C&2&&i!==(i=h[1]/2)&&u(n,"cx",i),C&2&&o!==(o=h[1]/2)&&u(n,"cy",o),C&32&&u(n,"r",h[5]),C&4&&u(n,"stroke-width",h[2]),C&2&&r!==(r=h[1]/2)&&u(a,"cx",r),C&2&&c!==(c=h[1]/2)&&u(a,"cy",c),C&32&&u(a,"r",h[5]),C&64&&u(a,"stroke",h[6]),C&4&&u(a,"stroke-width",h[2]),C&16&&u(a,"stroke-dasharray",h[4]),C&128&&u(a,"stroke-dashoffset",h[7]),C&2&&f!==(f="rotate(-90 "+h[1]/2+" "+h[1]/2+")")&&u(a,"transform",f),C&2&&u(t,"width",h[1]),C&2&&u(t,"height",h[1]),C&2&&p!==(p="0 0 "+h[1]+" "+h[1])&&u(t,"viewBox",p),C&1&&g!==(g=Math.round(h[0])+"")&&q(y,g),C&64&&vt(b,"color",h[6]),h[3]?k?k.p(h,C):(k=ql(h),k.c(),k.m(m,null)):k&&(k.d(1),k=null),C&2&&vt(e,"width",h[1]+"px"),C&2&&vt(e,"height",h[1]+"px")},i:le,o:le,d(h){h&&P(e),k&&k.d()}}}function Wi(l,e,t){let n,i,o,a,r,{value:c=100}=e,{max:f=100}=e,{size:p=64}=e,{strokeWidth:v=5}=e,{label:m=""}=e,{variant:b="default"}=e,{warningThreshold:g=60}=e,{criticalThreshold:y=40}=e;function L(k,h){return h==="integrity"||h==="default"||h==="temperature"?k<=y?"var(--orange)":k<=g?"var(--warning)":"var(--success)":"var(--orange)"}return l.$$set=k=>{"value"in k&&t(0,c=k.value),"max"in k&&t(8,f=k.max),"size"in k&&t(1,p=k.size),"strokeWidth"in k&&t(2,v=k.strokeWidth),"label"in k&&t(3,m=k.label),"variant"in k&&t(9,b=k.variant),"warningThreshold"in k&&t(10,g=k.warningThreshold),"criticalThreshold"in k&&t(11,y=k.criticalThreshold)},l.$$.update=()=>{l.$$.dirty&257&&t(12,n=Math.max(0,Math.min(100,c/f*100))),l.$$.dirty&6&&t(5,i=(p-v)/2),l.$$.dirty&32&&t(4,o=2*Math.PI*i),l.$$.dirty&4112&&t(7,a=o-n/100*o),l.$$.dirty&4608&&t(6,r=L(n,b))},[c,p,v,m,o,i,r,a,f,b,g,y,n]}class hi extends mt{constructor(e){super(),_t(this,e,Wi,Vi,dt,{value:0,max:8,size:1,strokeWidth:2,label:3,variant:9,warningThreshold:10,criticalThreshold:11})}}function Pl(l,e,t){const n=l.slice();return n[17]=e[t],n}function Rl(l,e,t){const n=l.slice();return n[20]=e[t],n}function Bl(l){let e,t,n,i,o,a,r,c,f,p,v,m=(l[3].bolNumber||"—")+"",b,g,y,L=(l[3].cargoType||"Cargo")+"",k,h,C,w=(l[3].destinationLabel||"—")+"",A,M,N,D,S,B,j,W,V,I;o=new ft({props:{status:l[3].status||"in_transit"}});let E=l[3].windowExpiresAt&&El(l);return S=new hi({props:{value:l[3].cargoIntegrity??100,label:"%",size:52,strokeWidth:4,variant:"integrity"}}),{c(){e=d("div"),t=d("div"),n=d("h3"),n.textContent="Active Load",i=_(),Be(o.$$.fragment),a=_(),r=d("div"),c=d("div"),f=d("div"),p=d("span"),v=T("BOL #"),b=T(m),g=_(),y=d("span"),k=T(L),h=_(),C=d("span"),A=T(w),M=_(),N=d("div"),E&&E.c(),D=_(),Be(S.$$.fragment),B=_(),j=d("button"),j.textContent="View Active Load",u(n,"class","card-title"),u(t,"class","card-header"),u(p,"class","bol-number mono svelte-1b4ep7"),u(y,"class","cargo-label svelte-1b4ep7"),u(C,"class","dest-label text-muted svelte-1b4ep7"),u(f,"class","active-load-info svelte-1b4ep7"),u(N,"class","active-load-meters svelte-1b4ep7"),u(c,"class","active-load-top svelte-1b4ep7"),u(j,"class","btn btn-primary btn-sm"),u(r,"class","card-body"),u(e,"class","card active-load-card svelte-1b4ep7")},m(z,Q){R(z,e,Q),s(e,t),s(t,n),s(t,i),qe(o,t,null),s(e,a),s(e,r),s(r,c),s(c,f),s(f,p),s(p,v),s(p,b),s(f,g),s(f,y),s(y,k),s(f,h),s(f,C),s(C,A),s(c,M),s(c,N),E&&E.m(N,null),s(N,D),qe(S,N,null),s(r,B),s(r,j),W=!0,V||(I=x(j,"click",l[12]),V=!0)},p(z,Q){const U={};Q&8&&(U.status=z[3].status||"in_transit"),o.$set(U),(!W||Q&8)&&m!==(m=(z[3].bolNumber||"—")+"")&&q(b,m),(!W||Q&8)&&L!==(L=(z[3].cargoType||"Cargo")+"")&&q(k,L),(!W||Q&8)&&w!==(w=(z[3].destinationLabel||"—")+"")&&q(A,w),z[3].windowExpiresAt?E?(E.p(z,Q),Q&8&&$(E,1)):(E=El(z),E.c(),$(E,1),E.m(N,D)):E&&(Se(),H(E,1,1,()=>{E=null}),De());const K={};Q&8&&(K.value=z[3].cargoIntegrity??100),S.$set(K)},i(z){W||($(o.$$.fragment,z),$(E),$(S.$$.fragment,z),W=!0)},o(z){H(o.$$.fragment,z),H(E),H(S.$$.fragment,z),W=!1},d(z){z&&P(e),Pe(o),E&&E.d(),Pe(S),V=!1,I()}}}function El(l){let e,t;return e=new gi({props:{targetTime:l[3].windowExpiresAt}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p(n,i){const o={};i&8&&(o.targetTime=n[3].windowExpiresAt),e.$set(o)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function $l(l){let e,t,n,i,o,a=pe(l[4].licenses),r=[];for(let f=0;f<a.length;f+=1)r[f]=zl(Rl(l,a,f));const c=f=>H(r[f],1,1,()=>{r[f]=null});return{c(){e=d("div"),t=d("span"),t.textContent="Licenses",n=_(),i=d("div");for(let f=0;f<r.length;f+=1)r[f].c();u(t,"class","section-label svelte-1b4ep7"),u(i,"class","license-list svelte-1b4ep7"),u(e,"class","standing-licenses svelte-1b4ep7")},m(f,p){R(f,e,p),s(e,t),s(e,n),s(e,i);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(i,null);o=!0},p(f,p){if(p&16){a=pe(f[4].licenses);let v;for(v=0;v<a.length;v+=1){const m=Rl(f,a,v);r[v]?(r[v].p(m,p),$(r[v],1)):(r[v]=zl(m),r[v].c(),$(r[v],1),r[v].m(i,null))}for(Se(),v=a.length;v<r.length;v+=1)c(v);De()}},i(f){if(!o){for(let p=0;p<a.length;p+=1)$(r[p]);o=!0}},o(f){r=r.filter(Boolean);for(let p=0;p<r.length;p+=1)H(r[p]);o=!1},d(f){f&&P(e),rt(r,f)}}}function zl(l){var f;let e,t,n=((f=l[20].type)==null?void 0:f.replace("_"," ").toUpperCase())+"",i,o,a,r,c;return a=new ft({props:{status:l[20].status}}),{c(){e=d("div"),t=d("span"),i=T(n),o=_(),Be(a.$$.fragment),r=_(),u(t,"class","license-type svelte-1b4ep7"),u(e,"class","license-item svelte-1b4ep7")},m(p,v){R(p,e,v),s(e,t),s(t,i),s(e,o),qe(a,e,null),s(e,r),c=!0},p(p,v){var b;(!c||v&16)&&n!==(n=((b=p[20].type)==null?void 0:b.replace("_"," ").toUpperCase())+"")&&q(i,n);const m={};v&16&&(m.status=p[20].status),a.$set(m)},i(p){c||($(a.$$.fragment,p),c=!0)},o(p){H(a.$$.fragment,p),c=!1},d(p){p&&P(e),Pe(a)}}}function Gi(l){let e,t;return e=new ft({props:{status:"inactive",label:"No Policy"}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Qi(l){let e,t;return e=new ft({props:{status:"active"}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Zi(l){let e;return{c(){e=d("p"),e.textContent="No active insurance policy. Consider purchasing coverage before your next haul.",u(e,"class","text-muted"),vt(e,"font-size","13px")},m(t,n){R(t,e,n)},p:le,d(t){t&&P(e)}}}function Ki(l){let e,t,n=(l[2].policyType||"Standard")+"",i,o,a=l[2].expiresAt&&jl(l);return{c(){e=d("div"),t=d("span"),i=T(n),o=_(),a&&a.c(),u(t,"class","insurance-type svelte-1b4ep7"),u(e,"class","insurance-info svelte-1b4ep7")},m(r,c){R(r,e,c),s(e,t),s(t,i),s(e,o),a&&a.m(e,null)},p(r,c){c&4&&n!==(n=(r[2].policyType||"Standard")+"")&&q(i,n),r[2].expiresAt?a?a.p(r,c):(a=jl(r),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(r){r&&P(e),a&&a.d()}}}function jl(l){let e,t,n,i=new Date(l[2].expiresAt*1e3).toLocaleDateString()+"",o;return{c(){e=d("span"),t=T("Expires: "),n=d("span"),o=T(i),u(n,"class","mono"),u(e,"class","insurance-expiry text-muted svelte-1b4ep7")},m(a,r){R(a,e,r),s(e,t),s(e,n),s(n,o)},p(a,r){r&4&&i!==(i=new Date(a[2].expiresAt*1e3).toLocaleDateString()+"")&&q(o,i)},d(a){a&&P(e)}}}function Fl(l){let e,t,n,i,o=l[0][l[17]]+"",a,r,c;return t=new ol({props:{tier:l[17],size:"small"}}),{c(){e=d("div"),Be(t.$$.fragment),n=_(),i=d("span"),a=T(o),r=_(),u(i,"class","tier-count-value mono svelte-1b4ep7"),u(e,"class","tier-count-item svelte-1b4ep7")},m(f,p){R(f,e,p),qe(t,e,null),s(e,n),s(e,i),s(i,a),s(e,r),c=!0},p(f,p){(!c||p&1)&&o!==(o=f[0][f[17]]+"")&&q(a,o)},i(f){c||($(t.$$.fragment,f),c=!0)},o(f){H(t.$$.fragment,f),c=!1},d(f){f&&P(e),Pe(t)}}}function Ji(l){var Lt,gt;let e,t,n,i,o,a,r,c=Ul(l[4].reputationTier)+"",f,p,v,m,b,g,y,L,k=l[4].reputationScore+"",h,C,w,A,M,N,D=l[4].totalLoadsCompleted+"",S,B,j,W,V,I,E=Il(l[4].totalEarnings)+"",z,Q,U,K,ee,F,ne=(((Lt=l[4].totalDistanceDriven)==null?void 0:Lt.toLocaleString())||"0")+"",X,Z,J,Y,se,te,he,ve,re,ke,ye,Le,Ue,me,fe,we,Ve,Ae,We,Ie,Fe,ce,ge,Ce,Ee,nt,Ge,st,Oe,Me,Te,$e,ue=l[3]&&Bl(l),O=((gt=l[4].licenses)==null?void 0:gt.length)>0&&$l(l);const _e=[Qi,Gi],je=[];function Qe(be,Je){return be[2]?0:1}re=Qe(l),ke=je[re]=_e[re](l);function ae(be,Je){return be[2]?Ki:Zi}let He=ae(l),G=He(l),Re=pe([0,1,2,3]),ze=[];for(let be=0;be<4;be+=1)ze[be]=Fl(Pl(l,Re,be));const kt=be=>H(ze[be],1,1,()=>{ze[be]=null});return{c(){e=d("div"),ue&&ue.c(),t=_(),n=d("div"),i=d("div"),o=d("h3"),o.textContent="Driver Standing",a=_(),r=d("span"),f=T(c),p=_(),v=d("div"),m=d("div"),b=d("div"),g=d("span"),g.textContent="Reputation",y=_(),L=d("span"),h=T(k),C=_(),w=d("div"),A=d("span"),A.textContent="Total Deliveries",M=_(),N=d("span"),S=T(D),B=_(),j=d("div"),W=d("span"),W.textContent="Total Earnings",V=_(),I=d("span"),z=T(E),Q=_(),U=d("div"),K=d("span"),K.textContent="Distance Driven",ee=_(),F=d("span"),X=T(ne),Z=T(" mi"),J=_(),O&&O.c(),Y=_(),se=d("div"),te=d("div"),he=d("h3"),he.textContent="Insurance",ve=_(),ke.c(),ye=_(),Le=d("div"),G.c(),Ue=_(),me=d("div"),fe=d("div"),we=d("h3"),we.textContent="Available Loads",Ve=_(),Ae=d("span"),We=T(l[1]),Ie=_(),Fe=d("div"),ce=d("div");for(let be=0;be<4;be+=1)ze[be].c();ge=_(),Ce=d("div"),Ee=d("button"),Ee.textContent="View Board",nt=_(),Ge=d("button"),Ge.textContent="View Profile",st=_(),Oe=d("button"),Oe.textContent="Buy Insurance",u(o,"class","card-title"),u(r,"class","rep-tier-badge heading svelte-1b4ep7"),u(i,"class","card-header"),u(g,"class","stat-label svelte-1b4ep7"),u(L,"class","stat-value mono svelte-1b4ep7"),u(b,"class","stat-item svelte-1b4ep7"),u(A,"class","stat-label svelte-1b4ep7"),u(N,"class","stat-value mono svelte-1b4ep7"),u(w,"class","stat-item svelte-1b4ep7"),u(W,"class","stat-label svelte-1b4ep7"),u(I,"class","stat-value mono svelte-1b4ep7"),u(j,"class","stat-item svelte-1b4ep7"),u(K,"class","stat-label svelte-1b4ep7"),u(F,"class","stat-value mono svelte-1b4ep7"),u(U,"class","stat-item svelte-1b4ep7"),u(m,"class","standing-stats svelte-1b4ep7"),u(v,"class","card-body"),u(n,"class","card standing-card"),u(he,"class","card-title"),u(te,"class","card-header"),u(Le,"class","card-body"),u(se,"class","card insurance-card"),u(we,"class","card-title"),u(Ae,"class","board-count mono svelte-1b4ep7"),u(fe,"class","card-header"),u(ce,"class","tier-counts svelte-1b4ep7"),u(Fe,"class","card-body"),u(me,"class","card board-summary-card"),u(Ee,"class","btn btn-primary svelte-1b4ep7"),u(Ge,"class","btn btn-secondary svelte-1b4ep7"),u(Oe,"class","btn btn-secondary svelte-1b4ep7"),u(Ce,"class","quick-actions svelte-1b4ep7"),u(e,"class","home-screen svelte-1b4ep7")},m(be,Je){R(be,e,Je),ue&&ue.m(e,null),s(e,t),s(e,n),s(n,i),s(i,o),s(i,a),s(i,r),s(r,f),s(n,p),s(n,v),s(v,m),s(m,b),s(b,g),s(b,y),s(b,L),s(L,h),s(m,C),s(m,w),s(w,A),s(w,M),s(w,N),s(N,S),s(m,B),s(m,j),s(j,W),s(j,V),s(j,I),s(I,z),s(m,Q),s(m,U),s(U,K),s(U,ee),s(U,F),s(F,X),s(F,Z),s(v,J),O&&O.m(v,null),s(e,Y),s(e,se),s(se,te),s(te,he),s(te,ve),je[re].m(te,null),s(se,ye),s(se,Le),G.m(Le,null),s(e,Ue),s(e,me),s(me,fe),s(fe,we),s(fe,Ve),s(fe,Ae),s(Ae,We),s(me,Ie),s(me,Fe),s(Fe,ce);for(let Xe=0;Xe<4;Xe+=1)ze[Xe]&&ze[Xe].m(ce,null);s(e,ge),s(e,Ce),s(Ce,Ee),s(Ce,nt),s(Ce,Ge),s(Ce,st),s(Ce,Oe),Me=!0,Te||($e=[x(Ee,"click",l[13]),x(Ge,"click",l[14]),x(Oe,"click",l[15])],Te=!0)},p(be,[Je]){var Ye,ot;be[3]?ue?(ue.p(be,Je),Je&8&&$(ue,1)):(ue=Bl(be),ue.c(),$(ue,1),ue.m(e,t)):ue&&(Se(),H(ue,1,1,()=>{ue=null}),De()),(!Me||Je&16)&&c!==(c=Ul(be[4].reputationTier)+"")&&q(f,c),(!Me||Je&16)&&k!==(k=be[4].reputationScore+"")&&q(h,k),(!Me||Je&16)&&D!==(D=be[4].totalLoadsCompleted+"")&&q(S,D),(!Me||Je&16)&&E!==(E=Il(be[4].totalEarnings)+"")&&q(z,E),(!Me||Je&16)&&ne!==(ne=(((Ye=be[4].totalDistanceDriven)==null?void 0:Ye.toLocaleString())||"0")+"")&&q(X,ne),((ot=be[4].licenses)==null?void 0:ot.length)>0?O?(O.p(be,Je),Je&16&&$(O,1)):(O=$l(be),O.c(),$(O,1),O.m(v,null)):O&&(Se(),H(O,1,1,()=>{O=null}),De());let Xe=re;if(re=Qe(be),re!==Xe&&(Se(),H(je[Xe],1,1,()=>{je[Xe]=null}),De(),ke=je[re],ke||(ke=je[re]=_e[re](be),ke.c()),$(ke,1),ke.m(te,null)),He===(He=ae(be))&&G?G.p(be,Je):(G.d(1),G=He(be),G&&(G.c(),G.m(Le,null))),(!Me||Je&2)&&q(We,be[1]),Je&1){Re=pe([0,1,2,3]);let Ze;for(Ze=0;Ze<4;Ze+=1){const it=Pl(be,Re,Ze);ze[Ze]?(ze[Ze].p(it,Je),$(ze[Ze],1)):(ze[Ze]=Fl(it),ze[Ze].c(),$(ze[Ze],1),ze[Ze].m(ce,null))}for(Se(),Ze=4;Ze<4;Ze+=1)kt(Ze);De()}},i(be){if(!Me){$(ue),$(O),$(ke);for(let Je=0;Je<4;Je+=1)$(ze[Je]);Me=!0}},o(be){H(ue),H(O),H(ke),ze=ze.filter(Boolean);for(let Je=0;Je<4;Je+=1)H(ze[Je]);Me=!1},d(be){be&&P(e),ue&&ue.d(),O&&O.d(),je[re].d(),G.d(),rt(ze,be),Te=!1,at($e)}}}function Il(l){return l==null?"$0":"$"+Number(l).toLocaleString("en-US")}function Ul(l){return{suspended:"Suspended",restricted:"Restricted",probationary:"Probationary",developing:"Developing",established:"Established",professional:"Professional",elite:"Elite"}[l]||l}function Xi(l,e,t){let n,i,o,a,r,c,f,p,v,m,b;ht(l,Rt,w=>t(8,p=w)),ht(l,el,w=>t(9,v=w)),ht(l,Wt,w=>t(10,m=w)),ht(l,qt,w=>t(11,b=w));const g=$t();function y(w,A=null){g("navigate",{screen:w,data:A})}const L=()=>y("activeLoad"),k=()=>y("board"),h=()=>y("profile"),C=()=>y("insurance");return l.$$.update=()=>{var w;l.$$.dirty&2048&&t(4,n=b),l.$$.dirty&1024&&t(3,i=m),l.$$.dirty&512&&t(7,o=v),l.$$.dirty&256&&t(6,a=p),l.$$.dirty&128&&t(2,r=((w=o.policies)==null?void 0:w.find(A=>A.status==="active"))||null),l.$$.dirty&64&&t(0,c=(()=>{const A=a.standard||[],M={0:0,1:0,2:0,3:0};return A.forEach(N=>{M[N.tier]!==void 0&&M[N.tier]++}),M})()),l.$$.dirty&1&&t(1,f=Object.values(c).reduce((A,M)=>A+M,0))},[c,f,r,i,n,y,a,o,p,v,m,b,L,k,h,C]}class Yi extends mt{constructor(e){super(),_t(this,e,Xi,Ji,dt,{})}}function Ol(l,e,t){const n=l.slice();return n[5]=e[t],n}function Hl(l){let e,t=l[5].count+"",n;return{c(){e=d("span"),n=T(t),u(e,"class","tab-count mono svelte-1wvtizk")},m(i,o){R(i,e,o),s(e,n)},p(i,o){o&1&&t!==(t=i[5].count+"")&&q(n,t)},d(i){i&&P(e)}}}function Vl(l,e){let t,n=e[5].label+"",i,o,a,r,c,f=e[5].count!==void 0&&Hl(e);function p(){return e[3](e[5])}return{key:l,first:null,c(){t=d("button"),i=T(n),o=_(),f&&f.c(),a=_(),u(t,"class","tab-item svelte-1wvtizk"),oe(t,"tab-active",e[1]===e[5].id),this.first=t},m(v,m){R(v,t,m),s(t,i),s(t,o),f&&f.m(t,null),s(t,a),r||(c=x(t,"click",p),r=!0)},p(v,m){e=v,m&1&&n!==(n=e[5].label+"")&&q(i,n),e[5].count!==void 0?f?f.p(e,m):(f=Hl(e),f.c(),f.m(t,a)):f&&(f.d(1),f=null),m&3&&oe(t,"tab-active",e[1]===e[5].id)},d(v){v&&P(t),f&&f.d(),r=!1,c()}}}function xi(l){let e,t=[],n=new Map,i=pe(l[0]);const o=a=>a[5].id;for(let a=0;a<i.length;a+=1){let r=Ol(l,i,a),c=o(r);n.set(c,t[a]=Vl(c,r))}return{c(){e=d("div");for(let a=0;a<t.length;a+=1)t[a].c();u(e,"class","tab-bar svelte-1wvtizk")},m(a,r){R(a,e,r);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(a,[r]){r&7&&(i=pe(a[0]),t=zt(t,r,o,1,a,i,n,e,_i,Vl,null,Ol))},i:le,o:le,d(a){a&&P(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function ea(l,e,t){let{tabs:n=[]}=e,{activeTab:i=""}=e;const o=$t();function a(c){o("tabChange",{tab:c})}const r=c=>a(c.id);return l.$$set=c=>{"tabs"in c&&t(0,n=c.tabs),"activeTab"in c&&t(1,i=c.activeTab)},[n,i,a,r]}class ki extends mt{constructor(e){super(),_t(this,e,ea,xi,dt,{tabs:0,activeTab:1})}}function Wl(l,e,t){const n=l.slice();return n[5]=e[t],n}function Gl(l){var b;let e,t,n,i,o,a,r,c,f=Qt((b=l[0])==null?void 0:b.totalEstimated)+"",p,v=pe(l[2]),m=[];for(let g=0;g<v.length;g+=1)m[g]=Zl(Wl(l,v,g));return{c(){e=d("div");for(let g=0;g<m.length;g+=1)m[g].c();t=_(),n=d("div"),i=_(),o=d("div"),a=d("span"),a.textContent="Total Estimated",r=_(),c=d("span"),p=T(f),u(n,"class","payout-divider svelte-klj94l"),u(a,"class","payout-line-label svelte-klj94l"),u(c,"class","payout-line-value payout-figure mono svelte-klj94l"),u(o,"class","payout-line payout-total-line svelte-klj94l"),u(e,"class","payout-body fade-in svelte-klj94l")},m(g,y){R(g,e,y);for(let L=0;L<m.length;L+=1)m[L]&&m[L].m(e,null);s(e,t),s(e,n),s(e,i),s(e,o),s(o,a),s(o,r),s(o,c),s(c,p)},p(g,y){var L;if(y&4){v=pe(g[2]);let k;for(k=0;k<v.length;k+=1){const h=Wl(g,v,k);m[k]?m[k].p(h,y):(m[k]=Zl(h),m[k].c(),m[k].m(e,t))}for(;k<m.length;k+=1)m[k].d(1);m.length=v.length}y&1&&f!==(f=Qt((L=g[0])==null?void 0:L.totalEstimated)+"")&&q(p,f)},d(g){g&&P(e),rt(m,g)}}}function Ql(l){let e,t=Qt(l[5].value)+"",n;return{c(){e=d("span"),n=T(t),u(e,"class","payout-line-value mono svelte-klj94l")},m(i,o){R(i,e,o),s(e,n)},p(i,o){o&4&&t!==(t=Qt(i[5].value)+"")&&q(n,t)},d(i){i&&P(e)}}}function Zl(l){let e,t,n=l[5].label+"",i,o,a=l[5].value!=null&&Ql(l);return{c(){e=d("div"),t=d("span"),i=T(n),o=_(),a&&a.c(),u(t,"class","payout-line-label svelte-klj94l"),u(e,"class","payout-line svelte-klj94l"),oe(e,"surge-line",l[5].type==="surge")},m(r,c){R(r,e,c),s(e,t),s(t,i),s(e,o),a&&a.m(e,null)},p(r,c){c&4&&n!==(n=r[5].label+"")&&q(i,n),r[5].value!=null?a?a.p(r,c):(a=Ql(r),a.c(),a.m(e,null)):a&&(a.d(1),a=null),c&4&&oe(e,"surge-line",r[5].type==="surge")},d(r){r&&P(e),a&&a.d()}}}function ta(l){var k;let e,t,n,i,o,a,r=Qt((k=l[0])==null?void 0:k.totalEstimated)+"",c,f,p,v=l[1]?"▲":"▼",m,b,g,y,L=l[1]&&Gl(l);return{c(){e=d("div"),t=d("button"),n=d("span"),n.textContent="Payout Breakdown",i=_(),o=d("div"),a=d("span"),c=T(r),f=_(),p=d("span"),m=T(v),b=_(),L&&L.c(),u(n,"class","payout-title svelte-klj94l"),u(a,"class","payout-total mono svelte-klj94l"),u(p,"class","payout-chevron svelte-klj94l"),u(o,"class","payout-header-right svelte-klj94l"),u(t,"class","payout-header svelte-klj94l"),u(e,"class","payout-breakdown svelte-klj94l"),oe(e,"expanded",l[1])},m(h,C){R(h,e,C),s(e,t),s(t,n),s(t,i),s(t,o),s(o,a),s(a,c),s(o,f),s(o,p),s(p,m),s(e,b),L&&L.m(e,null),g||(y=x(t,"click",l[3]),g=!0)},p(h,[C]){var w;C&1&&r!==(r=Qt((w=h[0])==null?void 0:w.totalEstimated)+"")&&q(c,r),C&2&&v!==(v=h[1]?"▲":"▼")&&q(m,v),h[1]?L?L.p(h,C):(L=Gl(h),L.c(),L.m(e,null)):L&&(L.d(1),L=null),C&2&&oe(e,"expanded",h[1])},i:le,o:le,d(h){h&&P(e),L&&L.d(),g=!1,y()}}}function la(l){if(!l)return[];const e=[];if(l.baseRate&&l.distance?e.push({label:`Base rate ($${pl(l.baseRate)}/mi x ${pl(l.distance)} mi)`,value:l.basePayout||l.baseRate*l.distance,type:"base"}):l.basePayout&&e.push({label:"Base payout",value:l.basePayout,type:"base"}),l.weightMultiplier&&l.weightMultiplier!==1&&e.push({label:`Weight multiplier (x${pl(l.weightMultiplier)})`,value:null,type:"modifier"}),l.ownerOpBonus&&e.push({label:"Owner-op bonus",value:l.ownerOpBonus,type:"bonus"}),l.timePerformance&&e.push({label:"Est. time performance",value:l.timePerformance,type:"bonus"}),l.complianceBonus&&e.push({label:"Compliance potential",value:l.complianceBonus,type:"bonus"}),l.nightHaulPremium&&e.push({label:"Night haul premium",value:l.nightHaulPremium,type:"bonus"}),l.surgeBonus){const t=l.surgePercentage?`Surge bonus (+${l.surgePercentage}%)`:"Surge bonus";e.push({label:t,value:l.surgeBonus,type:"surge"})}return e}function pl(l){return l==null?"—":Number(l).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}function Qt(l){return l==null?"—":"$"+Number(l).toLocaleString("en-US")}function na(l,e,t){let n,{breakdown:i={}}=e,{startExpanded:o=!1}=e,a=o;function r(){t(1,a=!a)}return l.$$set=c=>{"breakdown"in c&&t(0,i=c.breakdown),"startExpanded"in c&&t(4,o=c.startExpanded)},l.$$.update=()=>{l.$$.dirty&1&&t(2,n=la(i))},[i,a,n,r,o]}class yl extends mt{constructor(e){super(),_t(this,e,na,ta,dt,{breakdown:0,startExpanded:4})}}function Kl(l){let e,t,n=l[0].cargoSubtype+"",i,o;return{c(){e=d("span"),t=T("("),i=T(n),o=T(")"),u(e,"class","cargo-subtype text-muted svelte-n0u9b4")},m(a,r){R(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r&1&&n!==(n=a[0].cargoSubtype+"")&&q(i,n)},d(a){a&&P(e)}}}function Jl(l){let e,t,n=l[0].surgePercentage+"",i,o;return{c(){e=d("span"),t=T("+"),i=T(n),o=T("%"),u(e,"class","badge badge-surge svelte-n0u9b4")},m(a,r){R(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r&1&&n!==(n=a[0].surgePercentage+"")&&q(i,n)},d(a){a&&P(e)}}}function Xl(l){let e,t,n,i=l[0].requiredLicense&&l[0].requiredLicense!=="none"&&Yl(l),o=l[0].requiredEndorsement&&xl(l),a=l[0].requiredCertification&&en(l);return{c(){e=d("div"),i&&i.c(),t=_(),o&&o.c(),n=_(),a&&a.c(),u(e,"class","card-row-reqs svelte-n0u9b4")},m(r,c){R(r,e,c),i&&i.m(e,null),s(e,t),o&&o.m(e,null),s(e,n),a&&a.m(e,null)},p(r,c){r[0].requiredLicense&&r[0].requiredLicense!=="none"?i?i.p(r,c):(i=Yl(r),i.c(),i.m(e,t)):i&&(i.d(1),i=null),r[0].requiredEndorsement?o?o.p(r,c):(o=xl(r),o.c(),o.m(e,n)):o&&(o.d(1),o=null),r[0].requiredCertification?a?a.p(r,c):(a=en(r),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(r){r&&P(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function Yl(l){let e,t,n;return{c(){e=d("span"),t=T("CDL"),u(e,"class","req-icon svelte-n0u9b4"),u(e,"title",n="CDL Required: "+l[0].requiredLicense)},m(i,o){R(i,e,o),s(e,t)},p(i,o){o&1&&n!==(n="CDL Required: "+i[0].requiredLicense)&&u(e,"title",n)},d(i){i&&P(e)}}}function xl(l){let e,t;function n(a,r){return a[0].requiredEndorsement==="tanker"?aa:a[0].requiredEndorsement==="hazmat"?ia:sa}let i=n(l),o=i(l);return{c(){e=d("span"),o.c(),u(e,"class","req-icon svelte-n0u9b4"),u(e,"title",t="Endorsement: "+l[0].requiredEndorsement)},m(a,r){R(a,e,r),o.m(e,null)},p(a,r){i===(i=n(a))&&o?o.p(a,r):(o.d(1),o=i(a),o&&(o.c(),o.m(e,null))),r&1&&t!==(t="Endorsement: "+a[0].requiredEndorsement)&&u(e,"title",t)},d(a){a&&P(e),o.d()}}}function sa(l){let e=l[0].requiredEndorsement.substring(0,3).toUpperCase()+"",t;return{c(){t=T(e)},m(n,i){R(n,t,i)},p(n,i){i&1&&e!==(e=n[0].requiredEndorsement.substring(0,3).toUpperCase()+"")&&q(t,e)},d(n){n&&P(t)}}}function ia(l){let e;return{c(){e=T("HAZ")},m(t,n){R(t,e,n)},p:le,d(t){t&&P(e)}}}function aa(l){let e;return{c(){e=T("TKR")},m(t,n){R(t,e,n)},p:le,d(t){t&&P(e)}}}function en(l){let e,t,n;return{c(){e=d("span"),t=T("CERT"),u(e,"class","req-icon svelte-n0u9b4"),u(e,"title",n="Cert: "+l[0].requiredCertification)},m(i,o){R(i,e,o),s(e,t)},p(i,o){o&1&&n!==(n="Cert: "+i[0].requiredCertification)&&u(e,"title",n)},d(i){i&&P(e)}}}function tn(l){let e,t=l[2]?"▲":"▼",n;return{c(){e=d("span"),n=T(t),u(e,"class","expand-indicator svelte-n0u9b4")},m(i,o){R(i,e,o),s(e,n)},p(i,o){o&4&&t!==(t=i[2]?"▲":"▼")&&q(n,t)},d(i){i&&P(e)}}}function ln(l){var Ue;let e,t,n,i,o,a,r=(l[0].shipperName||"—")+"",c,f,p,v,m,b,g=l[0].weightLbs?l[0].weightLbs.toLocaleString()+" lbs":"—",y,L,k,h,C,w,A=(l[0].requiredVehicleType||"Any")+"",M,N,D,S,B,j,W=(l[0].requiredLicense==="none"?"None":(Ue=l[0].requiredLicense)==null?void 0:Ue.toUpperCase())+"",V,I,E,z,Q,U,K,ee=ll(l[0].depositAmount)+"",F,ne,X,Z,J,Y,se,te,he,ve=l[0].requiredCertification&&nn(l),re=l[0].payoutBreakdown&&sn(l);function ke(me,fe){return me[4]?oa:ra}let ye=ke(l),Le=ye(l);return{c(){e=d("div"),t=d("div"),n=d("div"),i=d("span"),i.textContent="Shipper",o=_(),a=d("span"),c=T(r),f=_(),p=d("div"),v=d("span"),v.textContent="Weight",m=_(),b=d("span"),y=T(g),L=_(),k=d("div"),h=d("span"),h.textContent="Vehicle Type",C=_(),w=d("span"),M=T(A),N=_(),D=d("div"),S=d("span"),S.textContent="License",B=_(),j=d("span"),V=T(W),I=_(),ve&&ve.c(),E=_(),z=d("div"),Q=d("span"),Q.textContent="Deposit",U=_(),K=d("span"),F=T(ee),ne=_(),re&&re.c(),X=_(),Z=d("div"),J=d("button"),J.textContent="View Details",Y=_(),Le.c(),u(i,"class","detail-label svelte-n0u9b4"),u(a,"class","detail-value svelte-n0u9b4"),u(n,"class","detail-item svelte-n0u9b4"),u(v,"class","detail-label svelte-n0u9b4"),u(b,"class","detail-value mono svelte-n0u9b4"),u(p,"class","detail-item svelte-n0u9b4"),u(h,"class","detail-label svelte-n0u9b4"),u(w,"class","detail-value svelte-n0u9b4"),u(k,"class","detail-item svelte-n0u9b4"),u(S,"class","detail-label svelte-n0u9b4"),u(j,"class","detail-value svelte-n0u9b4"),u(D,"class","detail-item svelte-n0u9b4"),u(Q,"class","detail-label svelte-n0u9b4"),u(K,"class","detail-value mono svelte-n0u9b4"),u(z,"class","detail-item svelte-n0u9b4"),u(t,"class","detail-grid svelte-n0u9b4"),u(J,"class","btn btn-secondary btn-sm"),u(Z,"class","card-actions svelte-n0u9b4"),u(e,"class","card-expanded-body fade-in svelte-n0u9b4")},m(me,fe){R(me,e,fe),s(e,t),s(t,n),s(n,i),s(n,o),s(n,a),s(a,c),s(t,f),s(t,p),s(p,v),s(p,m),s(p,b),s(b,y),s(t,L),s(t,k),s(k,h),s(k,C),s(k,w),s(w,M),s(t,N),s(t,D),s(D,S),s(D,B),s(D,j),s(j,V),s(t,I),ve&&ve.m(t,null),s(t,E),s(t,z),s(z,Q),s(z,U),s(z,K),s(K,F),s(e,ne),re&&re.m(e,null),s(e,X),s(e,Z),s(Z,J),s(Z,Y),Le.m(Z,null),se=!0,te||(he=x(J,"click",Dt(l[7])),te=!0)},p(me,fe){var we;(!se||fe&1)&&r!==(r=(me[0].shipperName||"—")+"")&&q(c,r),(!se||fe&1)&&g!==(g=me[0].weightLbs?me[0].weightLbs.toLocaleString()+" lbs":"—")&&q(y,g),(!se||fe&1)&&A!==(A=(me[0].requiredVehicleType||"Any")+"")&&q(M,A),(!se||fe&1)&&W!==(W=(me[0].requiredLicense==="none"?"None":(we=me[0].requiredLicense)==null?void 0:we.toUpperCase())+"")&&q(V,W),me[0].requiredCertification?ve?ve.p(me,fe):(ve=nn(me),ve.c(),ve.m(t,E)):ve&&(ve.d(1),ve=null),(!se||fe&1)&&ee!==(ee=ll(me[0].depositAmount)+"")&&q(F,ee),me[0].payoutBreakdown?re?(re.p(me,fe),fe&1&&$(re,1)):(re=sn(me),re.c(),$(re,1),re.m(e,X)):re&&(Se(),H(re,1,1,()=>{re=null}),De()),ye===(ye=ke(me))&&Le?Le.p(me,fe):(Le.d(1),Le=ye(me),Le&&(Le.c(),Le.m(Z,null)))},i(me){se||($(re),se=!0)},o(me){H(re),se=!1},d(me){me&&P(e),ve&&ve.d(),re&&re.d(),Le.d(),te=!1,he()}}}function nn(l){let e,t,n,i,o=l[0].requiredCertification+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Certification",n=_(),i=d("span"),a=T(o),u(t,"class","detail-label svelte-n0u9b4"),u(i,"class","detail-value svelte-n0u9b4"),u(e,"class","detail-item svelte-n0u9b4")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c&1&&o!==(o=r[0].requiredCertification+"")&&q(a,o)},d(r){r&&P(e)}}}function sn(l){let e,t;return e=new yl({props:{breakdown:l[0].payoutBreakdown}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.breakdown=n[0].payoutBreakdown),e.$set(o)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function ra(l){let e,t,n;return{c(){e=d("button"),e.textContent="Reserve (3:00)",u(e,"class","btn btn-primary btn-sm")},m(i,o){R(i,e,o),t||(n=x(e,"click",Dt(l[8])),t=!0)},p:le,d(i){i&&P(e),t=!1,n()}}}function oa(l){let e,t,n;return{c(){e=d("button"),e.textContent="Accept Load",u(e,"class","btn btn-primary btn-sm")},m(i,o){R(i,e,o),t||(n=x(e,"click",Dt(l[9])),t=!0)},p:le,d(i){i&&P(e),t=!1,n()}}}function ua(l){let e,t,n,i,o,a,r,c=(l[0].cargoType||"Cargo")+"",f,p,v,m,b,g,y=ll(l[0].basePayout||l[0].basePayoutRental)+"",L,k,h,C,w=(l[0].originLabel||"—")+"",A,M,N,D,S=(l[0].destinationLabel||"—")+"",B,j,W,V=an(l[0].distanceMiles)+"",I,E,z,Q,U,K,ee;o=new ol({props:{tier:l[0].tier,size:"small"}});let F=l[0].cargoSubtype&&Kl(l),ne=l[3]&&Jl(l),X=l[5]&&Xl(l),Z=l[1]&&tn(l),J=l[2]&&ln(l);return{c(){e=d("div"),t=d("button"),n=d("div"),i=d("div"),Be(o.$$.fragment),a=_(),r=d("span"),f=T(c),p=_(),F&&F.c(),v=_(),m=d("div"),ne&&ne.c(),b=_(),g=d("span"),L=T(y),k=_(),h=d("div"),C=d("span"),A=T(w),M=_(),N=d("span"),N.textContent="→",D=_(),B=T(S),j=_(),W=d("span"),I=T(V),E=_(),X&&X.c(),z=_(),Z&&Z.c(),Q=_(),J&&J.c(),u(r,"class","cargo-type svelte-n0u9b4"),u(i,"class","card-left svelte-n0u9b4"),u(g,"class","payout-figure mono svelte-n0u9b4"),u(m,"class","card-right svelte-n0u9b4"),u(n,"class","card-row-top svelte-n0u9b4"),u(N,"class","route-arrow svelte-n0u9b4"),u(C,"class","route-text text-muted svelte-n0u9b4"),u(W,"class","distance mono text-muted svelte-n0u9b4"),u(h,"class","card-row-route svelte-n0u9b4"),u(t,"class","card-main svelte-n0u9b4"),u(e,"class","load-card svelte-n0u9b4"),oe(e,"surge-active",l[3]),oe(e,"card-expanded",l[2])},m(Y,se){R(Y,e,se),s(e,t),s(t,n),s(n,i),qe(o,i,null),s(i,a),s(i,r),s(r,f),s(i,p),F&&F.m(i,null),s(n,v),s(n,m),ne&&ne.m(m,null),s(m,b),s(m,g),s(g,L),s(t,k),s(t,h),s(h,C),s(C,A),s(C,M),s(C,N),s(C,D),s(C,B),s(h,j),s(h,W),s(W,I),s(t,E),X&&X.m(t,null),s(t,z),Z&&Z.m(t,null),s(e,Q),J&&J.m(e,null),U=!0,K||(ee=x(t,"click",l[6]),K=!0)},p(Y,[se]){const te={};se&1&&(te.tier=Y[0].tier),o.$set(te),(!U||se&1)&&c!==(c=(Y[0].cargoType||"Cargo")+"")&&q(f,c),Y[0].cargoSubtype?F?F.p(Y,se):(F=Kl(Y),F.c(),F.m(i,null)):F&&(F.d(1),F=null),Y[3]?ne?ne.p(Y,se):(ne=Jl(Y),ne.c(),ne.m(m,b)):ne&&(ne.d(1),ne=null),(!U||se&1)&&y!==(y=ll(Y[0].basePayout||Y[0].basePayoutRental)+"")&&q(L,y),(!U||se&1)&&w!==(w=(Y[0].originLabel||"—")+"")&&q(A,w),(!U||se&1)&&S!==(S=(Y[0].destinationLabel||"—")+"")&&q(B,S),(!U||se&1)&&V!==(V=an(Y[0].distanceMiles)+"")&&q(I,V),Y[5]?X?X.p(Y,se):(X=Xl(Y),X.c(),X.m(t,z)):X&&(X.d(1),X=null),Y[1]?Z?Z.p(Y,se):(Z=tn(Y),Z.c(),Z.m(t,null)):Z&&(Z.d(1),Z=null),Y[2]?J?(J.p(Y,se),se&4&&$(J,1)):(J=ln(Y),J.c(),$(J,1),J.m(e,null)):J&&(Se(),H(J,1,1,()=>{J=null}),De()),(!U||se&8)&&oe(e,"surge-active",Y[3]),(!U||se&4)&&oe(e,"card-expanded",Y[2])},i(Y){U||($(o.$$.fragment,Y),$(J),U=!0)},o(Y){H(o.$$.fragment,Y),H(J),U=!1},d(Y){Y&&P(e),Pe(o),F&&F.d(),ne&&ne.d(),X&&X.d(),Z&&Z.d(),J&&J.d(),K=!1,ee()}}}function ll(l){return l==null?"—":"$"+Number(l).toLocaleString("en-US")}function an(l){return l==null?"—":Number(l).toFixed(1)+" mi"}function ca(l,e,t){let n,i,o,{load:a={}}=e,{expandable:r=!0}=e;const c=$t();let f=!1;function p(){r&&t(2,f=!f)}function v(){c("viewDetail",{load:a})}function m(){c("reserve",{load:a})}function b(){c("accept",{load:a})}return l.$$set=g=>{"load"in g&&t(0,a=g.load),"expandable"in g&&t(1,r=g.expandable)},l.$$.update=()=>{l.$$.dirty&1&&t(5,n=a.requiredLicense!=="none"||a.requiredEndorsement||a.requiredCertification),l.$$.dirty&1&&t(4,i=a.boardStatus==="reserved"),l.$$.dirty&1&&t(3,o=a.surgeActive)},[a,r,f,o,i,n,p,v,m,b]}class fa extends mt{constructor(e){super(),_t(this,e,ca,ua,dt,{load:0,expandable:1})}}function rn(l,e,t){const n=l.slice();return n[27]=e[t],n}function on(l,e,t){const n=l.slice();return n[30]=e[t],n[32]=t,n}function un(l,e,t){const n=l.slice();return n[33]=e[t],n}function cn(l,e,t){const n=l.slice();return n[33]=e[t],n}function fn(l,e,t){const n=l.slice();return n[38]=e[t],n}function dn(l){let e,t,n,i,o,a,r,c,f,p,v,m,b,g,y,L,k,h,C=l[8]&&pn(l);const w=[pa,da],A=[];function M(N,D){return N[7].length===0?0:1}return g=M(l),y=A[g]=w[g](l),{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Tier",i=_(),o=d("select"),a=d("option"),a.textContent="All Tiers",r=d("option"),r.textContent="T0 — Entry",c=d("option"),c.textContent="T1 — Standard",f=d("option"),f.textContent="T2 — Specialized",p=d("option"),p.textContent="T3 — Premium",v=_(),C&&C.c(),m=_(),b=d("div"),y.c(),u(n,"class","filter-label svelte-t5sfgo"),u(n,"for","tier-filter"),a.__value="all",et(a,a.__value),u(a,"class","svelte-t5sfgo"),r.__value="0",et(r,r.__value),u(r,"class","svelte-t5sfgo"),c.__value="1",et(c,c.__value),u(c,"class","svelte-t5sfgo"),f.__value="2",et(f,f.__value),u(f,"class","svelte-t5sfgo"),p.__value="3",et(p,p.__value),u(p,"class","svelte-t5sfgo"),u(o,"id","tier-filter"),u(o,"class","filter-select svelte-t5sfgo"),l[0]===void 0&&Ut(()=>l[21].call(o)),u(t,"class","filter-group svelte-t5sfgo"),u(e,"class","board-filters svelte-t5sfgo"),u(b,"class","load-list svelte-t5sfgo")},m(N,D){R(N,e,D),s(e,t),s(t,n),s(t,i),s(t,o),s(o,a),s(o,r),s(o,c),s(o,f),s(o,p),Pt(o,l[0],!0),s(e,v),C&&C.m(e,null),R(N,m,D),R(N,b,D),A[g].m(b,null),L=!0,k||(h=x(o,"change",l[21]),k=!0)},p(N,D){D[0]&1&&Pt(o,N[0]),N[8]?C?C.p(N,D):(C=pn(N),C.c(),C.m(e,null)):C&&(C.d(1),C=null);let S=g;g=M(N),g===S?A[g].p(N,D):(Se(),H(A[S],1,1,()=>{A[S]=null}),De(),y=A[g],y?y.p(N,D):(y=A[g]=w[g](N),y.c()),$(y,1),y.m(b,null))},i(N){L||($(y),L=!0)},o(N){H(y),L=!1},d(N){N&&(P(e),P(m),P(b)),C&&C.d(),A[g].d(),k=!1,h()}}}function pn(l){let e,t,n,i,o,a,r,c,f,p,v;return{c(){e=d("div"),t=d("label"),t.textContent="Region",n=_(),i=d("select"),o=d("option"),o.textContent="All Regions",a=d("option"),a.textContent="Chicago (LS)",r=d("option"),r.textContent="Gary (SS)",c=d("option"),c.textContent="Wisconsin (Paleto)",f=d("option"),f.textContent="W. Michigan (GS)",u(t,"class","filter-label svelte-t5sfgo"),u(t,"for","region-filter"),o.__value="all",et(o,o.__value),u(o,"class","svelte-t5sfgo"),a.__value="los_santos",et(a,a.__value),u(a,"class","svelte-t5sfgo"),r.__value="sandy_shores",et(r,r.__value),u(r,"class","svelte-t5sfgo"),c.__value="paleto",et(c,c.__value),u(c,"class","svelte-t5sfgo"),f.__value="grapeseed",et(f,f.__value),u(f,"class","svelte-t5sfgo"),u(i,"id","region-filter"),u(i,"class","filter-select svelte-t5sfgo"),l[1]===void 0&&Ut(()=>l[22].call(i)),u(e,"class","filter-group svelte-t5sfgo")},m(m,b){R(m,e,b),s(e,t),s(e,n),s(e,i),s(i,o),s(i,a),s(i,r),s(i,c),s(i,f),Pt(i,l[1],!0),p||(v=x(i,"change",l[22]),p=!0)},p(m,b){b[0]&2&&Pt(i,m[1])},d(m){m&&P(e),p=!1,v()}}}function da(l){let e=[],t=new Map,n,i,o=pe(l[7]);const a=r=>r[38].id;for(let r=0;r<o.length;r+=1){let c=fn(l,o,r),f=a(c);t.set(f,e[r]=vn(f,c))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Ct()},m(r,c){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,c);R(r,n,c),i=!0},p(r,c){c[0]&14464&&(o=pe(r[7]),Se(),e=zt(e,c,a,1,r,o,t,n.parentNode,Zt,vn,n,fn),De())},i(r){if(!i){for(let c=0;c<o.length;c+=1)$(e[c]);i=!0}},o(r){for(let c=0;c<e.length;c+=1)H(e[c]);i=!1},d(r){r&&P(n);for(let c=0;c<e.length;c+=1)e[c].d(r)}}}function pa(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No loads available matching your filters.</span>',u(e,"class","empty-state svelte-t5sfgo")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function vn(l,e){let t,n,i;return n=new fa({props:{load:e[38]}}),n.$on("viewDetail",e[11]),n.$on("reserve",e[12]),n.$on("accept",e[13]),{key:l,first:null,c(){t=Ct(),Be(n.$$.fragment),this.first=t},m(o,a){R(o,t,a),qe(n,o,a),i=!0},p(o,a){e=o;const r={};a[0]&128&&(r.load=e[38]),n.$set(r)},i(o){i||($(n.$$.fragment,o),i=!0)},o(o){H(n.$$.fragment,o),i=!1},d(o){o&&P(t),Pe(n,o)}}}function _n(l){let e,t,n,i;const o=[_a,va],a=[];function r(c,f){return(c[2].supplier||[]).length===0?0:1}return t=r(l),n=a[t]=o[t](l),{c(){e=d("div"),n.c(),u(e,"class","load-list svelte-t5sfgo")},m(c,f){R(c,e,f),a[t].m(e,null),i=!0},p(c,f){let p=t;t=r(c),t===p?a[t].p(c,f):(Se(),H(a[p],1,1,()=>{a[p]=null}),De(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),$(n,1),n.m(e,null))},i(c){i||($(n),i=!0)},o(c){H(n),i=!1},d(c){c&&P(e),a[t].d()}}}function va(l){let e=[],t=new Map,n,i,o=pe(l[2].supplier);const a=r=>r[33].id;for(let r=0;r<o.length;r+=1){let c=cn(l,o,r),f=a(c);t.set(f,e[r]=gn(f,c))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Ct()},m(r,c){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,c);R(r,n,c),i=!0},p(r,c){c[0]&4&&(o=pe(r[2].supplier),Se(),e=zt(e,c,a,1,r,o,t,n.parentNode,Zt,gn,n,cn),De())},i(r){if(!i){for(let c=0;c<o.length;c+=1)$(e[c]);i=!0}},o(r){for(let c=0;c<e.length;c+=1)H(e[c]);i=!1},d(r){r&&P(n);for(let c=0;c<e.length;c+=1)e[c].d(r)}}}function _a(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No supplier contracts available.</span>',u(e,"class","empty-state svelte-t5sfgo")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function mn(l){let e,t,n,i,o=new Date(l[33].deadline*1e3).toLocaleString()+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Deadline",n=_(),i=d("span"),a=T(o),u(t,"class","detail-label svelte-t5sfgo"),u(i,"class","detail-value mono svelte-t5sfgo"),u(e,"class","detail-row svelte-t5sfgo")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c[0]&4&&o!==(o=new Date(r[33].deadline*1e3).toLocaleString()+"")&&q(a,o)},d(r){r&&P(e)}}}function bn(l){let e,t;return{c(){e=d("div"),t=d("div"),u(t,"class","progress-bar-fill svelte-t5sfgo"),vt(t,"width",Math.min(100,(l[33].quantity||0)/l[33].quantityRequired*100)+"%"),u(e,"class","progress-bar-container svelte-t5sfgo")},m(n,i){R(n,e,i),s(e,t)},p(n,i){i[0]&4&&vt(t,"width",Math.min(100,(n[33].quantity||0)/n[33].quantityRequired*100)+"%")},d(n){n&&P(e)}}}function gn(l,e){let t,n,i,o=(e[33].supplierName||"Supplier")+"",a,r,c,f,p,v,m,b,g,y,L=(e[33].itemRequired||"—")+"",k,h,C,w,A,M,N=(e[33].quantity||0)+"",D,S,B=(e[33].quantityRequired||0)+"",j,W,V,I,E,z,Q=Bt(e[33].payout)+"",U,K,ee,F,ne;c=new ft({props:{status:e[33].status||"active"}});let X=e[33].deadline&&mn(e),Z=e[33].quantityRequired&&bn(e);return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("h4"),a=T(o),r=_(),Be(c.$$.fragment),f=_(),p=d("div"),v=d("div"),m=d("div"),b=d("span"),b.textContent="Items Required",g=_(),y=d("span"),k=T(L),h=_(),C=d("div"),w=d("span"),w.textContent="Quantity",A=_(),M=d("span"),D=T(N),S=T(" / "),j=T(B),W=_(),V=d("div"),I=d("span"),I.textContent="Payout",E=_(),z=d("span"),U=T(Q),K=_(),X&&X.c(),ee=_(),Z&&Z.c(),F=_(),u(i,"class","supplier-name svelte-t5sfgo"),u(n,"class","card-header"),u(b,"class","detail-label svelte-t5sfgo"),u(y,"class","detail-value svelte-t5sfgo"),u(m,"class","detail-row svelte-t5sfgo"),u(w,"class","detail-label svelte-t5sfgo"),u(M,"class","detail-value mono svelte-t5sfgo"),u(C,"class","detail-row svelte-t5sfgo"),u(I,"class","detail-label svelte-t5sfgo"),u(z,"class","detail-value mono payout-figure svelte-t5sfgo"),u(V,"class","detail-row svelte-t5sfgo"),u(v,"class","supplier-details svelte-t5sfgo"),u(p,"class","card-body"),u(t,"class","card supplier-card"),this.first=t},m(J,Y){R(J,t,Y),s(t,n),s(n,i),s(i,a),s(n,r),qe(c,n,null),s(t,f),s(t,p),s(p,v),s(v,m),s(m,b),s(m,g),s(m,y),s(y,k),s(v,h),s(v,C),s(C,w),s(C,A),s(C,M),s(M,D),s(M,S),s(M,j),s(v,W),s(v,V),s(V,I),s(V,E),s(V,z),s(z,U),s(v,K),X&&X.m(v,null),s(p,ee),Z&&Z.m(p,null),s(t,F),ne=!0},p(J,Y){e=J,(!ne||Y[0]&4)&&o!==(o=(e[33].supplierName||"Supplier")+"")&&q(a,o);const se={};Y[0]&4&&(se.status=e[33].status||"active"),c.$set(se),(!ne||Y[0]&4)&&L!==(L=(e[33].itemRequired||"—")+"")&&q(k,L),(!ne||Y[0]&4)&&N!==(N=(e[33].quantity||0)+"")&&q(D,N),(!ne||Y[0]&4)&&B!==(B=(e[33].quantityRequired||0)+"")&&q(j,B),(!ne||Y[0]&4)&&Q!==(Q=Bt(e[33].payout)+"")&&q(U,Q),e[33].deadline?X?X.p(e,Y):(X=mn(e),X.c(),X.m(v,null)):X&&(X.d(1),X=null),e[33].quantityRequired?Z?Z.p(e,Y):(Z=bn(e),Z.c(),Z.m(p,null)):Z&&(Z.d(1),Z=null)},i(J){ne||($(c.$$.fragment,J),ne=!0)},o(J){H(c.$$.fragment,J),ne=!1},d(J){J&&P(t),Pe(c),X&&X.d(),Z&&Z.d()}}}function hn(l){let e,t,n,i;const o=[ba,ma],a=[];function r(c,f){return(c[2].open||[]).length===0?0:1}return t=r(l),n=a[t]=o[t](l),{c(){e=d("div"),n.c(),u(e,"class","load-list svelte-t5sfgo")},m(c,f){R(c,e,f),a[t].m(e,null),i=!0},p(c,f){let p=t;t=r(c),t===p?a[t].p(c,f):(Se(),H(a[p],1,1,()=>{a[p]=null}),De(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),$(n,1),n.m(e,null))},i(c){i||($(n),i=!0)},o(c){H(n),i=!1},d(c){c&&P(e),a[t].d()}}}function ma(l){let e=[],t=new Map,n,i,o=pe(l[2].open);const a=r=>r[33].id;for(let r=0;r<o.length;r+=1){let c=un(l,o,r),f=a(c);t.set(f,e[r]=yn(f,c))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Ct()},m(r,c){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,c);R(r,n,c),i=!0},p(r,c){c[0]&4&&(o=pe(r[2].open),Se(),e=zt(e,c,a,1,r,o,t,n.parentNode,Zt,yn,n,un),De())},i(r){if(!i){for(let c=0;c<o.length;c+=1)$(e[c]);i=!0}},o(r){for(let c=0;c<e.length;c+=1)H(e[c]);i=!1},d(r){r&&P(n);for(let c=0;c<e.length;c+=1)e[c].d(r)}}}function ba(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No open contracts available.</span>',u(e,"class","empty-state svelte-t5sfgo")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function kn(l){let e,t;return{c(){e=d("div"),t=d("div"),u(t,"class","progress-bar-fill svelte-t5sfgo"),vt(t,"width",Math.min(100,(l[33].currentProgress||0)/l[33].targetProgress*100)+"%"),u(e,"class","progress-bar-container svelte-t5sfgo")},m(n,i){R(n,e,i),s(e,t)},p(n,i){i[0]&4&&vt(t,"width",Math.min(100,(n[33].currentProgress||0)/n[33].targetProgress*100)+"%")},d(n){n&&P(e)}}}function yn(l,e){let t,n,i,o=(e[33].title||"Open Contract")+"",a,r,c,f,p,v,m=(e[33].description||"")+"",b,g,y,L,k,h,C=(e[33].currentProgress||0)+"",w,A,M=(e[33].targetProgress||0)+"",N,D,S,B,j,W,V=Bt(e[33].payoutPerUnit)+"",I,E,z,Q;c=new ft({props:{status:e[33].status||"active"}});let U=e[33].targetProgress&&kn(e);return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("h4"),a=T(o),r=_(),Be(c.$$.fragment),f=_(),p=d("div"),v=d("p"),b=T(m),g=_(),y=d("div"),L=d("span"),L.textContent="Progress",k=_(),h=d("span"),w=T(C),A=T(" / "),N=T(M),D=_(),S=d("div"),B=d("span"),B.textContent="Payout per Unit",j=_(),W=d("span"),I=T(V),E=_(),U&&U.c(),z=_(),u(i,"class","contract-title svelte-t5sfgo"),u(n,"class","card-header"),u(v,"class","contract-desc text-muted svelte-t5sfgo"),u(L,"class","detail-label svelte-t5sfgo"),u(h,"class","detail-value mono svelte-t5sfgo"),u(y,"class","detail-row svelte-t5sfgo"),u(B,"class","detail-label svelte-t5sfgo"),u(W,"class","detail-value mono payout-figure svelte-t5sfgo"),u(S,"class","detail-row svelte-t5sfgo"),u(p,"class","card-body"),u(t,"class","card open-card"),this.first=t},m(K,ee){R(K,t,ee),s(t,n),s(n,i),s(i,a),s(n,r),qe(c,n,null),s(t,f),s(t,p),s(p,v),s(v,b),s(p,g),s(p,y),s(y,L),s(y,k),s(y,h),s(h,w),s(h,A),s(h,N),s(p,D),s(p,S),s(S,B),s(S,j),s(S,W),s(W,I),s(p,E),U&&U.m(p,null),s(t,z),Q=!0},p(K,ee){e=K,(!Q||ee[0]&4)&&o!==(o=(e[33].title||"Open Contract")+"")&&q(a,o);const F={};ee[0]&4&&(F.status=e[33].status||"active"),c.$set(F),(!Q||ee[0]&4)&&m!==(m=(e[33].description||"")+"")&&q(b,m),(!Q||ee[0]&4)&&C!==(C=(e[33].currentProgress||0)+"")&&q(w,C),(!Q||ee[0]&4)&&M!==(M=(e[33].targetProgress||0)+"")&&q(N,M),(!Q||ee[0]&4)&&V!==(V=Bt(e[33].payoutPerUnit)+"")&&q(I,V),e[33].targetProgress?U?U.p(e,ee):(U=kn(e),U.c(),U.m(p,null)):U&&(U.d(1),U=null)},i(K){Q||($(c.$$.fragment,K),Q=!0)},o(K){H(c.$$.fragment,K),Q=!1},d(K){K&&P(t),Pe(c),U&&U.d()}}}function wn(l){let e,t,n,i;const o=[ha,ga],a=[];function r(c,f){return(c[2].routes||[]).length===0?0:1}return t=r(l),n=a[t]=o[t](l),{c(){e=d("div"),n.c(),u(e,"class","load-list svelte-t5sfgo")},m(c,f){R(c,e,f),a[t].m(e,null),i=!0},p(c,f){let p=t;t=r(c),t===p?a[t].p(c,f):(Se(),H(a[p],1,1,()=>{a[p]=null}),De(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),$(n,1),n.m(e,null))},i(c){i||($(n),i=!0)},o(c){H(n),i=!1},d(c){c&&P(e),a[t].d()}}}function ga(l){let e=[],t=new Map,n,i,o=pe(l[2].routes);const a=r=>r[27].id;for(let r=0;r<o.length;r+=1){let c=rn(l,o,r),f=a(c);t.set(f,e[r]=Sn(f,c))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Ct()},m(r,c){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,c);R(r,n,c),i=!0},p(r,c){c[0]&1028&&(o=pe(r[2].routes),Se(),e=zt(e,c,a,1,r,o,t,n.parentNode,Zt,Sn,n,rn),De())},i(r){if(!i){for(let c=0;c<o.length;c+=1)$(e[c]);i=!0}},o(r){for(let c=0;c<e.length;c+=1)H(e[c]);i=!1},d(r){r&&P(n);for(let c=0;c<e.length;c+=1)e[c].d(r)}}}function ha(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No multi-stop routes available.</span>',u(e,"class","empty-state svelte-t5sfgo")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function Cn(l){let e;return{c(){e=d("span"),e.textContent="✓",u(e,"class","stop-check text-success svelte-t5sfgo")},m(t,n){R(t,e,n)},d(t){t&&P(e)}}}function Ln(l){let e,t,n,i,o=(l[30].label||"Stop")+"",a,r,c,f=l[30].completed&&Cn();return{c(){e=d("div"),t=d("span"),t.textContent=`${l[32]+1}`,n=_(),i=d("span"),a=T(o),r=_(),f&&f.c(),c=_(),u(t,"class","stop-number mono svelte-t5sfgo"),u(i,"class","stop-label svelte-t5sfgo"),u(e,"class","route-stop svelte-t5sfgo"),oe(e,"stop-completed",l[30].completed)},m(p,v){R(p,e,v),s(e,t),s(e,n),s(e,i),s(i,a),s(e,r),f&&f.m(e,null),s(e,c)},p(p,v){v[0]&4&&o!==(o=(p[30].label||"Stop")+"")&&q(a,o),p[30].completed?f||(f=Cn(),f.c(),f.m(e,c)):f&&(f.d(1),f=null),v[0]&4&&oe(e,"stop-completed",p[30].completed)},d(p){p&&P(e),f&&f.d()}}}function Tn(l){let e,t,n,i,o,a=l[27].premium+"",r,c;return{c(){e=d("div"),t=d("span"),t.textContent="Route Premium",n=_(),i=d("span"),o=T("+"),r=T(a),c=T("%"),u(t,"class","detail-label svelte-t5sfgo"),u(i,"class","detail-value mono text-orange svelte-t5sfgo"),u(e,"class","detail-row svelte-t5sfgo")},m(f,p){R(f,e,p),s(e,t),s(e,n),s(e,i),s(i,o),s(i,r),s(i,c)},p(f,p){p[0]&4&&a!==(a=f[27].premium+"")&&q(r,a)},d(f){f&&P(e)}}}function Sn(l,e){var se;let t,n,i,o,a,r,c=(e[27].name||"Route")+"",f,p,v,m=Bt(e[27].totalPayout)+"",b,g,y,L,k,h,C,w,A,M,N=An(e[27].totalDistance)+"",D,S,B,j,W,V,I=(((se=e[27].stops)==null?void 0:se.length)||0)+"",E,z,Q,U,K,ee,F,ne;o=new ol({props:{tier:e[27].tier||2,size:"small"}});let X=pe(e[27].stops||[]),Z=[];for(let te=0;te<X.length;te+=1)Z[te]=Ln(on(e,X,te));let J=e[27].premium&&Tn(e);function Y(){return e[23](e[27])}return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("div"),Be(o.$$.fragment),a=_(),r=d("h4"),f=T(c),p=_(),v=d("span"),b=T(m),g=_(),y=d("div"),L=d("div");for(let te=0;te<Z.length;te+=1)Z[te].c();k=_(),h=d("div"),C=d("div"),w=d("span"),w.textContent="Total Distance",A=_(),M=d("span"),D=T(N),S=_(),B=d("div"),j=d("span"),j.textContent="Stops",W=_(),V=d("span"),E=T(I),z=_(),J&&J.c(),Q=_(),U=d("button"),U.textContent="View Route Details",K=_(),u(r,"class","route-name svelte-t5sfgo"),u(i,"class","route-header-left svelte-t5sfgo"),u(v,"class","payout-figure mono svelte-t5sfgo"),u(n,"class","card-header"),u(L,"class","route-stops svelte-t5sfgo"),u(w,"class","detail-label svelte-t5sfgo"),u(M,"class","detail-value mono svelte-t5sfgo"),u(C,"class","detail-row svelte-t5sfgo"),u(j,"class","detail-label svelte-t5sfgo"),u(V,"class","detail-value mono svelte-t5sfgo"),u(B,"class","detail-row svelte-t5sfgo"),u(h,"class","route-summary svelte-t5sfgo"),u(U,"class","btn btn-primary btn-sm"),u(y,"class","card-body"),u(t,"class","card route-card"),this.first=t},m(te,he){R(te,t,he),s(t,n),s(n,i),qe(o,i,null),s(i,a),s(i,r),s(r,f),s(n,p),s(n,v),s(v,b),s(t,g),s(t,y),s(y,L);for(let ve=0;ve<Z.length;ve+=1)Z[ve]&&Z[ve].m(L,null);s(y,k),s(y,h),s(h,C),s(C,w),s(C,A),s(C,M),s(M,D),s(h,S),s(h,B),s(B,j),s(B,W),s(B,V),s(V,E),s(h,z),J&&J.m(h,null),s(y,Q),s(y,U),s(t,K),ee=!0,F||(ne=x(U,"click",Y),F=!0)},p(te,he){var re;e=te;const ve={};if(he[0]&4&&(ve.tier=e[27].tier||2),o.$set(ve),(!ee||he[0]&4)&&c!==(c=(e[27].name||"Route")+"")&&q(f,c),(!ee||he[0]&4)&&m!==(m=Bt(e[27].totalPayout)+"")&&q(b,m),he[0]&4){X=pe(e[27].stops||[]);let ke;for(ke=0;ke<X.length;ke+=1){const ye=on(e,X,ke);Z[ke]?Z[ke].p(ye,he):(Z[ke]=Ln(ye),Z[ke].c(),Z[ke].m(L,null))}for(;ke<Z.length;ke+=1)Z[ke].d(1);Z.length=X.length}(!ee||he[0]&4)&&N!==(N=An(e[27].totalDistance)+"")&&q(D,N),(!ee||he[0]&4)&&I!==(I=(((re=e[27].stops)==null?void 0:re.length)||0)+"")&&q(E,I),e[27].premium?J?J.p(e,he):(J=Tn(e),J.c(),J.m(h,null)):J&&(J.d(1),J=null)},i(te){ee||($(o.$$.fragment,te),ee=!0)},o(te){H(o.$$.fragment,te),ee=!1},d(te){te&&P(t),Pe(o),rt(Z,te),J&&J.d(),F=!1,ne()}}}function Dn(l){var h;let e,t,n,i,o,a,r,c=Bt((h=l[5])==null?void 0:h.depositAmount)+"",f,p,v,m,b,g,y,L,k;return{c(){e=d("div"),t=d("div"),n=d("h3"),n.textContent="Confirm Accept",i=_(),o=d("p"),a=T(`Accept this load? A deposit of
          `),r=d("span"),f=T(c),p=T(`
          will be placed.`),v=_(),m=d("div"),b=d("button"),b.textContent="Cancel",g=_(),y=d("button"),y.textContent="Accept Load",u(n,"class","svelte-t5sfgo"),u(r,"class","mono"),u(o,"class","text-muted svelte-t5sfgo"),u(b,"class","btn btn-secondary"),u(y,"class","btn btn-primary"),u(m,"class","dialog-actions svelte-t5sfgo"),u(t,"class","dialog-panel svelte-t5sfgo"),u(t,"role","document"),u(e,"class","dialog-overlay svelte-t5sfgo"),u(e,"role","dialog"),u(e,"tabindex","-1")},m(C,w){R(C,e,w),s(e,t),s(t,n),s(t,i),s(t,o),s(o,a),s(o,r),s(r,f),s(o,p),s(t,v),s(t,m),s(m,b),s(m,g),s(m,y),L||(k=[x(b,"click",l[15]),x(y,"click",l[14]),x(t,"click",Dt(l[19])),x(t,"keydown",Dt(l[20])),x(e,"click",l[15]),x(e,"keydown",l[24])],L=!0)},p(C,w){var A;w[0]&32&&c!==(c=Bt((A=C[5])==null?void 0:A.depositAmount)+"")&&q(f,c)},d(C){C&&P(e),L=!1,at(k)}}}function ka(l){let e,t,n,i,o,a,r,c;t=new ki({props:{tabs:l[6],activeTab:l[3]}}),t.$on("tabChange",l[9]);let f=l[3]==="standard"&&dn(l),p=l[3]==="supplier"&&_n(l),v=l[3]==="open"&&hn(l),m=l[3]==="routes"&&wn(l),b=l[4]&&Dn(l);return{c(){e=d("div"),Be(t.$$.fragment),n=_(),f&&f.c(),i=_(),p&&p.c(),o=_(),v&&v.c(),a=_(),m&&m.c(),r=_(),b&&b.c(),u(e,"class","board-screen svelte-t5sfgo")},m(g,y){R(g,e,y),qe(t,e,null),s(e,n),f&&f.m(e,null),s(e,i),p&&p.m(e,null),s(e,o),v&&v.m(e,null),s(e,a),m&&m.m(e,null),s(e,r),b&&b.m(e,null),c=!0},p(g,y){const L={};y[0]&64&&(L.tabs=g[6]),y[0]&8&&(L.activeTab=g[3]),t.$set(L),g[3]==="standard"?f?(f.p(g,y),y[0]&8&&$(f,1)):(f=dn(g),f.c(),$(f,1),f.m(e,i)):f&&(Se(),H(f,1,1,()=>{f=null}),De()),g[3]==="supplier"?p?(p.p(g,y),y[0]&8&&$(p,1)):(p=_n(g),p.c(),$(p,1),p.m(e,o)):p&&(Se(),H(p,1,1,()=>{p=null}),De()),g[3]==="open"?v?(v.p(g,y),y[0]&8&&$(v,1)):(v=hn(g),v.c(),$(v,1),v.m(e,a)):v&&(Se(),H(v,1,1,()=>{v=null}),De()),g[3]==="routes"?m?(m.p(g,y),y[0]&8&&$(m,1)):(m=wn(g),m.c(),$(m,1),m.m(e,r)):m&&(Se(),H(m,1,1,()=>{m=null}),De()),g[4]?b?b.p(g,y):(b=Dn(g),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i(g){c||($(t.$$.fragment,g),$(f),$(p),$(v),$(m),c=!0)},o(g){H(t.$$.fragment,g),H(f),H(p),H(v),H(m),c=!1},d(g){g&&P(e),Pe(t),f&&f.d(),p&&p.d(),v&&v.d(),m&&m.d(),b&&b.d()}}}function Bt(l){return l==null?"$0":"$"+Number(l).toLocaleString("en-US")}function An(l){return l==null?"—":Number(l).toFixed(1)+" mi"}function ya(l,e,t){let n,i,o,a,r,c,f;ht(l,qt,I=>t(17,c=I)),ht(l,Rt,I=>t(18,f=I));const p=$t();let v="standard",m="all",b="all",g=!1,y=null;const L=[{id:"standard",label:"Standard"},{id:"supplier",label:"Supplier"},{id:"open",label:"Open"},{id:"routes",label:"Routes"}];function k(I){t(3,v=I.detail.tab)}function h(I,E=null){p("navigate",{screen:I,data:E})}function C(I){h("loadDetail",I.detail.load)}async function w(I){const E=I.detail.load;await Ke("reserveLoad",{loadId:E.id})}function A(I){t(5,y=I.detail.load),t(4,g=!0)}async function M(){y&&await Ke("acceptLoad",{loadId:y.id}),t(4,g=!1),t(5,y=null)}function N(){t(4,g=!1),t(5,y=null)}function D(I){It.call(this,l,I)}function S(I){It.call(this,l,I)}function B(){m=tl(this),t(0,m)}function j(){b=tl(this),t(1,b)}const W=I=>h("loadDetail",I),V=I=>I.key==="Escape"&&N();return l.$$.update=()=>{l.$$.dirty[0]&262144&&t(2,n=f),l.$$.dirty[0]&131072&&t(16,i=c),l.$$.dirty[0]&65536&&t(8,o=["professional","elite"].includes(i.reputationTier)),l.$$.dirty[0]&7&&t(7,a=(()=>{let I=n.standard||[];return m!=="all"&&(I=I.filter(E=>E.tier===Number(m))),b!=="all"&&(I=I.filter(E=>E.boardRegion===b)),I})()),l.$$.dirty[0]&4&&t(6,r=L.map(I=>({...I,count:I.id==="standard"?(n.standard||[]).length:I.id==="supplier"?(n.supplier||[]).length:I.id==="open"?(n.open||[]).length:I.id==="routes"?(n.routes||[]).length:0})))},[m,b,n,v,g,y,r,a,o,k,h,C,w,A,M,N,i,c,f,D,S,B,j,W,V]}class wa extends mt{constructor(e){super(),_t(this,e,ya,ka,dt,{},null,[-1,-1])}}function Nn(l,e,t){const n=l.slice();return n[10]=e[t],n}function Mn(l,e,t){const n=l.slice();return n[13]=e[t],n[15]=t,n}function Ca(l){let e,t,n,i,o,a;return{c(){e=d("div"),t=d("span"),t.textContent="No load selected.",n=_(),i=d("button"),i.textContent="Back to Board",u(t,"class","text-muted"),u(i,"class","btn btn-secondary"),u(e,"class","empty-state svelte-71s5ly")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),o||(a=x(i,"click",l[5]),o=!0)},p:le,i:le,o:le,d(r){r&&P(e),o=!1,a()}}}function La(l){let e,t,n,i,o,a,r,c,f=(l[0].cargoType||"Cargo")+"",p,v,m,b,g,y,L,k,h,C,w,A,M,N=Fn(l[0].distanceMiles)+"",D,S,B,j,W,V,I,E,z,Q,U=(l[0].cargoType||"—")+"",K,ee,F,ne,X,Z,J=In(l[0].weightLbs)+"",Y,se,te,he,ve,re,ke,ye,Le=(l[0].shipperName||"—")+"",Ue,me,fe,we,Ve,Ae,We=(l[0].requiredVehicleType||"Any")+"",Ie,Fe,ce,ge,Ce,Ee,nt,Ge,st,Oe,Me,Te,$e=nl(l[0].depositAmount)+"",ue,O,_e,je,Qe,ae,He=l[0].deliveryWindowMinutes?l[0].deliveryWindowMinutes+" min":"—",G,Re,ze,kt,Lt,gt,be=l[2]?"Accepting...":"Accept Load",Je,Xe,Ye,ot,Ze;a=new ol({props:{tier:l[0].tier}});let it=l[0].cargoSubtype&&qn(l),xe=l[0].surgeActive&&Pn(l);function ut(de,tt){return de[3]?Sa:Ta}let ct=ut(l),lt=ct(l),ie=l[0].tempMinF!=null&&l[0].tempMaxF!=null&&Bn(l),Ne=l[0].hazmatClass&&En(l);const St=[Aa,Da],wt=[];function Kt(de,tt){return de[0].payoutBreakdown?0:1}ce=Kt(l),ge=wt[ce]=St[ce](l);let pt=l[1].length>0&&zn(l);return{c(){e=d("div"),t=d("button"),t.innerHTML='<span class="back-arrow svelte-71s5ly">←</span> Back to Board',n=_(),i=d("div"),o=d("div"),Be(a.$$.fragment),r=_(),c=d("h2"),p=T(f),v=_(),it&&it.c(),m=_(),xe&&xe.c(),b=_(),g=d("div"),y=d("h3"),y.textContent="Route",L=_(),k=d("div"),lt.c(),h=_(),C=d("div"),w=d("span"),w.textContent="Total Distance:",A=_(),M=d("span"),D=T(N),S=_(),B=d("div"),j=d("h3"),j.textContent="Cargo Details",W=_(),V=d("div"),I=d("div"),E=d("span"),E.textContent="Type",z=_(),Q=d("span"),K=T(U),ee=_(),F=d("div"),ne=d("span"),ne.textContent="Weight",X=_(),Z=d("span"),Y=T(J),se=_(),ie&&ie.c(),te=_(),Ne&&Ne.c(),he=_(),ve=d("div"),re=d("span"),re.textContent="Shipper",ke=_(),ye=d("span"),Ue=T(Le),me=_(),fe=d("div"),we=d("span"),we.textContent="Vehicle Type",Ve=_(),Ae=d("span"),Ie=T(We),Fe=_(),ge.c(),Ce=_(),pt&&pt.c(),Ee=_(),nt=d("div"),Ge=d("div"),st=d("div"),Oe=d("span"),Oe.textContent="Deposit",Me=_(),Te=d("span"),ue=T($e),O=_(),_e=d("div"),je=d("span"),je.textContent="Delivery Window",Qe=_(),ae=d("span"),G=T(He),Re=_(),ze=d("div"),kt=d("button"),kt.textContent="Back",Lt=_(),gt=d("button"),Je=T(be),u(t,"class","back-btn svelte-71s5ly"),u(c,"class","cargo-title svelte-71s5ly"),u(o,"class","header-left svelte-71s5ly"),u(i,"class","detail-header svelte-71s5ly"),u(y,"class","card-title"),u(k,"class","route-display svelte-71s5ly"),u(w,"class","text-muted"),u(M,"class","mono"),u(C,"class","route-distance svelte-71s5ly"),u(g,"class","card route-card"),u(j,"class","card-title"),u(E,"class","detail-label svelte-71s5ly"),u(Q,"class","detail-value svelte-71s5ly"),u(I,"class","detail-item svelte-71s5ly"),u(ne,"class","detail-label svelte-71s5ly"),u(Z,"class","detail-value mono svelte-71s5ly"),u(F,"class","detail-item svelte-71s5ly"),u(re,"class","detail-label svelte-71s5ly"),u(ye,"class","detail-value svelte-71s5ly"),u(ve,"class","detail-item svelte-71s5ly"),u(we,"class","detail-label svelte-71s5ly"),u(Ae,"class","detail-value svelte-71s5ly"),u(fe,"class","detail-item svelte-71s5ly"),u(V,"class","detail-grid svelte-71s5ly"),u(B,"class","card cargo-card"),u(Oe,"class","detail-label svelte-71s5ly"),u(Te,"class","detail-value mono svelte-71s5ly"),u(st,"class","detail-item svelte-71s5ly"),u(je,"class","detail-label svelte-71s5ly"),u(ae,"class","detail-value mono svelte-71s5ly"),u(_e,"class","detail-item svelte-71s5ly"),u(Ge,"class","info-row svelte-71s5ly"),u(nt,"class","card info-card"),u(kt,"class","btn btn-secondary"),u(gt,"class","btn btn-primary"),gt.disabled=Xe=!l[4]||l[2],u(ze,"class","detail-actions svelte-71s5ly"),u(e,"class","load-detail-screen svelte-71s5ly")},m(de,tt){R(de,e,tt),s(e,t),s(e,n),s(e,i),s(i,o),qe(a,o,null),s(o,r),s(o,c),s(c,p),s(o,v),it&&it.m(o,null),s(i,m),xe&&xe.m(i,null),s(e,b),s(e,g),s(g,y),s(g,L),s(g,k),lt.m(k,null),s(g,h),s(g,C),s(C,w),s(C,A),s(C,M),s(M,D),s(e,S),s(e,B),s(B,j),s(B,W),s(B,V),s(V,I),s(I,E),s(I,z),s(I,Q),s(Q,K),s(V,ee),s(V,F),s(F,ne),s(F,X),s(F,Z),s(Z,Y),s(V,se),ie&&ie.m(V,null),s(V,te),Ne&&Ne.m(V,null),s(V,he),s(V,ve),s(ve,re),s(ve,ke),s(ve,ye),s(ye,Ue),s(V,me),s(V,fe),s(fe,we),s(fe,Ve),s(fe,Ae),s(Ae,Ie),s(e,Fe),wt[ce].m(e,null),s(e,Ce),pt&&pt.m(e,null),s(e,Ee),s(e,nt),s(nt,Ge),s(Ge,st),s(st,Oe),s(st,Me),s(st,Te),s(Te,ue),s(Ge,O),s(Ge,_e),s(_e,je),s(_e,Qe),s(_e,ae),s(ae,G),s(e,Re),s(e,ze),s(ze,kt),s(ze,Lt),s(ze,gt),s(gt,Je),Ye=!0,ot||(Ze=[x(t,"click",l[5]),x(kt,"click",l[5]),x(gt,"click",l[6])],ot=!0)},p(de,tt){const wl={};tt&1&&(wl.tier=de[0].tier),a.$set(wl),(!Ye||tt&1)&&f!==(f=(de[0].cargoType||"Cargo")+"")&&q(p,f),de[0].cargoSubtype?it?it.p(de,tt):(it=qn(de),it.c(),it.m(o,null)):it&&(it.d(1),it=null),de[0].surgeActive?xe?xe.p(de,tt):(xe=Pn(de),xe.c(),xe.m(i,null)):xe&&(xe.d(1),xe=null),ct===(ct=ut(de))&&lt?lt.p(de,tt):(lt.d(1),lt=ct(de),lt&&(lt.c(),lt.m(k,null))),(!Ye||tt&1)&&N!==(N=Fn(de[0].distanceMiles)+"")&&q(D,N),(!Ye||tt&1)&&U!==(U=(de[0].cargoType||"—")+"")&&q(K,U),(!Ye||tt&1)&&J!==(J=In(de[0].weightLbs)+"")&&q(Y,J),de[0].tempMinF!=null&&de[0].tempMaxF!=null?ie?ie.p(de,tt):(ie=Bn(de),ie.c(),ie.m(V,te)):ie&&(ie.d(1),ie=null),de[0].hazmatClass?Ne?(Ne.p(de,tt),tt&1&&$(Ne,1)):(Ne=En(de),Ne.c(),$(Ne,1),Ne.m(V,he)):Ne&&(Se(),H(Ne,1,1,()=>{Ne=null}),De()),(!Ye||tt&1)&&Le!==(Le=(de[0].shipperName||"—")+"")&&q(Ue,Le),(!Ye||tt&1)&&We!==(We=(de[0].requiredVehicleType||"Any")+"")&&q(Ie,We);let ul=ce;ce=Kt(de),ce===ul?wt[ce].p(de,tt):(Se(),H(wt[ul],1,1,()=>{wt[ul]=null}),De(),ge=wt[ce],ge?ge.p(de,tt):(ge=wt[ce]=St[ce](de),ge.c()),$(ge,1),ge.m(e,Ce)),de[1].length>0?pt?pt.p(de,tt):(pt=zn(de),pt.c(),pt.m(e,Ee)):pt&&(pt.d(1),pt=null),(!Ye||tt&1)&&$e!==($e=nl(de[0].depositAmount)+"")&&q(ue,$e),(!Ye||tt&1)&&He!==(He=de[0].deliveryWindowMinutes?de[0].deliveryWindowMinutes+" min":"—")&&q(G,He),(!Ye||tt&4)&&be!==(be=de[2]?"Accepting...":"Accept Load")&&q(Je,be),(!Ye||tt&20&&Xe!==(Xe=!de[4]||de[2]))&&(gt.disabled=Xe)},i(de){Ye||($(a.$$.fragment,de),$(Ne),$(ge),Ye=!0)},o(de){H(a.$$.fragment,de),H(Ne),H(ge),Ye=!1},d(de){de&&P(e),Pe(a),it&&it.d(),xe&&xe.d(),lt.d(),ie&&ie.d(),Ne&&Ne.d(),wt[ce].d(),pt&&pt.d(),ot=!1,at(Ze)}}}function qn(l){let e,t,n=l[0].cargoSubtype+"",i,o;return{c(){e=d("span"),t=T("("),i=T(n),o=T(")"),u(e,"class","cargo-sub text-muted svelte-71s5ly")},m(a,r){R(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r&1&&n!==(n=a[0].cargoSubtype+"")&&q(i,n)},d(a){a&&P(e)}}}function Pn(l){let e,t,n=l[0].surgePercentage+"",i,o;return{c(){e=d("span"),t=T("SURGE +"),i=T(n),o=T("%"),u(e,"class","badge badge-surge svelte-71s5ly")},m(a,r){R(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r&1&&n!==(n=a[0].surgePercentage+"")&&q(i,n)},d(a){a&&P(e)}}}function Ta(l){let e,t,n,i,o,a=(l[0].originLabel||"—")+"",r,c,f,p,v,m,b,g,y=(l[0].destinationLabel||"—")+"",L;return{c(){e=d("div"),t=d("div"),n=d("span"),i=_(),o=d("span"),r=T(a),c=_(),f=d("div"),p=_(),v=d("div"),m=d("span"),b=_(),g=d("span"),L=T(y),u(n,"class","route-dot svelte-71s5ly"),u(o,"class","route-location svelte-71s5ly"),u(t,"class","route-point origin svelte-71s5ly"),u(f,"class","route-connector svelte-71s5ly"),u(m,"class","route-dot dest-dot svelte-71s5ly"),u(g,"class","route-location svelte-71s5ly"),u(v,"class","route-point destination svelte-71s5ly"),u(e,"class","single-route svelte-71s5ly")},m(k,h){R(k,e,h),s(e,t),s(t,n),s(t,i),s(t,o),s(o,r),s(e,c),s(e,f),s(e,p),s(e,v),s(v,m),s(v,b),s(v,g),s(g,L)},p(k,h){h&1&&a!==(a=(k[0].originLabel||"—")+"")&&q(r,a),h&1&&y!==(y=(k[0].destinationLabel||"—")+"")&&q(L,y)},d(k){k&&P(e)}}}function Sa(l){let e,t,n,i,o,a=l[0].originLabel+"",r,c,f,p,v,m,b,g,y,L=l[0].destinationLabel+"",k,h=pe(l[0].stops||[]),C=[];for(let w=0;w<h.length;w+=1)C[w]=Rn(Mn(l,h,w));return{c(){e=d("div"),t=d("div"),n=d("span"),i=_(),o=d("span"),r=T(a),c=_();for(let w=0;w<C.length;w+=1)C[w].c();f=_(),p=d("div"),v=_(),m=d("div"),b=d("span"),g=_(),y=d("span"),k=T(L),u(n,"class","route-dot svelte-71s5ly"),u(o,"class","route-location svelte-71s5ly"),u(t,"class","route-point origin svelte-71s5ly"),u(p,"class","route-connector svelte-71s5ly"),u(b,"class","route-dot dest-dot svelte-71s5ly"),u(y,"class","route-location svelte-71s5ly"),u(m,"class","route-point destination svelte-71s5ly"),u(e,"class","multi-stop-route svelte-71s5ly")},m(w,A){R(w,e,A),s(e,t),s(t,n),s(t,i),s(t,o),s(o,r),s(e,c);for(let M=0;M<C.length;M+=1)C[M]&&C[M].m(e,null);s(e,f),s(e,p),s(e,v),s(e,m),s(m,b),s(m,g),s(m,y),s(y,k)},p(w,A){if(A&1&&a!==(a=w[0].originLabel+"")&&q(r,a),A&1){h=pe(w[0].stops||[]);let M;for(M=0;M<h.length;M+=1){const N=Mn(w,h,M);C[M]?C[M].p(N,A):(C[M]=Rn(N),C[M].c(),C[M].m(e,f))}for(;M<C.length;M+=1)C[M].d(1);C.length=h.length}A&1&&L!==(L=w[0].destinationLabel+"")&&q(k,L)},d(w){w&&P(e),rt(C,w)}}}function Rn(l){let e,t,n,i,o,a,r=(l[13].label||`Stop ${l[15]+1}`)+"",c;return{c(){e=d("div"),t=_(),n=d("div"),i=d("span"),o=_(),a=d("span"),c=T(r),u(e,"class","route-connector svelte-71s5ly"),u(i,"class","route-dot stop-dot svelte-71s5ly"),u(a,"class","route-location svelte-71s5ly"),u(n,"class","route-point stop svelte-71s5ly")},m(f,p){R(f,e,p),R(f,t,p),R(f,n,p),s(n,i),s(n,o),s(n,a),s(a,c)},p(f,p){p&1&&r!==(r=(f[13].label||`Stop ${f[15]+1}`)+"")&&q(c,r)},d(f){f&&(P(e),P(t),P(n))}}}function Bn(l){let e,t,n,i,o=l[0].tempMinF+"",a,r,c=l[0].tempMaxF+"",f,p;return{c(){e=d("div"),t=d("span"),t.textContent="Temperature Range",n=_(),i=d("span"),a=T(o),r=T("°F - "),f=T(c),p=T("°F"),u(t,"class","detail-label svelte-71s5ly"),u(i,"class","detail-value mono svelte-71s5ly"),u(e,"class","detail-item svelte-71s5ly")},m(v,m){R(v,e,m),s(e,t),s(e,n),s(e,i),s(i,a),s(i,r),s(i,f),s(i,p)},p(v,m){m&1&&o!==(o=v[0].tempMinF+"")&&q(a,o),m&1&&c!==(c=v[0].tempMaxF+"")&&q(f,c)},d(v){v&&P(e)}}}function En(l){let e,t,n,i,o,a,r;o=new ft({props:{status:"warning",label:"Class "+l[0].hazmatClass}});let c=l[0].hazmatUnNumber&&$n(l);return{c(){e=d("div"),t=d("span"),t.textContent="Hazmat Class",n=_(),i=d("span"),Be(o.$$.fragment),a=_(),c&&c.c(),u(t,"class","detail-label svelte-71s5ly"),u(i,"class","detail-value svelte-71s5ly"),u(e,"class","detail-item svelte-71s5ly")},m(f,p){R(f,e,p),s(e,t),s(e,n),s(e,i),qe(o,i,null),s(i,a),c&&c.m(i,null),r=!0},p(f,p){const v={};p&1&&(v.label="Class "+f[0].hazmatClass),o.$set(v),f[0].hazmatUnNumber?c?c.p(f,p):(c=$n(f),c.c(),c.m(i,null)):c&&(c.d(1),c=null)},i(f){r||($(o.$$.fragment,f),r=!0)},o(f){H(o.$$.fragment,f),r=!1},d(f){f&&P(e),Pe(o),c&&c.d()}}}function $n(l){let e,t,n=l[0].hazmatUnNumber+"",i;return{c(){e=d("span"),t=T("UN"),i=T(n),u(e,"class","mono text-muted"),vt(e,"margin-left","6px")},m(o,a){R(o,e,a),s(e,t),s(e,i)},p(o,a){a&1&&n!==(n=o[0].hazmatUnNumber+"")&&q(i,n)},d(o){o&&P(e)}}}function Da(l){let e,t,n,i,o=nl(l[0].basePayout||l[0].basePayoutRental)+"",a;return{c(){e=d("div"),t=d("h3"),t.textContent="Estimated Payout",n=_(),i=d("span"),a=T(o),u(t,"class","card-title"),u(i,"class","payout-figure mono svelte-71s5ly"),vt(i,"font-size","20px"),u(e,"class","card payout-card")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c&1&&o!==(o=nl(r[0].basePayout||r[0].basePayoutRental)+"")&&q(a,o)},i:le,o:le,d(r){r&&P(e)}}}function Aa(l){let e,t;return e=new yl({props:{breakdown:l[0].payoutBreakdown,startExpanded:!0}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.breakdown=n[0].payoutBreakdown),e.$set(o)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function zn(l){let e,t,n,i,o=pe(l[1]),a=[];for(let r=0;r<o.length;r+=1)a[r]=jn(Nn(l,o,r));return{c(){e=d("div"),t=d("h3"),t.textContent="Requirements",n=_(),i=d("div");for(let r=0;r<a.length;r+=1)a[r].c();u(t,"class","card-title"),u(i,"class","requirements-list svelte-71s5ly"),u(e,"class","card requirements-card")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(r,c){if(c&2){o=pe(r[1]);let f;for(f=0;f<o.length;f+=1){const p=Nn(r,o,f);a[f]?a[f].p(p,c):(a[f]=jn(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}},d(r){r&&P(e),rt(a,r)}}}function jn(l){let e,t,n=l[10].met?"✓":"✗",i,o,a,r=l[10].label+"",c,f;return{c(){e=d("div"),t=d("span"),i=T(n),o=_(),a=d("span"),c=T(r),f=_(),u(t,"class","req-icon svelte-71s5ly"),u(a,"class","req-label svelte-71s5ly"),u(e,"class","req-row svelte-71s5ly"),oe(e,"req-met",l[10].met),oe(e,"req-unmet",!l[10].met)},m(p,v){R(p,e,v),s(e,t),s(t,i),s(e,o),s(e,a),s(a,c),s(e,f)},p(p,v){v&2&&n!==(n=p[10].met?"✓":"✗")&&q(i,n),v&2&&r!==(r=p[10].label+"")&&q(c,r),v&2&&oe(e,"req-met",p[10].met),v&2&&oe(e,"req-unmet",!p[10].met)},d(p){p&&P(e)}}}function Na(l){let e,t,n,i;const o=[La,Ca],a=[];function r(c,f){return c[0]?0:1}return e=r(l),t=a[e]=o[e](l),{c(){t.c(),n=Ct()},m(c,f){a[e].m(c,f),R(c,n,f),i=!0},p(c,[f]){let p=e;e=r(c),e===p?a[e].p(c,f):(Se(),H(a[p],1,1,()=>{a[p]=null}),De(),t=a[e],t?t.p(c,f):(t=a[e]=o[e](c),t.c()),$(t,1),t.m(n.parentNode,n))},i(c){i||($(t),i=!0)},o(c){H(t),i=!1},d(c){c&&P(n),a[e].d(c)}}}function nl(l){return l==null?"—":"$"+Number(l).toLocaleString("en-US")}function Fn(l){return l==null?"—":Number(l).toFixed(1)+" mi"}function In(l){return l==null?"—":Number(l).toLocaleString()+" lbs"}function Ma(l,e){var n,i,o;if(!l)return[];const t=[];if(l.requiredLicense&&l.requiredLicense!=="none"){const a=(n=e.licenses)==null?void 0:n.some(r=>r.type===l.requiredLicense&&r.status==="active");t.push({label:`CDL ${l.requiredLicense.replace("_"," ").toUpperCase()}`,met:a})}if(l.requiredEndorsement){const a=(i=e.licenses)==null?void 0:i.some(r=>r.type===l.requiredEndorsement&&r.status==="active");t.push({label:`Endorsement: ${l.requiredEndorsement.replace("_"," ").toUpperCase()}`,met:a})}if(l.requiredCertification){const a=(o=e.certifications)==null?void 0:o.some(r=>r.type===l.requiredCertification&&r.status==="active");t.push({label:`Certification: ${l.requiredCertification.replace(/_/g," ")}`,met:a})}return t}function qa(l,e,t){let n,i,o,a,r;ht(l,qt,b=>t(8,r=b));let{load:c=null}=e;const f=$t();let p=!1;function v(){f("back")}async function m(){!c||p||(t(2,p=!0),await Ke("acceptLoad",{loadId:c.id}),t(2,p=!1))}return l.$$set=b=>{"load"in b&&t(0,c=b.load)},l.$$.update=()=>{l.$$.dirty&256&&t(7,n=r),l.$$.dirty&129&&t(1,i=Ma(c,n)),l.$$.dirty&2&&t(4,o=i.every(b=>b.met)),l.$$.dirty&1&&t(3,a=(c==null?void 0:c.isMultiStop)||(c==null?void 0:c.stops)&&c.stops.length>1)},[c,i,p,a,o,v,m,n,r]}class Pa extends mt{constructor(e){super(),_t(this,e,qa,Na,dt,{load:0})}}function Un(l,e,t){const n=l.slice();return n[18]=e[t],n[20]=t,n}function On(l,e,t){const n=l.slice();return n[21]=e[t],n}function Hn(l,e,t){const n=l.slice();return n[24]=e[t],n}function Ra(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="text-muted" style="font-size: 14px;">No active load. Visit the board to pick up a job.</span>',u(e,"class","empty-state svelte-97jg85")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function Ba(l){let e,t,n,i,o,a=(l[0].bolNumber||"—")+"",r,c,f,p=(l[0].cargoType||"Cargo")+"",v,m,b,g,y,L,k,h,C,w,A=(l[0].destinationLabel||"—")+"",M,N,D,S,B,j,W=es(l[0].distanceRemaining)+"",V,I,E,z,Q,U,K,ee,F,ne,X,Z,J,Y,se,te,he=(l[0].cargoIntegrity??100)+"",ve,re,ke,ye,Le,Ue,me,fe,we,Ve,Ae,We,Ie,Fe,ce,ge,Ce,Ee,nt,Ge,st,Oe,Me,Te,$e=sl(l[0].estimatedPayout)+"",ue,O,_e,je,Qe,ae,He,G,Re,ze,kt,Lt;b=new ft({props:{status:l[0].status||"in_transit"}});const gt=[$a,Ea],be=[];function Je(ie,Ne){return ie[0].windowExpiresAt?0:1}z=Je(l),Q=be[z]=gt[z](l);let Xe=l[2]&&Vn(l);J=new hi({props:{value:l[0].cargoIntegrity??100,label:"%",size:72,strokeWidth:5,variant:"integrity",criticalThreshold:40,warningThreshold:70}});let Ye=(l[0].cargoIntegrity??100)<=40&&Wn(),ot=l[1]&&Gn(l);We=new ft({props:{status:l[0].sealStatus||"not_applied"}});let Ze=l[0].sealNumber&&Zn(l),it=pe(l[6]),xe=[];for(let ie=0;ie<it.length;ie+=1)xe[ie]=Kn(On(l,it,ie));let ut=l[0].payoutBreakdown&&Jn(l),ct=l[7]&&l[0].stops&&Xn(l),lt=l[3]&&xn(l);return{c(){e=d("div"),t=d("div"),n=d("div"),i=d("span"),o=T("BOL #"),r=T(a),c=_(),f=d("h2"),v=T(p),m=_(),Be(b.$$.fragment),g=_(),y=d("div"),L=d("div"),k=d("div"),h=d("span"),h.textContent="Destination",C=_(),w=d("span"),M=T(A),N=_(),D=d("div"),S=d("span"),S.textContent="Distance Remaining",B=_(),j=d("span"),V=T(W),I=_(),E=d("div"),Q.c(),U=_(),K=d("div"),Xe&&Xe.c(),ee=_(),F=d("div"),ne=d("h4"),ne.textContent="Cargo Integrity",X=_(),Z=d("div"),Be(J.$$.fragment),Y=_(),se=d("div"),te=d("span"),ve=T(he),re=T("%"),ke=_(),Ye&&Ye.c(),ye=_(),Le=d("div"),Le.innerHTML='Rejection threshold: <span class="mono">40%</span>',Ue=_(),ot&&ot.c(),me=_(),fe=d("div"),we=d("div"),Ve=d("h4"),Ve.textContent="Seal Status",Ae=_(),Be(We.$$.fragment),Ie=_(),Ze&&Ze.c(),Fe=_(),ce=d("div"),ge=d("h4"),ge.textContent="Compliance Checklist",Ce=_(),Ee=d("div");for(let ie=0;ie<xe.length;ie+=1)xe[ie].c();nt=_(),Ge=d("div"),st=d("div"),Oe=d("h4"),Oe.textContent="Estimated Payout",Me=_(),Te=d("span"),ue=T($e),O=_(),ut&&ut.c(),_e=_(),ct&&ct.c(),je=_(),Qe=d("div"),ae=d("button"),ae.textContent="Distress Signal",He=_(),G=d("button"),G.textContent="Abandon Load",Re=_(),lt&&lt.c(),u(i,"class","bol-number mono svelte-97jg85"),u(f,"class","cargo-title svelte-97jg85"),u(n,"class","header-info svelte-97jg85"),u(t,"class","load-header svelte-97jg85"),u(h,"class","dest-label text-muted svelte-97jg85"),u(w,"class","dest-name svelte-97jg85"),u(k,"class","dest-info svelte-97jg85"),u(S,"class","dest-label text-muted svelte-97jg85"),u(j,"class","dest-value mono svelte-97jg85"),u(D,"class","dest-distance svelte-97jg85"),u(L,"class","dest-row svelte-97jg85"),u(y,"class","card destination-card"),u(E,"class","card timer-card svelte-97jg85"),u(ne,"class","card-title"),u(te,"class","integrity-value mono"),vt(te,"font-size","14px"),u(se,"class","integrity-info svelte-97jg85"),u(Le,"class","threshold-marker text-muted"),vt(Le,"font-size","10px"),vt(Le,"margin-top","4px"),u(Z,"class","integrity-display svelte-97jg85"),u(F,"class","card meter-card svelte-97jg85"),u(K,"class","meters-row svelte-97jg85"),u(Ve,"class","card-title"),u(we,"class","card-header"),u(fe,"class","card seal-card"),u(ge,"class","card-title"),u(Ee,"class","compliance-list svelte-97jg85"),u(ce,"class","card compliance-card"),u(Oe,"class","card-title"),u(Te,"class","payout-value payout-figure mono svelte-97jg85"),u(st,"class","card-header"),u(Ge,"class","card payout-card"),u(ae,"class","btn btn-secondary"),u(G,"class","btn btn-danger"),u(Qe,"class","load-actions svelte-97jg85"),u(e,"class","active-load-screen svelte-97jg85")},m(ie,Ne){R(ie,e,Ne),s(e,t),s(t,n),s(n,i),s(i,o),s(i,r),s(n,c),s(n,f),s(f,v),s(n,m),qe(b,n,null),s(e,g),s(e,y),s(y,L),s(L,k),s(k,h),s(k,C),s(k,w),s(w,M),s(L,N),s(L,D),s(D,S),s(D,B),s(D,j),s(j,V),s(e,I),s(e,E),be[z].m(E,null),s(e,U),s(e,K),Xe&&Xe.m(K,null),s(K,ee),s(K,F),s(F,ne),s(F,X),s(F,Z),qe(J,Z,null),s(Z,Y),s(Z,se),s(se,te),s(te,ve),s(te,re),s(se,ke),Ye&&Ye.m(se,null),s(Z,ye),s(Z,Le),s(K,Ue),ot&&ot.m(K,null),s(e,me),s(e,fe),s(fe,we),s(we,Ve),s(we,Ae),qe(We,we,null),s(fe,Ie),Ze&&Ze.m(fe,null),s(e,Fe),s(e,ce),s(ce,ge),s(ce,Ce),s(ce,Ee);for(let St=0;St<xe.length;St+=1)xe[St]&&xe[St].m(Ee,null);s(e,nt),s(e,Ge),s(Ge,st),s(st,Oe),s(st,Me),s(st,Te),s(Te,ue),s(Ge,O),ut&&ut.m(Ge,null),s(e,_e),ct&&ct.m(e,null),s(e,je),s(e,Qe),s(Qe,ae),s(Qe,He),s(Qe,G),s(e,Re),lt&&lt.m(e,null),ze=!0,kt||(Lt=[x(ae,"click",l[9]),x(G,"click",l[10])],kt=!0)},p(ie,Ne){(!ze||Ne&1)&&a!==(a=(ie[0].bolNumber||"—")+"")&&q(r,a),(!ze||Ne&1)&&p!==(p=(ie[0].cargoType||"Cargo")+"")&&q(v,p);const St={};Ne&1&&(St.status=ie[0].status||"in_transit"),b.$set(St),(!ze||Ne&1)&&A!==(A=(ie[0].destinationLabel||"—")+"")&&q(M,A),(!ze||Ne&1)&&W!==(W=es(ie[0].distanceRemaining)+"")&&q(V,W);let wt=z;z=Je(ie),z===wt?be[z].p(ie,Ne):(Se(),H(be[wt],1,1,()=>{be[wt]=null}),De(),Q=be[z],Q?Q.p(ie,Ne):(Q=be[z]=gt[z](ie),Q.c()),$(Q,1),Q.m(E,null)),ie[2]?Xe?(Xe.p(ie,Ne),Ne&4&&$(Xe,1)):(Xe=Vn(ie),Xe.c(),$(Xe,1),Xe.m(K,ee)):Xe&&(Se(),H(Xe,1,1,()=>{Xe=null}),De());const Kt={};Ne&1&&(Kt.value=ie[0].cargoIntegrity??100),J.$set(Kt),(!ze||Ne&1)&&he!==(he=(ie[0].cargoIntegrity??100)+"")&&q(ve,he),(ie[0].cargoIntegrity??100)<=40?Ye||(Ye=Wn(),Ye.c(),Ye.m(se,null)):Ye&&(Ye.d(1),Ye=null),ie[1]?ot?ot.p(ie,Ne):(ot=Gn(ie),ot.c(),ot.m(K,null)):ot&&(ot.d(1),ot=null);const pt={};if(Ne&1&&(pt.status=ie[0].sealStatus||"not_applied"),We.$set(pt),ie[0].sealNumber?Ze?Ze.p(ie,Ne):(Ze=Zn(ie),Ze.c(),Ze.m(fe,null)):Ze&&(Ze.d(1),Ze=null),Ne&64){it=pe(ie[6]);let de;for(de=0;de<it.length;de+=1){const tt=On(ie,it,de);xe[de]?xe[de].p(tt,Ne):(xe[de]=Kn(tt),xe[de].c(),xe[de].m(Ee,null))}for(;de<xe.length;de+=1)xe[de].d(1);xe.length=it.length}(!ze||Ne&1)&&$e!==($e=sl(ie[0].estimatedPayout)+"")&&q(ue,$e),ie[0].payoutBreakdown?ut?(ut.p(ie,Ne),Ne&1&&$(ut,1)):(ut=Jn(ie),ut.c(),$(ut,1),ut.m(Ge,null)):ut&&(Se(),H(ut,1,1,()=>{ut=null}),De()),ie[7]&&ie[0].stops?ct?ct.p(ie,Ne):(ct=Xn(ie),ct.c(),ct.m(e,je)):ct&&(ct.d(1),ct=null),ie[3]?lt?lt.p(ie,Ne):(lt=xn(ie),lt.c(),lt.m(e,null)):lt&&(lt.d(1),lt=null)},i(ie){ze||($(b.$$.fragment,ie),$(Q),$(Xe),$(J.$$.fragment,ie),$(We.$$.fragment,ie),$(ut),ze=!0)},o(ie){H(b.$$.fragment,ie),H(Q),H(Xe),H(J.$$.fragment,ie),H(We.$$.fragment,ie),H(ut),ze=!1},d(ie){ie&&P(e),Pe(b),be[z].d(),Xe&&Xe.d(),Pe(J),Ye&&Ye.d(),ot&&ot.d(),Pe(We),Ze&&Ze.d(),rt(xe,ie),ut&&ut.d(),ct&&ct.d(),lt&&lt.d(),kt=!1,at(Lt)}}}function Ea(l){let e;return{c(){e=d("span"),e.textContent="No delivery window set",u(e,"class","text-muted")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function $a(l){let e,t;return e=new gi({props:{targetTime:l[0].windowExpiresAt,large:!0,warningMinutes:15,criticalMinutes:5}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.targetTime=n[0].windowExpiresAt),e.$set(o)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Vn(l){let e,t,n,i,o,a=l[0].currentTempF!=null?l[0].currentTempF+"°F":"—",r,c,f,p,v=(l[0].tempMinF??"—")+"",m,b,g=(l[0].tempMaxF??"—")+"",y,L,k,h,C;return h=new ft({props:{status:l[8]?"active":"critical",label:l[8]?"In Range":"Out of Range"}}),{c(){e=d("div"),t=d("h4"),t.textContent="Temperature",n=_(),i=d("div"),o=d("span"),r=T(a),c=_(),f=d("span"),p=T("Target: "),m=T(v),b=T("°F - "),y=T(g),L=T("°F"),k=_(),Be(h.$$.fragment),u(t,"class","card-title"),u(o,"class","temp-value mono svelte-97jg85"),oe(o,"temp-ok",l[8]),oe(o,"temp-bad",!l[8]),u(f,"class","temp-range text-muted mono svelte-97jg85"),u(i,"class","temp-display svelte-97jg85"),u(e,"class","card meter-card svelte-97jg85")},m(w,A){R(w,e,A),s(e,t),s(e,n),s(e,i),s(i,o),s(o,r),s(i,c),s(i,f),s(f,p),s(f,m),s(f,b),s(f,y),s(f,L),s(i,k),qe(h,i,null),C=!0},p(w,A){(!C||A&1)&&a!==(a=w[0].currentTempF!=null?w[0].currentTempF+"°F":"—")&&q(r,a),(!C||A&256)&&oe(o,"temp-ok",w[8]),(!C||A&256)&&oe(o,"temp-bad",!w[8]),(!C||A&1)&&v!==(v=(w[0].tempMinF??"—")+"")&&q(m,v),(!C||A&1)&&g!==(g=(w[0].tempMaxF??"—")+"")&&q(y,g);const M={};A&256&&(M.status=w[8]?"active":"critical"),A&256&&(M.label=w[8]?"In Range":"Out of Range"),h.$set(M)},i(w){C||($(h.$$.fragment,w),C=!0)},o(w){H(h.$$.fragment,w),C=!1},d(w){w&&P(e),Pe(h)}}}function Wn(l){let e;return{c(){e=d("span"),e.textContent="Below rejection threshold",u(e,"class","integrity-warning text-orange"),vt(e,"font-size","11px")},m(t,n){R(t,e,n)},d(t){t&&P(e)}}}function Gn(l){let e,t,n,i,o=pe(l[5]),a=[];for(let r=0;r<o.length;r+=1)a[r]=Qn(Hn(l,o,r));return{c(){e=d("div"),t=d("h4"),t.textContent="Welfare Rating",n=_(),i=d("div");for(let r=0;r<a.length;r+=1)a[r].c();u(t,"class","card-title"),u(i,"class","welfare-stars svelte-97jg85"),u(e,"class","card meter-card svelte-97jg85")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(r,c){if(c&32){o=pe(r[5]);let f;for(f=0;f<o.length;f+=1){const p=Hn(r,o,f);a[f]?a[f].p(p,c):(a[f]=Qn(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}},d(r){r&&P(e),rt(a,r)}}}function Qn(l){let e;return{c(){e=d("span"),e.textContent=`★
              `,u(e,"class","star svelte-97jg85"),oe(e,"star-filled",l[24]),oe(e,"star-empty",!l[24])},m(t,n){R(t,e,n)},p(t,n){n&32&&oe(e,"star-filled",t[24]),n&32&&oe(e,"star-empty",!t[24])},d(t){t&&P(e)}}}function Zn(l){let e,t,n=l[0].sealNumber+"",i;return{c(){e=d("span"),t=T("Seal #"),i=T(n),u(e,"class","seal-number mono text-muted svelte-97jg85")},m(o,a){R(o,e,a),s(e,t),s(e,i)},p(o,a){a&1&&n!==(n=o[0].sealNumber+"")&&q(i,n)},d(o){o&&P(e)}}}function Kn(l){let e,t,n=l[21].done?"✓":"✗",i,o,a,r=l[21].label+"",c,f;return{c(){e=d("div"),t=d("span"),i=T(n),o=_(),a=d("span"),c=T(r),f=_(),u(t,"class","compliance-icon svelte-97jg85"),u(a,"class","compliance-label svelte-97jg85"),u(e,"class","compliance-item svelte-97jg85"),oe(e,"item-done",l[21].done)},m(p,v){R(p,e,v),s(e,t),s(t,i),s(e,o),s(e,a),s(a,c),s(e,f)},p(p,v){v&64&&n!==(n=p[21].done?"✓":"✗")&&q(i,n),v&64&&r!==(r=p[21].label+"")&&q(c,r),v&64&&oe(e,"item-done",p[21].done)},d(p){p&&P(e)}}}function Jn(l){let e,t;return e=new yl({props:{breakdown:l[0].payoutBreakdown}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.breakdown=n[0].payoutBreakdown),e.$set(o)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Xn(l){let e,t,n,i,o=pe(l[0].stops),a=[];for(let r=0;r<o.length;r+=1)a[r]=Yn(Un(l,o,r));return{c(){e=d("div"),t=d("h4"),t.textContent="Route Progress",n=_(),i=d("div");for(let r=0;r<a.length;r+=1)a[r].c();u(t,"class","card-title"),u(i,"class","stops-list svelte-97jg85"),u(e,"class","card stops-card")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(r,c){if(c&1){o=pe(r[0].stops);let f;for(f=0;f<o.length;f+=1){const p=Un(r,o,f);a[f]?a[f].p(p,c):(a[f]=Yn(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}},d(r){r&&P(e),rt(a,r)}}}function za(l){let e;return{c(){e=d("span"),e.textContent="○",u(e,"class","text-muted")},m(t,n){R(t,e,n)},d(t){t&&P(e)}}}function ja(l){let e;return{c(){e=d("span"),e.textContent="●",u(e,"class","text-orange")},m(t,n){R(t,e,n)},d(t){t&&P(e)}}}function Fa(l){let e;return{c(){e=d("span"),e.textContent="✓",u(e,"class","text-success")},m(t,n){R(t,e,n)},d(t){t&&P(e)}}}function Yn(l){let e,t,n,i,o=(l[18].label||`Stop ${l[20]+1}`)+"",a,r;function c(v,m){return v[20]<(v[0].currentStop||1)-1?Fa:v[20]===(v[0].currentStop||1)-1?ja:za}let f=c(l),p=f(l);return{c(){e=d("div"),t=d("span"),p.c(),n=_(),i=d("span"),a=T(o),r=_(),u(t,"class","stop-indicator svelte-97jg85"),u(i,"class","stop-name svelte-97jg85"),u(e,"class","stop-item svelte-97jg85"),oe(e,"stop-completed",l[20]<(l[0].currentStop||1)-1),oe(e,"stop-current",l[20]===(l[0].currentStop||1)-1),oe(e,"stop-remaining",l[20]>(l[0].currentStop||1)-1)},m(v,m){R(v,e,m),s(e,t),p.m(t,null),s(e,n),s(e,i),s(i,a),s(e,r)},p(v,m){f!==(f=c(v))&&(p.d(1),p=f(v),p&&(p.c(),p.m(t,null))),m&1&&o!==(o=(v[18].label||`Stop ${v[20]+1}`)+"")&&q(a,o),m&1&&oe(e,"stop-completed",v[20]<(v[0].currentStop||1)-1),m&1&&oe(e,"stop-current",v[20]===(v[0].currentStop||1)-1),m&1&&oe(e,"stop-remaining",v[20]>(v[0].currentStop||1)-1)},d(v){v&&P(e),p.d()}}}function xn(l){let e,t,n,i,o,a,r,c=sl(l[0].depositPosted)+"",f,p,v,m,b,g,y,L=l[4]?"Abandoning...":"Confirm Abandon",k,h,C;return{c(){e=d("div"),t=d("div"),n=d("h3"),n.textContent="Abandon Load?",i=_(),o=d("p"),a=T(`Abandoning this load will forfeit your deposit of
            `),r=d("span"),f=T(c),p=T(`
            and impact your reputation score. This action cannot be undone.`),v=_(),m=d("div"),b=d("button"),b.textContent="Cancel",g=_(),y=d("button"),k=T(L),u(n,"class","svelte-97jg85"),u(r,"class","mono"),u(o,"class","text-muted svelte-97jg85"),u(b,"class","btn btn-secondary"),u(y,"class","btn btn-danger"),y.disabled=l[4],u(m,"class","dialog-actions svelte-97jg85"),u(t,"class","dialog-panel svelte-97jg85"),u(t,"role","document"),u(e,"class","dialog-overlay svelte-97jg85"),u(e,"role","dialog"),u(e,"tabindex","-1")},m(w,A){R(w,e,A),s(e,t),s(t,n),s(t,i),s(t,o),s(o,a),s(o,r),s(r,f),s(o,p),s(t,v),s(t,m),s(m,b),s(m,g),s(m,y),s(y,k),h||(C=[x(b,"click",l[12]),x(y,"click",l[11]),x(t,"click",Dt(l[14])),x(t,"keydown",Dt(l[15])),x(e,"click",l[12]),x(e,"keydown",l[16])],h=!0)},p(w,A){A&1&&c!==(c=sl(w[0].depositPosted)+"")&&q(f,c),A&16&&L!==(L=w[4]?"Abandoning...":"Confirm Abandon")&&q(k,L),A&16&&(y.disabled=w[4])},d(w){w&&P(e),h=!1,at(C)}}}function Ia(l){let e,t,n,i;const o=[Ba,Ra],a=[];function r(c,f){return c[0]?0:1}return e=r(l),t=a[e]=o[e](l),{c(){t.c(),n=Ct()},m(c,f){a[e].m(c,f),R(c,n,f),i=!0},p(c,[f]){let p=e;e=r(c),e===p?a[e].p(c,f):(Se(),H(a[p],1,1,()=>{a[p]=null}),De(),t=a[e],t?t.p(c,f):(t=a[e]=o[e](c),t.c()),$(t,1),t.m(n.parentNode,n))},i(c){i||($(t),i=!0)},o(c){H(t),i=!1},d(c){c&&P(n),a[e].d(c)}}}function sl(l){return l==null?"—":"$"+Number(l).toLocaleString("en-US")}function es(l){return l==null?"—":Number(l).toFixed(1)+" mi"}function Ua(l,e,t){let n,i,o,a,r,c,f,p;ht(l,Wt,w=>t(13,p=w)),$t();let v=!1,m=!1;async function b(){await Ke("distressSignal",{bolId:p==null?void 0:p.bolId})}function g(){t(3,v=!0)}async function y(){t(4,m=!0),await Ke("abandonLoad",{bolId:p==null?void 0:p.bolId}),t(4,m=!1),t(3,v=!1)}function L(){t(3,v=!1)}function k(w){It.call(this,l,w)}function h(w){It.call(this,l,w)}const C=w=>w.key==="Escape"&&L();return l.$$.update=()=>{l.$$.dirty&8192&&t(0,n=p),l.$$.dirty&1&&t(2,i=n==null?void 0:n.tempMonitoringActive),l.$$.dirty&5&&t(8,o=i&&(n==null?void 0:n.currentTempF)!=null?n.currentTempF>=(n.tempMinF??-999)&&n.currentTempF<=(n.tempMaxF??999):!0),l.$$.dirty&1&&t(1,a=(n==null?void 0:n.welfareRating)!=null),l.$$.dirty&1&&t(7,r=(n==null?void 0:n.isMultiStop)||(n==null?void 0:n.stops)&&n.stops.length>1),l.$$.dirty&1&&t(6,c=n?[{label:"Pre-Trip Inspection",done:n.preTripCompleted},{label:"Manifest Verified",done:n.manifestVerified},{label:"Weigh Station",done:n.weighStationStamped},{label:"Seal Applied",done:n.sealStatus==="sealed"}]:[]),l.$$.dirty&3&&t(5,f=a?Array.from({length:5},(w,A)=>A<(n.welfareRating||0)):[])},[n,a,i,v,m,f,c,r,o,b,g,y,L,p,k,h,C]}class Oa extends mt{constructor(e){super(),_t(this,e,Ua,Ia,dt,{})}}function ts(l,e,t){const n=l.slice();return n[18]=e[t][0],n[19]=e[t][1],n}function vl(l){const e=l.slice(),t=e[3][e[5]];return e[17]=t,e}function ls(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}function ns(l){let e,t,n;function i(){return l[13](l[24])}return{c(){e=d("button"),e.textContent=`${l[24]+1}`,u(e,"class","progress-dot svelte-1giqgz1"),u(e,"aria-label","Question "+(l[24]+1)),oe(e,"answered",l[0][l[24]]!==void 0),oe(e,"current",l[5]===l[24])},m(o,a){R(o,e,a),t||(n=x(e,"click",i),t=!0)},p(o,a){l=o,a&1&&oe(e,"answered",l[0][l[24]]!==void 0),a&32&&oe(e,"current",l[5]===l[24])},d(o){o&&P(e),t=!1,n()}}}function ss(l){let e,t,n,i=l[5]+1+"",o,a,r,c=l[17].question+"",f,p,v,m,b,g,y,L,k,h,C,w=pe(Object.entries(l[17].options)),A=[];for(let S=0;S<w.length;S+=1)A[S]=is(ts(l,w,S));function M(S,B){return S[5]<S[1]-1?Va:Ha}let N=M(l),D=N(l);return{c(){e=d("div"),t=d("div"),n=T("Question "),o=T(i),a=_(),r=d("p"),f=T(c),p=_(),v=d("div");for(let S=0;S<A.length;S+=1)A[S].c();m=_(),b=d("div"),g=d("button"),y=T("Previous"),k=_(),D.c(),u(t,"class","question-number svelte-1giqgz1"),u(r,"class","question-text svelte-1giqgz1"),u(v,"class","options svelte-1giqgz1"),u(e,"class","question-card svelte-1giqgz1"),u(g,"class","nav-btn svelte-1giqgz1"),g.disabled=L=l[5]===0,u(b,"class","nav-buttons svelte-1giqgz1")},m(S,B){R(S,e,B),s(e,t),s(t,n),s(t,o),s(e,a),s(e,r),s(r,f),s(e,p),s(e,v);for(let j=0;j<A.length;j+=1)A[j]&&A[j].m(v,null);R(S,m,B),R(S,b,B),s(b,g),s(g,y),s(b,k),D.m(b,null),h||(C=x(g,"click",l[15]),h=!0)},p(S,B){if(B&32&&i!==(i=S[5]+1+"")&&q(o,i),B&40&&c!==(c=S[17].question+"")&&q(f,c),B&2233){w=pe(Object.entries(S[17].options));let j;for(j=0;j<w.length;j+=1){const W=ts(S,w,j);A[j]?A[j].p(W,B):(A[j]=is(W),A[j].c(),A[j].m(v,null))}for(;j<A.length;j+=1)A[j].d(1);A.length=w.length}B&32&&L!==(L=S[5]===0)&&(g.disabled=L),N===(N=M(S))&&D?D.p(S,B):(D.d(1),D=N(S),D&&(D.c(),D.m(b,null)))},d(S){S&&(P(e),P(m),P(b)),rt(A,S),D.d(),h=!1,C()}}}function is(l){let e,t,n=(l[11][l[18]]||l[18])+"",i,o,a,r=l[19]+"",c,f,p,v;function m(){return l[14](l[18])}return{c(){e=d("button"),t=d("span"),i=T(n),o=_(),a=d("span"),c=T(r),f=_(),u(t,"class","option-key svelte-1giqgz1"),u(a,"class","option-text svelte-1giqgz1"),u(e,"class","option-btn svelte-1giqgz1"),e.disabled=l[4],oe(e,"selected",l[0][l[5]]===l[18])},m(b,g){R(b,e,g),s(e,t),s(t,i),s(e,o),s(e,a),s(a,c),s(e,f),p||(v=x(e,"click",m),p=!0)},p(b,g){l=b,g&40&&n!==(n=(l[11][l[18]]||l[18])+"")&&q(i,n),g&40&&r!==(r=l[19]+"")&&q(c,r),g&16&&(e.disabled=l[4]),g&41&&oe(e,"selected",l[0][l[5]]===l[18])},d(b){b&&P(e),p=!1,v()}}}function Ha(l){let e,t=l[4]?"Submitting...":"Submit Test",n,i,o,a;return{c(){e=d("button"),n=T(t),u(e,"class","nav-btn nav-submit svelte-1giqgz1"),e.disabled=i=!l[6]||l[4]},m(r,c){R(r,e,c),s(e,n),o||(a=x(e,"click",l[8]),o=!0)},p(r,c){c&16&&t!==(t=r[4]?"Submitting...":"Submit Test")&&q(n,t),c&80&&i!==(i=!r[6]||r[4])&&(e.disabled=i)},d(r){r&&P(e),o=!1,a()}}}function Va(l){let e,t,n;return{c(){e=d("button"),e.textContent="Next",u(e,"class","nav-btn nav-next svelte-1giqgz1")},m(i,o){R(i,e,o),t||(n=x(e,"click",l[16]),t=!0)},p:le,d(i){i&&P(e),t=!1,n()}}}function Wa(l){var S,B;let e,t,n,i,o,a=(((B=(S=l[2])==null?void 0:S.testType)==null?void 0:B.replace("_"," ").toUpperCase())||"CDL")+"",r,c,f,p,v,m,b,g=Object.keys(l[0]).length+"",y,L,k,h,C,w,A,M=pe(Array(l[1])),N=[];for(let j=0;j<M.length;j+=1)N[j]=ns(ls(l,M,j));let D=l[3][l[5]]&&ss(vl(l));return{c(){e=d("div"),t=d("div"),n=d("h2"),n.textContent="CDL Written Test",i=_(),o=d("span"),r=T(a),c=_(),f=d("button"),f.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',p=_(),v=d("div");for(let j=0;j<N.length;j+=1)N[j].c();m=_(),b=d("div"),y=T(g),L=T(" / "),k=T(l[1]),h=T(" answered"),C=_(),D&&D.c(),u(n,"class","svelte-1giqgz1"),u(o,"class","test-type svelte-1giqgz1"),u(f,"class","close-btn svelte-1giqgz1"),u(f,"aria-label","Close"),u(t,"class","test-header svelte-1giqgz1"),u(v,"class","progress-bar svelte-1giqgz1"),u(b,"class","progress-text svelte-1giqgz1"),u(e,"class","cdl-test svelte-1giqgz1")},m(j,W){R(j,e,W),s(e,t),s(t,n),s(t,i),s(t,o),s(o,r),s(t,c),s(t,f),s(e,p),s(e,v);for(let V=0;V<N.length;V+=1)N[V]&&N[V].m(v,null);s(e,m),s(e,b),s(b,y),s(b,L),s(b,k),s(b,h),s(e,C),D&&D.m(e,null),w||(A=x(f,"click",l[9]),w=!0)},p(j,[W]){var V,I;if(W&4&&a!==(a=(((I=(V=j[2])==null?void 0:V.testType)==null?void 0:I.replace("_"," ").toUpperCase())||"CDL")+"")&&q(r,a),W&1059){M=pe(Array(j[1]));let E;for(E=0;E<M.length;E+=1){const z=ls(j,M,E);N[E]?N[E].p(z,W):(N[E]=ns(z),N[E].c(),N[E].m(v,null))}for(;E<N.length;E+=1)N[E].d(1);N.length=M.length}W&1&&g!==(g=Object.keys(j[0]).length+"")&&q(y,g),W&2&&q(k,j[1]),j[3][j[5]]?D?D.p(vl(j),W):(D=ss(vl(j)),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i:le,o:le,d(j){j&&P(e),rt(N,j),D&&D.d(),w=!1,A()}}}function Ga(l,e,t){let n,i,o,a,r;ht(l,bl,w=>t(12,r=w));let c={},f=!1,p=0;function v(w,A){f||(t(0,c[w]=A,c),t(0,c))}async function m(){if(f||!a)return;t(4,f=!0);const w=[];for(let A=0;A<o;A++)w.push(c[A]||"");await Ke("trucking:submitCDLTest",{testType:n.testType,answers:w})}function b(){Ke("trucking:closeCDLTest")}function g(w){w>=0&&w<o&&t(5,p=w)}const y={a:"A",b:"B",c:"C",d:"D"},L=w=>g(w),k=w=>v(p,w),h=()=>g(p-1),C=()=>g(p+1);return l.$$.update=()=>{l.$$.dirty&4096&&t(2,n=r),l.$$.dirty&4&&t(3,i=(n==null?void 0:n.questions)||[]),l.$$.dirty&8&&t(1,o=i.length),l.$$.dirty&3&&t(6,a=Object.keys(c).length===o)},[c,o,n,i,f,p,a,v,m,b,g,y,r,L,k,h,C]}class Qa extends mt{constructor(e){super(),_t(this,e,Ga,Wa,dt,{})}}function _l(l){const e=l.slice(),t=e[2][e[0]];return e[11]=t,e}function as(l,e,t){const n=l.slice();return n[11]=e[t],n[13]=t,n}function rs(l){let e,t,n;function i(){return l[9](l[13])}return{c(){e=d("button"),e.textContent=`${l[13]+1}`,u(e,"class","topic-pip svelte-1vy5gyb"),u(e,"aria-label","Topic "+(l[13]+1)),oe(e,"read",l[13]<=l[0]),oe(e,"current",l[13]===l[0])},m(o,a){R(o,e,a),t||(n=x(e,"click",i),t=!0)},p(o,a){l=o,a&1&&oe(e,"read",l[13]<=l[0]),a&1&&oe(e,"current",l[13]===l[0])},d(o){o&&P(e),t=!1,n()}}}function os(l){let e,t,n,i=(l[11].id||l[0]+1)+"",o,a,r,c=l[11].title+"",f,p,v,m=l[11].description+"",b;return{c(){e=d("div"),t=d("div"),n=T("Topic "),o=T(i),a=_(),r=d("h3"),f=T(c),p=_(),v=d("p"),b=T(m),u(t,"class","topic-id svelte-1vy5gyb"),u(r,"class","topic-title svelte-1vy5gyb"),u(v,"class","topic-description svelte-1vy5gyb"),u(e,"class","topic-card svelte-1vy5gyb")},m(g,y){R(g,e,y),s(e,t),s(t,n),s(t,o),s(e,a),s(e,r),s(r,f),s(e,p),s(e,v),s(v,b)},p(g,y){y&5&&i!==(i=(g[11].id||g[0]+1)+"")&&q(o,i),y&5&&c!==(c=g[11].title+"")&&q(f,c),y&5&&m!==(m=g[11].description+"")&&q(b,m)},d(g){g&&P(e)}}}function Za(l){let e,t=l[3]?"Processing...":"Complete Briefing",n,i,o;return{c(){e=d("button"),n=T(t),u(e,"class","nav-btn nav-complete svelte-1vy5gyb"),e.disabled=l[3]},m(a,r){R(a,e,r),s(e,n),i||(o=x(e,"click",l[6]),i=!0)},p(a,r){r&8&&t!==(t=a[3]?"Processing...":"Complete Briefing")&&q(n,t),r&8&&(e.disabled=a[3])},d(a){a&&P(e),i=!1,o()}}}function Ka(l){let e,t,n;return{c(){e=d("button"),e.textContent="Next Topic",u(e,"class","nav-btn nav-next svelte-1vy5gyb")},m(i,o){R(i,e,o),t||(n=x(e,"click",l[4]),t=!0)},p:le,d(i){i&&P(e),t=!1,n()}}}function Ja(l){let e,t,n,i,o,a,r,c,f,p,v,m,b=l[0]+1+"",g,y,L,k,h,C,w,A,M,N,D,S,B=pe(l[2]),j=[];for(let z=0;z<B.length;z+=1)j[z]=rs(as(l,B,z));let W=l[2][l[0]]&&os(_l(l));function V(z,Q){return z[0]<z[1]-1?Ka:Za}let I=V(l),E=I(l);return{c(){e=d("div"),t=d("div"),n=d("h2"),n.textContent="HAZMAT Safety Briefing",i=_(),o=d("span"),o.textContent="ENDORSEMENT",a=_(),r=d("button"),r.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',c=_(),f=d("div");for(let z=0;z<j.length;z+=1)j[z].c();p=_(),v=d("div"),m=T("Topic "),g=T(b),y=T(" of "),L=T(l[1]),k=_(),W&&W.c(),h=_(),C=d("div"),w=d("button"),A=T("Previous"),N=_(),E.c(),u(n,"class","svelte-1vy5gyb"),u(o,"class","hazmat-badge svelte-1vy5gyb"),u(r,"class","close-btn svelte-1vy5gyb"),u(r,"aria-label","Close"),u(t,"class","briefing-header svelte-1vy5gyb"),u(f,"class","topic-progress svelte-1vy5gyb"),u(v,"class","progress-label svelte-1vy5gyb"),u(w,"class","nav-btn svelte-1vy5gyb"),w.disabled=M=l[0]===0,u(C,"class","nav-buttons svelte-1vy5gyb"),u(e,"class","hazmat-briefing svelte-1vy5gyb")},m(z,Q){R(z,e,Q),s(e,t),s(t,n),s(t,i),s(t,o),s(t,a),s(t,r),s(e,c),s(e,f);for(let U=0;U<j.length;U+=1)j[U]&&j[U].m(f,null);s(e,p),s(e,v),s(v,m),s(v,g),s(v,y),s(v,L),s(e,k),W&&W.m(e,null),s(e,h),s(e,C),s(C,w),s(w,A),s(C,N),E.m(C,null),D||(S=[x(r,"click",l[7]),x(w,"click",l[5])],D=!0)},p(z,[Q]){if(Q&5){B=pe(z[2]);let U;for(U=0;U<B.length;U+=1){const K=as(z,B,U);j[U]?j[U].p(K,Q):(j[U]=rs(K),j[U].c(),j[U].m(f,null))}for(;U<j.length;U+=1)j[U].d(1);j.length=B.length}Q&1&&b!==(b=z[0]+1+"")&&q(g,b),Q&2&&q(L,z[1]),z[2][z[0]]?W?W.p(_l(z),Q):(W=os(_l(z)),W.c(),W.m(e,h)):W&&(W.d(1),W=null),Q&1&&M!==(M=z[0]===0)&&(w.disabled=M),I===(I=V(z))&&E?E.p(z,Q):(E.d(1),E=I(z),E&&(E.c(),E.m(C,null)))},i:le,o:le,d(z){z&&P(e),rt(j,z),W&&W.d(),E.d(),D=!1,at(S)}}}function Xa(l,e,t){let n,i,o;ht(l,gl,b=>t(8,o=b));let a=0,r=!1;function c(){a<i-1&&t(0,a++,a)}function f(){a>0&&t(0,a--,a)}async function p(){r||(t(3,r=!0),await Ke("trucking:completeHAZMATBriefing"))}function v(){Ke("trucking:closeCDLTest")}const m=b=>{b<=a&&t(0,a=b)};return l.$$.update=()=>{l.$$.dirty&256&&t(2,n=(o==null?void 0:o.topics)||[]),l.$$.dirty&4&&t(1,i=n.length),l.$$.dirty&3},[a,i,n,r,c,f,p,v,o,m]}class Ya extends mt{constructor(e){super(),_t(this,e,Xa,Ja,dt,{})}}function us(l){let e,t,n,i,o,a,r,c,f,p,v,m,b,g,y,L;return{c(){e=d("div"),t=d("div"),n=d("h2"),i=T(l[1]),o=_(),a=d("p"),r=T(l[2]),c=_(),f=d("div"),p=d("button"),v=T(l[4]),m=_(),b=d("button"),g=T(l[3]),u(n,"class","dialog-title svelte-19wu47"),u(a,"class","dialog-message svelte-19wu47"),u(p,"class","btn-cancel svelte-19wu47"),u(b,"class","btn-confirm svelte-19wu47"),oe(b,"danger",l[5]==="danger"),u(f,"class","dialog-actions svelte-19wu47"),u(t,"class","dialog-box svelte-19wu47"),u(e,"class","dialog-overlay svelte-19wu47")},m(k,h){R(k,e,h),s(e,t),s(t,n),s(n,i),s(t,o),s(t,a),s(a,r),s(t,c),s(t,f),s(f,p),s(p,v),s(f,m),s(f,b),s(b,g),y||(L=[x(p,"click",l[7]),x(b,"click",l[6]),x(e,"click",l[8])],y=!0)},p(k,h){h&2&&q(i,k[1]),h&4&&q(r,k[2]),h&16&&q(v,k[4]),h&8&&q(g,k[3]),h&32&&oe(b,"danger",k[5]==="danger")},d(k){k&&P(e),y=!1,at(L)}}}function xa(l){let e,t=l[0]&&us(l);return{c(){t&&t.c(),e=Ct()},m(n,i){t&&t.m(n,i),R(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=us(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(n){n&&P(e),t&&t.d(n)}}}function er(l,e,t){let{visible:n=!1}=e,{title:i="Confirm"}=e,{message:o="Are you sure?"}=e,{confirmText:a="Confirm"}=e,{cancelText:r="Cancel"}=e,{confirmStyle:c="primary"}=e;const f=$t();function p(){f("confirm")}function v(){f("cancel")}function m(b){b.target===b.currentTarget&&v()}return l.$$set=b=>{"visible"in b&&t(0,n=b.visible),"title"in b&&t(1,i=b.title),"message"in b&&t(2,o=b.message),"confirmText"in b&&t(3,a=b.confirmText),"cancelText"in b&&t(4,r=b.cancelText),"confirmStyle"in b&&t(5,c=b.confirmStyle)},[n,i,o,a,r,c,p,v,m]}class tr extends mt{constructor(e){super(),_t(this,e,er,xa,dt,{visible:0,title:1,message:2,confirmText:3,cancelText:4,confirmStyle:5})}}function cs(l,e,t){const n=l.slice();return n[34]=e[t],n}function fs(l,e,t){const n=l.slice();return n[37]=e[t],n}function ds(l,e,t){const n=l.slice();return n[40]=e[t],n}function ps(l,e,t){const n=l.slice();return n[37]=e[t],n}function vs(l){let e,t=l[37].activeLoad.cargoType+"",n,i,o=l[37].activeLoad.destination+"",a;return{c(){e=d("span"),n=T(t),i=T(" → "),a=T(o),u(e,"class","driver-load-summary svelte-2b9lu2")},m(r,c){R(r,e,c),s(e,n),s(e,i),s(e,a)},p(r,c){c[0]&2&&t!==(t=r[37].activeLoad.cargoType+"")&&q(n,t),c[0]&2&&o!==(o=r[37].activeLoad.destination+"")&&q(a,o)},d(r){r&&P(e)}}}function _s(l){let e,t,n,i,o,a,r=l[37].name+"",c,f,p,v=il(l[37].status)+"",m,b,g,y,L,k=l[37].activeLoad&&vs(l);function h(){return l[26](l[37])}return{c(){var C;e=d("button"),t=d("div"),i=_(),o=d("div"),a=d("span"),c=T(r),f=_(),p=d("span"),m=T(v),b=_(),k&&k.c(),g=_(),u(t,"class",n="driver-dot "+Ts(l[37].status)+" svelte-2b9lu2"),u(a,"class","driver-name svelte-2b9lu2"),u(p,"class","driver-status svelte-2b9lu2"),u(o,"class","driver-info svelte-2b9lu2"),u(e,"class","driver-card svelte-2b9lu2"),oe(e,"selected",((C=l[2])==null?void 0:C.citizenid)===l[37].citizenid),oe(e,"offline",l[37].status==="offline")},m(C,w){R(C,e,w),s(e,t),s(e,i),s(e,o),s(o,a),s(a,c),s(o,f),s(o,p),s(p,m),s(o,b),k&&k.m(o,null),s(e,g),y||(L=x(e,"click",h),y=!0)},p(C,w){var A;l=C,w[0]&2&&n!==(n="driver-dot "+Ts(l[37].status)+" svelte-2b9lu2")&&u(t,"class",n),w[0]&2&&r!==(r=l[37].name+"")&&q(c,r),w[0]&2&&v!==(v=il(l[37].status)+"")&&q(m,v),l[37].activeLoad?k?k.p(l,w):(k=vs(l),k.c(),k.m(o,null)):k&&(k.d(1),k=null),w[0]&6&&oe(e,"selected",((A=l[2])==null?void 0:A.citizenid)===l[37].citizenid),w[0]&2&&oe(e,"offline",l[37].status==="offline")},d(C){C&&P(e),k&&k.d(),y=!1,L()}}}function lr(l){let e,t,n,i,o=l[10].length+"",a,r,c,f;function p(b,g){return b[10].length===0?ir:sr}let v=p(l),m=v(l);return{c(){e=d("div"),t=d("h2"),t.textContent="FREIGHT BOARD",n=_(),i=d("span"),a=T(o),r=T(" loads"),c=_(),m.c(),f=Ct(),u(t,"class","detail-title svelte-2b9lu2"),u(i,"class","load-count svelte-2b9lu2"),u(e,"class","detail-header svelte-2b9lu2")},m(b,g){R(b,e,g),s(e,t),s(e,n),s(e,i),s(i,a),s(i,r),R(b,c,g),m.m(b,g),R(b,f,g)},p(b,g){g[0]&1024&&o!==(o=b[10].length+"")&&q(a,o),v===(v=p(b))&&m?m.p(b,g):(m.d(1),m=v(b),m&&(m.c(),m.m(f.parentNode,f)))},d(b){b&&(P(e),P(c),P(f)),m.d(b)}}}function nr(l){var ge;let e,t,n,i,o=((ge=l[2])==null?void 0:ge.name)+"",a,r,c,f,p,v,m,b,g,y=l[4].bolNumber+"",L,k,h,C,w,A,M=l[4].cargoType+"",N,D,S,B,j,W,V=l[4].origin+"",I,E,z,Q,U,K,ee=l[4].destination+"",F,ne,X,Z,J,Y,se=(l[4].distance||"--")+"",te,he,ve,re,ke,ye,Le,Ue=(l[4].status||"In Transit")+"",me,fe,we,Ve,Ae,We,Ie=l[4].integrity!==void 0&&gs(l),Fe=l[4].timeRemaining&&hs(l),ce=l[4].estimatedPayout&&ks(l);return{c(){e=d("div"),t=d("button"),t.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg>
          Board`,n=_(),i=d("h2"),a=T(o),r=T("'s Active Load"),c=_(),f=d("div"),p=d("div"),v=d("span"),v.textContent="BOL",m=_(),b=d("span"),g=T("#"),L=T(y),k=_(),h=d("div"),C=d("span"),C.textContent="Cargo",w=_(),A=d("span"),N=T(M),D=_(),S=d("div"),B=d("span"),B.textContent="Origin",j=_(),W=d("span"),I=T(V),E=_(),z=d("div"),Q=d("span"),Q.textContent="Destination",U=_(),K=d("span"),F=T(ee),ne=_(),X=d("div"),Z=d("span"),Z.textContent="Distance",J=_(),Y=d("span"),te=T(se),he=T(" mi"),ve=_(),re=d("div"),ke=d("span"),ke.textContent="Status",ye=_(),Le=d("span"),me=T(Ue),fe=_(),Ie&&Ie.c(),we=_(),Fe&&Fe.c(),Ve=_(),ce&&ce.c(),u(t,"class","btn-back svelte-2b9lu2"),u(i,"class","detail-title svelte-2b9lu2"),u(e,"class","detail-header svelte-2b9lu2"),u(v,"class","detail-label svelte-2b9lu2"),u(b,"class","detail-value mono svelte-2b9lu2"),u(p,"class","detail-row svelte-2b9lu2"),u(C,"class","detail-label svelte-2b9lu2"),u(A,"class","detail-value svelte-2b9lu2"),u(h,"class","detail-row svelte-2b9lu2"),u(B,"class","detail-label svelte-2b9lu2"),u(W,"class","detail-value svelte-2b9lu2"),u(S,"class","detail-row svelte-2b9lu2"),u(Q,"class","detail-label svelte-2b9lu2"),u(K,"class","detail-value svelte-2b9lu2"),u(z,"class","detail-row svelte-2b9lu2"),u(Z,"class","detail-label svelte-2b9lu2"),u(Y,"class","detail-value mono svelte-2b9lu2"),u(X,"class","detail-row svelte-2b9lu2"),u(ke,"class","detail-label svelte-2b9lu2"),u(Le,"class","detail-value status-badge svelte-2b9lu2"),u(re,"class","detail-row svelte-2b9lu2"),u(f,"class","load-detail-card svelte-2b9lu2")},m(Ce,Ee){R(Ce,e,Ee),s(e,t),s(e,n),s(e,i),s(i,a),s(i,r),R(Ce,c,Ee),R(Ce,f,Ee),s(f,p),s(p,v),s(p,m),s(p,b),s(b,g),s(b,L),s(f,k),s(f,h),s(h,C),s(h,w),s(h,A),s(A,N),s(f,D),s(f,S),s(S,B),s(S,j),s(S,W),s(W,I),s(f,E),s(f,z),s(z,Q),s(z,U),s(z,K),s(K,F),s(f,ne),s(f,X),s(X,Z),s(X,J),s(X,Y),s(Y,te),s(Y,he),s(f,ve),s(f,re),s(re,ke),s(re,ye),s(re,Le),s(Le,me),s(f,fe),Ie&&Ie.m(f,null),s(f,we),Fe&&Fe.m(f,null),s(f,Ve),ce&&ce.m(f,null),Ae||(We=x(t,"click",l[13]),Ae=!0)},p(Ce,Ee){var nt;Ee[0]&4&&o!==(o=((nt=Ce[2])==null?void 0:nt.name)+"")&&q(a,o),Ee[0]&16&&y!==(y=Ce[4].bolNumber+"")&&q(L,y),Ee[0]&16&&M!==(M=Ce[4].cargoType+"")&&q(N,M),Ee[0]&16&&V!==(V=Ce[4].origin+"")&&q(I,V),Ee[0]&16&&ee!==(ee=Ce[4].destination+"")&&q(F,ee),Ee[0]&16&&se!==(se=(Ce[4].distance||"--")+"")&&q(te,se),Ee[0]&16&&Ue!==(Ue=(Ce[4].status||"In Transit")+"")&&q(me,Ue),Ce[4].integrity!==void 0?Ie?Ie.p(Ce,Ee):(Ie=gs(Ce),Ie.c(),Ie.m(f,we)):Ie&&(Ie.d(1),Ie=null),Ce[4].timeRemaining?Fe?Fe.p(Ce,Ee):(Fe=hs(Ce),Fe.c(),Fe.m(f,Ve)):Fe&&(Fe.d(1),Fe=null),Ce[4].estimatedPayout?ce?ce.p(Ce,Ee):(ce=ks(Ce),ce.c(),ce.m(f,null)):ce&&(ce.d(1),ce=null)},d(Ce){Ce&&(P(e),P(c),P(f)),Ie&&Ie.d(),Fe&&Fe.d(),ce&&ce.d(),Ae=!1,We()}}}function sr(l){let e,t=pe(l[10]),n=[];for(let i=0;i<t.length;i+=1)n[i]=bs(ds(l,t,i));return{c(){e=d("div");for(let i=0;i<n.length;i+=1)n[i].c();u(e,"class","board-list svelte-2b9lu2")},m(i,o){R(i,e,o);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(i,o){if(o[0]&17408){t=pe(i[10]);let a;for(a=0;a<t.length;a+=1){const r=ds(i,t,a);n[a]?n[a].p(r,o):(n[a]=bs(r),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(i){i&&P(e),rt(n,i)}}}function ir(l){let e;return{c(){e=d("div"),e.innerHTML='<p class="svelte-2b9lu2">No loads currently available on the board.</p>',u(e,"class","empty-state svelte-2b9lu2")},m(t,n){R(t,e,n)},p:le,d(t){t&&P(e)}}}function ms(l){let e,t,n=l[40].surgePercentage+"",i,o;return{c(){e=d("span"),t=T("+"),i=T(n),o=T("%"),u(e,"class","surge-badge svelte-2b9lu2")},m(a,r){R(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r[0]&1024&&n!==(n=a[40].surgePercentage+"")&&q(i,n)},d(a){a&&P(e)}}}function bs(l){let e,t,n,i,o,a=l[40].tier+"",r,c,f,p=l[40].cargoType+"",v,m,b,g,y,L=l[40].origin+"",k,h,C,w,A,M=l[40].destination+"",N,D,S,B,j=l[40].distance+"",W,V,I,E,z=al(l[40].estimatedPayout)+"",Q,U,K,ee,F,ne,X=l[40].surgeActive&&ms(l);function Z(){return l[27](l[40])}return{c(){e=d("div"),t=d("div"),n=d("div"),i=d("span"),o=T("T"),r=T(a),c=_(),f=d("span"),v=T(p),m=_(),X&&X.c(),b=_(),g=d("div"),y=d("span"),k=T(L),h=_(),C=d("span"),C.textContent="→",w=_(),A=d("span"),N=T(M),D=_(),S=d("div"),B=d("span"),W=T(j),V=T(" mi"),I=_(),E=d("span"),Q=T(z),U=_(),K=d("button"),K.textContent="Assign to...",ee=_(),u(i,"class","board-tier svelte-2b9lu2"),u(f,"class","board-cargo svelte-2b9lu2"),u(n,"class","board-load-top svelte-2b9lu2"),u(y,"class","board-origin svelte-2b9lu2"),u(C,"class","board-arrow svelte-2b9lu2"),u(A,"class","board-dest svelte-2b9lu2"),u(g,"class","board-load-route svelte-2b9lu2"),u(B,"class","board-distance mono svelte-2b9lu2"),u(E,"class","board-payout mono svelte-2b9lu2"),u(S,"class","board-load-meta svelte-2b9lu2"),u(t,"class","board-load-info svelte-2b9lu2"),u(K,"class","btn-assign svelte-2b9lu2"),u(e,"class","board-load-card svelte-2b9lu2")},m(J,Y){R(J,e,Y),s(e,t),s(t,n),s(n,i),s(i,o),s(i,r),s(n,c),s(n,f),s(f,v),s(n,m),X&&X.m(n,null),s(t,b),s(t,g),s(g,y),s(y,k),s(g,h),s(g,C),s(g,w),s(g,A),s(A,N),s(t,D),s(t,S),s(S,B),s(B,W),s(B,V),s(S,I),s(S,E),s(E,Q),s(e,U),s(e,K),s(e,ee),F||(ne=x(K,"click",Z),F=!0)},p(J,Y){l=J,Y[0]&1024&&a!==(a=l[40].tier+"")&&q(r,a),Y[0]&1024&&p!==(p=l[40].cargoType+"")&&q(v,p),l[40].surgeActive?X?X.p(l,Y):(X=ms(l),X.c(),X.m(n,null)):X&&(X.d(1),X=null),Y[0]&1024&&L!==(L=l[40].origin+"")&&q(k,L),Y[0]&1024&&M!==(M=l[40].destination+"")&&q(N,M),Y[0]&1024&&j!==(j=l[40].distance+"")&&q(W,j),Y[0]&1024&&z!==(z=al(l[40].estimatedPayout)+"")&&q(Q,z)},d(J){J&&P(e),X&&X.d(),F=!1,ne()}}}function gs(l){let e,t,n,i,o=l[4].integrity+"",a,r;return{c(){e=d("div"),t=d("span"),t.textContent="Integrity",n=_(),i=d("span"),a=T(o),r=T("%"),u(t,"class","detail-label svelte-2b9lu2"),u(i,"class","detail-value mono svelte-2b9lu2"),oe(i,"integrity-low",l[4].integrity<50),u(e,"class","detail-row svelte-2b9lu2")},m(c,f){R(c,e,f),s(e,t),s(e,n),s(e,i),s(i,a),s(i,r)},p(c,f){f[0]&16&&o!==(o=c[4].integrity+"")&&q(a,o),f[0]&16&&oe(i,"integrity-low",c[4].integrity<50)},d(c){c&&P(e)}}}function hs(l){let e,t,n,i,o=l[4].timeRemaining+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Time Remaining",n=_(),i=d("span"),a=T(o),u(t,"class","detail-label svelte-2b9lu2"),u(i,"class","detail-value mono svelte-2b9lu2"),u(e,"class","detail-row svelte-2b9lu2")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c[0]&16&&o!==(o=r[4].timeRemaining+"")&&q(a,o)},d(r){r&&P(e)}}}function ks(l){let e,t,n,i,o=al(l[4].estimatedPayout)+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Est. Payout",n=_(),i=d("span"),a=T(o),u(t,"class","detail-label svelte-2b9lu2"),u(i,"class","detail-value mono payout svelte-2b9lu2"),u(e,"class","detail-row svelte-2b9lu2")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c[0]&16&&o!==(o=al(r[4].estimatedPayout)+"")&&q(a,o)},d(r){r&&P(e)}}}function ys(l){let e,t,n,i,o,a,r,c;function f(m,b){return m[11].length===0?rr:ar}let p=f(l),v=p(l);return{c(){e=d("div"),t=d("div"),n=d("h3"),n.textContent="ASSIGN TO DRIVER",i=_(),v.c(),o=_(),a=d("button"),a.textContent="Cancel",u(n,"class","assign-title svelte-2b9lu2"),u(a,"class","btn-assign-cancel svelte-2b9lu2"),u(t,"class","assign-dropdown svelte-2b9lu2"),u(e,"class","assign-overlay svelte-2b9lu2")},m(m,b){R(m,e,b),s(e,t),s(t,n),s(t,i),v.m(t,null),s(t,o),s(t,a),r||(c=[x(a,"click",l[15]),x(t,"click",Dt(l[25])),x(e,"click",l[15])],r=!0)},p(m,b){p===(p=f(m))&&v?v.p(m,b):(v.d(1),v=p(m),v&&(v.c(),v.m(t,o)))},d(m){m&&P(e),v.d(),r=!1,at(c)}}}function ar(l){let e,t=pe(l[11]),n=[];for(let i=0;i<t.length;i+=1)n[i]=ws(fs(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Ct()},m(i,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,o);R(i,e,o)},p(i,o){if(o[0]&67584){t=pe(i[11]);let a;for(a=0;a<t.length;a+=1){const r=fs(i,t,a);n[a]?n[a].p(r,o):(n[a]=ws(r),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(i){i&&P(e),rt(n,i)}}}function rr(l){let e;return{c(){e=d("p"),e.textContent="No available drivers online.",u(e,"class","assign-empty svelte-2b9lu2")},m(t,n){R(t,e,n)},p:le,d(t){t&&P(e)}}}function ws(l){let e,t,n=l[37].name+"",i,o,a,r=il(l[37].status)+"",c,f,p,v;function m(){return l[28](l[37])}return{c(){e=d("button"),t=d("span"),i=T(n),o=_(),a=d("span"),c=T(r),f=_(),u(t,"class","assign-driver-name svelte-2b9lu2"),u(a,"class","assign-driver-status svelte-2b9lu2"),u(e,"class","assign-driver-btn svelte-2b9lu2")},m(b,g){R(b,e,g),s(e,t),s(t,i),s(e,o),s(e,a),s(a,c),s(e,f),p||(v=x(e,"click",m),p=!0)},p(b,g){l=b,g[0]&2048&&n!==(n=l[37].name+"")&&q(i,n),g[0]&2048&&r!==(r=il(l[37].status)+"")&&q(c,r)},d(b){b&&P(e),p=!1,v()}}}function Cs(l){let e,t,n,i=pe(l[6]),o=[];for(let a=0;a<i.length;a+=1)o[a]=Ls(cs(l,i,a));return{c(){e=d("div"),t=d("h3"),t.textContent="PENDING TRANSFERS",n=_();for(let a=0;a<o.length;a+=1)o[a].c();u(t,"class","transfers-title svelte-2b9lu2"),u(e,"class","transfers-section svelte-2b9lu2")},m(a,r){R(a,e,r),s(e,t),s(e,n);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null)},p(a,r){if(r[0]&393280){i=pe(a[6]);let c;for(c=0;c<i.length;c+=1){const f=cs(a,i,c);o[c]?o[c].p(f,r):(o[c]=Ls(f),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(a){a&&P(e),rt(o,a)}}}function Ls(l){let e,t,n,i,o=l[34].bolNumber+"",a,r,c,f=l[34].fromName+"",p,v,m=l[34].toName+"",b,g,y,L,k,h,C,w,A;function M(){return l[29](l[34])}function N(){return l[30](l[34])}return{c(){e=d("div"),t=d("div"),n=d("span"),i=T("BOL #"),a=T(o),r=_(),c=d("span"),p=T(f),v=T(" → "),b=T(m),g=_(),y=d("div"),L=d("button"),L.textContent="Approve",k=_(),h=d("button"),h.textContent="Deny",C=_(),u(n,"class","transfer-bol mono svelte-2b9lu2"),u(c,"class","transfer-route svelte-2b9lu2"),u(t,"class","transfer-info svelte-2b9lu2"),u(L,"class","btn-approve svelte-2b9lu2"),u(h,"class","btn-deny svelte-2b9lu2"),u(y,"class","transfer-actions svelte-2b9lu2"),u(e,"class","transfer-card svelte-2b9lu2")},m(D,S){R(D,e,S),s(e,t),s(t,n),s(n,i),s(n,a),s(t,r),s(t,c),s(c,p),s(c,v),s(c,b),s(e,g),s(e,y),s(y,L),s(y,k),s(y,h),s(e,C),w||(A=[x(L,"click",M),x(h,"click",N)],w=!0)},p(D,S){l=D,S[0]&64&&o!==(o=l[34].bolNumber+"")&&q(a,o),S[0]&64&&f!==(f=l[34].fromName+"")&&q(p,f),S[0]&64&&m!==(m=l[34].toName+"")&&q(b,m)},d(D){D&&P(e),w=!1,at(A)}}}function or(l){let e,t,n,i,o,a,r=l[0].length+"",c,f,p,v,m,b,g,y,L,k,h,C,w,A,M,N,D=pe(l[1]),S=[];for(let E=0;E<D.length;E+=1)S[E]=_s(ps(l,D,E));function B(E,z){return E[3]==="detail"&&E[4]?nr:lr}let j=B(l),W=j(l),V=l[5]&&ys(l),I=l[6].length>0&&Cs(l);return w=new tr({props:{visible:l[7],title:l[8],message:l[9]}}),w.$on("confirm",l[20]),w.$on("cancel",l[21]),{c(){e=d("div"),t=d("div"),n=d("div"),i=d("h2"),i.textContent="DRIVERS",o=_(),a=d("span"),c=T(r),f=T(" online"),p=_(),v=d("div");for(let E=0;E<S.length;E+=1)S[E].c();m=_(),b=d("div"),g=d("button"),g.innerHTML=`<svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4z"></path></svg>
        Create Convoy`,y=_(),L=d("div"),W.c(),k=_(),V&&V.c(),h=_(),I&&I.c(),C=_(),Be(w.$$.fragment),u(i,"class","panel-title svelte-2b9lu2"),u(a,"class","driver-count svelte-2b9lu2"),u(n,"class","panel-header svelte-2b9lu2"),u(v,"class","driver-list svelte-2b9lu2"),u(g,"class","btn-convoy svelte-2b9lu2"),u(b,"class","panel-footer svelte-2b9lu2"),u(t,"class","panel-left svelte-2b9lu2"),u(L,"class","panel-right svelte-2b9lu2"),u(e,"class","dispatcher-screen svelte-2b9lu2")},m(E,z){R(E,e,z),s(e,t),s(t,n),s(n,i),s(n,o),s(n,a),s(a,c),s(a,f),s(t,p),s(t,v);for(let Q=0;Q<S.length;Q+=1)S[Q]&&S[Q].m(v,null);s(t,m),s(t,b),s(b,g),s(e,y),s(e,L),W.m(L,null),s(L,k),V&&V.m(L,null),s(L,h),I&&I.m(L,null),R(E,C,z),qe(w,E,z),A=!0,M||(N=x(g,"click",l[19]),M=!0)},p(E,z){if((!A||z[0]&1)&&r!==(r=E[0].length+"")&&q(c,r),z[0]&4102){D=pe(E[1]);let U;for(U=0;U<D.length;U+=1){const K=ps(E,D,U);S[U]?S[U].p(K,z):(S[U]=_s(K),S[U].c(),S[U].m(v,null))}for(;U<S.length;U+=1)S[U].d(1);S.length=D.length}j===(j=B(E))&&W?W.p(E,z):(W.d(1),W=j(E),W&&(W.c(),W.m(L,k))),E[5]?V?V.p(E,z):(V=ys(E),V.c(),V.m(L,h)):V&&(V.d(1),V=null),E[6].length>0?I?I.p(E,z):(I=Cs(E),I.c(),I.m(L,null)):I&&(I.d(1),I=null);const Q={};z[0]&128&&(Q.visible=E[7]),z[0]&256&&(Q.title=E[8]),z[0]&512&&(Q.message=E[9]),w.$set(Q)},i(E){A||($(w.$$.fragment,E),A=!0)},o(E){H(w.$$.fragment,E),A=!1},d(E){E&&(P(e),P(C)),rt(S,E),W.d(),V&&V.d(),I&&I.d(),Pe(w,E),M=!1,N()}}}function Ts(l){return l==="online"?"dot-online":l==="on_delivery"?"dot-delivery":"dot-offline"}function il(l){return l==="online"?"Available":l==="on_delivery"?"On Delivery":"Offline"}function al(l){return"$"+(l||0).toLocaleString("en-US")}function ur(l,e,t){let n,i,o,a,r,c,f;ht(l,Rt,F=>t(23,c=F)),ht(l,Nt,F=>t(24,f=F));let p=null,v="board",m=null,b=!1,g=null,y=[],L=!1,k="",h="",C=null;function w(F){t(2,p=F),F.activeLoad?(t(4,m=F.activeLoad),t(3,v="detail")):(t(4,m=null),t(3,v="board"))}function A(){t(4,m=null),t(3,v="board")}function M(F){g=F,t(5,b=!0)}function N(){t(5,b=!1),g=null}function D(F){g&&(t(8,k="Assign Load"),t(9,h=`Assign "${g.cargoType}" to ${F.name}?`),C=async()=>{await Ke("assignLoadToDriver",{loadId:g.id,citizenid:F.citizenid}),N()},t(7,L=!0))}function S(F){t(8,k="Approve Transfer"),t(9,h=`Approve transfer of BOL #${F.bolNumber} from ${F.fromName} to ${F.toName}?`),C=()=>Ke("approveTransfer",{transferId:F.id}),t(7,L=!0)}function B(F){t(8,k="Deny Transfer"),t(9,h=`Deny transfer of BOL #${F.bolNumber}?`),C=()=>Ke("denyTransfer",{transferId:F.id}),t(7,L=!0)}async function j(){await Ke("createConvoy",{type:"company"})}function W(){t(7,L=!1),C&&C(),C=null}function V(){t(7,L=!1),C=null}let I;rl(()=>{I=bi((F,ne)=>{F==="updateCompany"&&Nt.set({company:ne.company||null,members:ne.members||[],activeClaims:ne.activeClaims||[]}),F==="updateBoard"&&Rt.set(ne),F==="updateTransfers"&&t(6,y=ne.transfers||[])}),Ke("getCompanyData"),Ke("getBoard"),Ke("getPendingTransfers")}),kl(()=>{I&&I()});function E(F){It.call(this,l,F)}const z=F=>w(F),Q=F=>M(F),U=F=>D(F),K=F=>S(F),ee=F=>B(F);return l.$$.update=()=>{l.$$.dirty[0]&16777216&&t(22,n=f.members||[]),l.$$.dirty[0]&4194304&&t(1,i=n.filter(F=>F.role==="driver"||F.role==="owner")),l.$$.dirty[0]&2&&t(0,o=i.filter(F=>F.status!=="offline")),l.$$.dirty[0]&1&&t(11,a=o.filter(F=>!F.activeLoad)),l.$$.dirty[0]&8388608&&t(10,r=[...c.standard||[],...c.supplier||[]])},[o,i,p,v,m,b,y,L,k,h,r,a,w,A,M,N,D,S,B,j,W,V,n,c,f,E,z,Q,U,K,ee]}class cr extends mt{constructor(e){super(),_t(this,e,ur,or,dt,{},null,[-1,-1])}}function Ss(l,e,t){const n=l.slice();return n[71]=e[t],n[72]=e,n[73]=t,n}function Ds(l,e,t){const n=l.slice();return n[74]=e[t],n}function As(l,e,t){const n=l.slice();return n[77]=e[t],n}function Ns(l,e,t){const n=l.slice();return n[80]=e[t],n}function Ms(l,e,t){const n=l.slice();return n[77]=e[t],n}function qs(l,e,t){const n=l.slice();return n[85]=e[t],n}function Ps(l,e,t){const n=l.slice();return n[88]=e[t],n}function Rs(l,e,t){const n=l.slice();return n[91]=e[t],n}function Bs(l,e,t){const n=l.slice();return n[94]=e[t],n}function Es(l){let e;function t(o,a){return o[22]?dr:fr}let n=t(l),i=n(l);return{c(){e=d("div"),i.c(),u(e,"class","tab-content svelte-y1van9")},m(o,a){R(o,e,a),i.m(e,null)},p(o,a){n===(n=t(o))&&i?i.p(o,a):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&P(e),i.d()}}}function fr(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-y1van9">Loading dashboard statistics...</span>',u(e,"class","empty-state svelte-y1van9")},m(t,n){R(t,e,n)},p:le,d(t){t&&P(e)}}}function dr(l){let e,t,n,i,o,a=(l[22].activeLoads??0)+"",r,c,f,p,v,m,b=(l[22].completedToday??0)+"",g,y,L,k,h,C,w=Et(l[22].payoutsToday)+"",A,M,N,D,S,B,j=(l[22].pendingClaims??0)+"",W,V,I,E,z,Q,U=(l[22].activeSurges??0)+"",K,ee,F,ne,X,Z,J=(l[22].serverMultiplier??1).toFixed(1)+"",Y,se;return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="Active Loads",i=_(),o=d("span"),r=T(a),c=_(),f=d("div"),p=d("span"),p.textContent="Completed Today",v=_(),m=d("span"),g=T(b),y=_(),L=d("div"),k=d("span"),k.textContent="Payouts Today",h=_(),C=d("span"),A=T(w),M=_(),N=d("div"),D=d("span"),D.textContent="Pending Claims",S=_(),B=d("span"),W=T(j),V=_(),I=d("div"),E=d("span"),E.textContent="Active Surges",z=_(),Q=d("span"),K=T(U),ee=_(),F=d("div"),ne=d("span"),ne.textContent="Server Multiplier",X=_(),Z=d("span"),Y=T(J),se=T("x"),u(n,"class","stat-card-label svelte-y1van9"),u(o,"class","stat-card-value mono svelte-y1van9"),u(t,"class","stat-card svelte-y1van9"),u(p,"class","stat-card-label svelte-y1van9"),u(m,"class","stat-card-value mono svelte-y1van9"),u(f,"class","stat-card svelte-y1van9"),u(k,"class","stat-card-label svelte-y1van9"),u(C,"class","stat-card-value mono svelte-y1van9"),u(L,"class","stat-card svelte-y1van9"),u(D,"class","stat-card-label svelte-y1van9"),u(B,"class","stat-card-value mono svelte-y1van9"),u(N,"class","stat-card svelte-y1van9"),u(E,"class","stat-card-label svelte-y1van9"),u(Q,"class","stat-card-value mono svelte-y1van9"),u(I,"class","stat-card svelte-y1van9"),u(ne,"class","stat-card-label svelte-y1van9"),u(Z,"class","stat-card-value mono text-orange svelte-y1van9"),u(F,"class","stat-card svelte-y1van9"),u(e,"class","stat-grid svelte-y1van9")},m(te,he){R(te,e,he),s(e,t),s(t,n),s(t,i),s(t,o),s(o,r),s(e,c),s(e,f),s(f,p),s(f,v),s(f,m),s(m,g),s(e,y),s(e,L),s(L,k),s(L,h),s(L,C),s(C,A),s(e,M),s(e,N),s(N,D),s(N,S),s(N,B),s(B,W),s(e,V),s(e,I),s(I,E),s(I,z),s(I,Q),s(Q,K),s(e,ee),s(e,F),s(F,ne),s(F,X),s(F,Z),s(Z,Y),s(Z,se)},p(te,he){he[0]&4194304&&a!==(a=(te[22].activeLoads??0)+"")&&q(r,a),he[0]&4194304&&b!==(b=(te[22].completedToday??0)+"")&&q(g,b),he[0]&4194304&&w!==(w=Et(te[22].payoutsToday)+"")&&q(A,w),he[0]&4194304&&j!==(j=(te[22].pendingClaims??0)+"")&&q(W,j),he[0]&4194304&&U!==(U=(te[22].activeSurges??0)+"")&&q(K,U),he[0]&4194304&&J!==(J=(te[22].serverMultiplier??1).toFixed(1)+"")&&q(Y,J)},d(te){te&&P(e)}}}function $s(l){let e,t,n,i,o,a=l[5]?"Searching...":"Search",r,c,f,p,v,m,b,g;const y=[vr,pr],L=[];function k(h,C){return h[20]?0:1}return p=k(l),v=L[p]=y[p](l),{c(){e=d("div"),t=d("div"),n=d("input"),i=_(),o=d("button"),r=T(a),f=_(),v.c(),u(n,"type","text"),u(n,"class","input-field svelte-y1van9"),u(n,"placeholder","Search by Citizen ID or name..."),u(o,"class","btn btn-primary btn-sm"),o.disabled=c=l[5]||!l[4].trim(),u(t,"class","search-bar svelte-y1van9"),u(e,"class","tab-content svelte-y1van9")},m(h,C){R(h,e,C),s(e,t),s(t,n),et(n,l[4]),s(t,i),s(t,o),s(o,r),s(e,f),L[p].m(e,null),m=!0,b||(g=[x(n,"input",l[47]),x(n,"keydown",l[30]),x(o,"click",l[29])],b=!0)},p(h,C){C[0]&16&&n.value!==h[4]&&et(n,h[4]),(!m||C[0]&32)&&a!==(a=h[5]?"Searching...":"Search")&&q(r,a),(!m||C[0]&48&&c!==(c=h[5]||!h[4].trim()))&&(o.disabled=c);let w=p;p=k(h),p===w?L[p].p(h,C):(Se(),H(L[w],1,1,()=>{L[w]=null}),De(),v=L[p],v?v.p(h,C):(v=L[p]=y[p](h),v.c()),$(v,1),v.m(e,null))},i(h){m||($(v),m=!0)},o(h){H(v),m=!1},d(h){h&&P(e),L[p].d(),b=!1,at(g)}}}function pr(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-y1van9">Search for a player by Citizen ID or name to view their profile.</span>',u(e,"class","empty-state svelte-y1van9")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function vr(l){var Qe,ae,He;let e,t,n,i=(l[20].name||"Unknown")+"",o,a,r,c,f,p,v,m,b,g,y=l[20].citizenid+"",L,k,h,C,w,A,M=(l[20].reputationScore??"--")+"",N,D,S,B,j,W,V=(l[20].reputationTier||"--")+"",I,E,z,Q,U,K,ee=(l[20].totalLoadsCompleted??0)+"",F,ne,X,Z,J,Y,se=Et(l[20].totalEarnings)+"",te,he,ve,re,ke,ye,Le,Ue,me,fe,we,Ve,Ae,We,Ie,Fe,ce,ge,Ce,Ee;const nt=[mr,_r],Ge=[];function st(G,Re){return G[20].suspendedUntil?0:1}r=st(l),c=Ge[r]=nt[r](l);let Oe=l[20].suspendedUntil&&zs(l),Me=((Qe=l[20].licenses)==null?void 0:Qe.length)>0&&js(l),Te=((ae=l[20].certifications)==null?void 0:ae.length)>0&&Is(l),$e=l[20].activeLoad&&Os(l),ue=((He=l[20].bolHistory)==null?void 0:He.length)>0&&Hs(l);function O(G,Re){return G[20].suspendedUntil?gr:br}let _e=O(l),je=_e(l);return{c(){e=d("div"),t=d("div"),n=d("h3"),o=T(i),a=_(),c.c(),f=_(),p=d("div"),v=d("div"),m=d("span"),m.textContent="Citizen ID",b=_(),g=d("span"),L=T(y),k=_(),h=d("div"),C=d("span"),C.textContent="Reputation",w=_(),A=d("span"),N=T(M),D=_(),S=d("div"),B=d("span"),B.textContent="Reputation Tier",j=_(),W=d("span"),I=T(V),E=_(),z=d("div"),Q=d("span"),Q.textContent="Total Deliveries",U=_(),K=d("span"),F=T(ee),ne=_(),X=d("div"),Z=d("span"),Z.textContent="Total Earnings",J=_(),Y=d("span"),te=T(se),he=_(),Oe&&Oe.c(),ve=_(),Me&&Me.c(),re=_(),Te&&Te.c(),ke=_(),$e&&$e.c(),ye=_(),ue&&ue.c(),Le=_(),Ue=d("div"),me=_(),fe=d("div"),we=d("div"),Ve=d("input"),Ae=_(),We=d("button"),Ie=T("Set Rep"),ce=_(),je.c(),u(n,"class","card-title"),u(t,"class","card-header"),u(m,"class","detail-label svelte-y1van9"),u(g,"class","detail-value mono svelte-y1van9"),u(v,"class","detail-row svelte-y1van9"),u(C,"class","detail-label svelte-y1van9"),u(A,"class","detail-value mono svelte-y1van9"),u(h,"class","detail-row svelte-y1van9"),u(B,"class","detail-label svelte-y1van9"),u(W,"class","detail-value svelte-y1van9"),u(S,"class","detail-row svelte-y1van9"),u(Q,"class","detail-label svelte-y1van9"),u(K,"class","detail-value mono svelte-y1van9"),u(z,"class","detail-row svelte-y1van9"),u(Z,"class","detail-label svelte-y1van9"),u(Y,"class","detail-value mono svelte-y1van9"),u(X,"class","detail-row svelte-y1van9"),u(Ue,"class","divider"),u(Ve,"type","number"),u(Ve,"class","input-field input-sm svelte-y1van9"),u(Ve,"placeholder","New rep score (0-1000)"),u(Ve,"min","0"),u(Ve,"max","1000"),u(We,"class","btn btn-primary btn-sm"),We.disabled=Fe=!l[6],u(we,"class","action-row svelte-y1van9"),u(fe,"class","player-actions svelte-y1van9"),u(p,"class","card-body svelte-y1van9"),u(e,"class","card player-profile-card svelte-y1van9")},m(G,Re){R(G,e,Re),s(e,t),s(t,n),s(n,o),s(t,a),Ge[r].m(t,null),s(e,f),s(e,p),s(p,v),s(v,m),s(v,b),s(v,g),s(g,L),s(p,k),s(p,h),s(h,C),s(h,w),s(h,A),s(A,N),s(p,D),s(p,S),s(S,B),s(S,j),s(S,W),s(W,I),s(p,E),s(p,z),s(z,Q),s(z,U),s(z,K),s(K,F),s(p,ne),s(p,X),s(X,Z),s(X,J),s(X,Y),s(Y,te),s(p,he),Oe&&Oe.m(p,null),s(p,ve),Me&&Me.m(p,null),s(p,re),Te&&Te.m(p,null),s(p,ke),$e&&$e.m(p,null),s(p,ye),ue&&ue.m(p,null),s(p,Le),s(p,Ue),s(p,me),s(p,fe),s(fe,we),s(we,Ve),et(Ve,l[6]),s(we,Ae),s(we,We),s(We,Ie),s(fe,ce),je.m(fe,null),ge=!0,Ce||(Ee=[x(Ve,"input",l[48]),x(We,"click",l[31])],Ce=!0)},p(G,Re){var kt,Lt,gt;(!ge||Re[0]&1048576)&&i!==(i=(G[20].name||"Unknown")+"")&&q(o,i);let ze=r;r=st(G),r!==ze&&(Se(),H(Ge[ze],1,1,()=>{Ge[ze]=null}),De(),c=Ge[r],c||(c=Ge[r]=nt[r](G),c.c()),$(c,1),c.m(t,null)),(!ge||Re[0]&1048576)&&y!==(y=G[20].citizenid+"")&&q(L,y),(!ge||Re[0]&1048576)&&M!==(M=(G[20].reputationScore??"--")+"")&&q(N,M),(!ge||Re[0]&1048576)&&V!==(V=(G[20].reputationTier||"--")+"")&&q(I,V),(!ge||Re[0]&1048576)&&ee!==(ee=(G[20].totalLoadsCompleted??0)+"")&&q(F,ee),(!ge||Re[0]&1048576)&&se!==(se=Et(G[20].totalEarnings)+"")&&q(te,se),G[20].suspendedUntil?Oe?Oe.p(G,Re):(Oe=zs(G),Oe.c(),Oe.m(p,ve)):Oe&&(Oe.d(1),Oe=null),((kt=G[20].licenses)==null?void 0:kt.length)>0?Me?(Me.p(G,Re),Re[0]&1048576&&$(Me,1)):(Me=js(G),Me.c(),$(Me,1),Me.m(p,re)):Me&&(Se(),H(Me,1,1,()=>{Me=null}),De()),((Lt=G[20].certifications)==null?void 0:Lt.length)>0?Te?(Te.p(G,Re),Re[0]&1048576&&$(Te,1)):(Te=Is(G),Te.c(),$(Te,1),Te.m(p,ke)):Te&&(Se(),H(Te,1,1,()=>{Te=null}),De()),G[20].activeLoad?$e?($e.p(G,Re),Re[0]&1048576&&$($e,1)):($e=Os(G),$e.c(),$($e,1),$e.m(p,ye)):$e&&(Se(),H($e,1,1,()=>{$e=null}),De()),((gt=G[20].bolHistory)==null?void 0:gt.length)>0?ue?(ue.p(G,Re),Re[0]&1048576&&$(ue,1)):(ue=Hs(G),ue.c(),$(ue,1),ue.m(p,Le)):ue&&(Se(),H(ue,1,1,()=>{ue=null}),De()),Re[0]&64&&Mt(Ve.value)!==G[6]&&et(Ve,G[6]),(!ge||Re[0]&64&&Fe!==(Fe=!G[6]))&&(We.disabled=Fe),_e===(_e=O(G))&&je?je.p(G,Re):(je.d(1),je=_e(G),je&&(je.c(),je.m(fe,null)))},i(G){ge||($(c),$(Me),$(Te),$($e),$(ue),ge=!0)},o(G){H(c),H(Me),H(Te),H($e),H(ue),ge=!1},d(G){G&&P(e),Ge[r].d(),Oe&&Oe.d(),Me&&Me.d(),Te&&Te.d(),$e&&$e.d(),ue&&ue.d(),je.d(),Ce=!1,at(Ee)}}}function _r(l){let e,t;return e=new ft({props:{status:"active"}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function mr(l){let e,t;return e=new ft({props:{status:"suspended"}}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function zs(l){let e,t,n,i,o=new Date(l[20].suspendedUntil*1e3).toLocaleString()+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Suspended Until",n=_(),i=d("span"),a=T(o),u(t,"class","detail-label svelte-y1van9"),u(i,"class","detail-value mono text-orange svelte-y1van9"),u(e,"class","detail-row svelte-y1van9")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c[0]&1048576&&o!==(o=new Date(r[20].suspendedUntil*1e3).toLocaleString()+"")&&q(a,o)},d(r){r&&P(e)}}}function js(l){let e,t,n,i,o,a=pe(l[20].licenses),r=[];for(let f=0;f<a.length;f+=1)r[f]=Fs(Bs(l,a,f));const c=f=>H(r[f],1,1,()=>{r[f]=null});return{c(){e=d("div"),t=d("span"),t.textContent="Licenses",n=_(),i=d("div");for(let f=0;f<r.length;f+=1)r[f].c();u(t,"class","section-label svelte-y1van9"),u(i,"class","tag-list svelte-y1van9"),u(e,"class","profile-section svelte-y1van9")},m(f,p){R(f,e,p),s(e,t),s(e,n),s(e,i);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(i,null);o=!0},p(f,p){if(p[0]&1048576){a=pe(f[20].licenses);let v;for(v=0;v<a.length;v+=1){const m=Bs(f,a,v);r[v]?(r[v].p(m,p),$(r[v],1)):(r[v]=Fs(m),r[v].c(),$(r[v],1),r[v].m(i,null))}for(Se(),v=a.length;v<r.length;v+=1)c(v);De()}},i(f){if(!o){for(let p=0;p<a.length;p+=1)$(r[p]);o=!0}},o(f){r=r.filter(Boolean);for(let p=0;p<r.length;p+=1)H(r[p]);o=!1},d(f){f&&P(e),rt(r,f)}}}function Fs(l){var f;let e,t,n=((f=l[94].type)==null?void 0:f.replace("_"," ").toUpperCase())+"",i,o,a,r,c;return a=new ft({props:{status:l[94].status||"active"}}),{c(){e=d("div"),t=d("span"),i=T(n),o=_(),Be(a.$$.fragment),r=_(),u(t,"class","tag-text svelte-y1van9"),u(e,"class","tag-item svelte-y1van9")},m(p,v){R(p,e,v),s(e,t),s(t,i),s(e,o),qe(a,e,null),s(e,r),c=!0},p(p,v){var b;(!c||v[0]&1048576)&&n!==(n=((b=p[94].type)==null?void 0:b.replace("_"," ").toUpperCase())+"")&&q(i,n);const m={};v[0]&1048576&&(m.status=p[94].status||"active"),a.$set(m)},i(p){c||($(a.$$.fragment,p),c=!0)},o(p){H(a.$$.fragment,p),c=!1},d(p){p&&P(e),Pe(a)}}}function Is(l){let e,t,n,i,o,a=pe(l[20].certifications),r=[];for(let f=0;f<a.length;f+=1)r[f]=Us(Rs(l,a,f));const c=f=>H(r[f],1,1,()=>{r[f]=null});return{c(){e=d("div"),t=d("span"),t.textContent="Certifications",n=_(),i=d("div");for(let f=0;f<r.length;f+=1)r[f].c();u(t,"class","section-label svelte-y1van9"),u(i,"class","tag-list svelte-y1van9"),u(e,"class","profile-section svelte-y1van9")},m(f,p){R(f,e,p),s(e,t),s(e,n),s(e,i);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(i,null);o=!0},p(f,p){if(p[0]&1048576){a=pe(f[20].certifications);let v;for(v=0;v<a.length;v+=1){const m=Rs(f,a,v);r[v]?(r[v].p(m,p),$(r[v],1)):(r[v]=Us(m),r[v].c(),$(r[v],1),r[v].m(i,null))}for(Se(),v=a.length;v<r.length;v+=1)c(v);De()}},i(f){if(!o){for(let p=0;p<a.length;p+=1)$(r[p]);o=!0}},o(f){r=r.filter(Boolean);for(let p=0;p<r.length;p+=1)H(r[p]);o=!1},d(f){f&&P(e),rt(r,f)}}}function Us(l){var f;let e,t,n=((f=l[91].type)==null?void 0:f.replace("_"," ").toUpperCase())+"",i,o,a,r,c;return a=new ft({props:{status:l[91].status||"active"}}),{c(){e=d("div"),t=d("span"),i=T(n),o=_(),Be(a.$$.fragment),r=_(),u(t,"class","tag-text svelte-y1van9"),u(e,"class","tag-item svelte-y1van9")},m(p,v){R(p,e,v),s(e,t),s(t,i),s(e,o),qe(a,e,null),s(e,r),c=!0},p(p,v){var b;(!c||v[0]&1048576)&&n!==(n=((b=p[91].type)==null?void 0:b.replace("_"," ").toUpperCase())+"")&&q(i,n);const m={};v[0]&1048576&&(m.status=p[91].status||"active"),a.$set(m)},i(p){c||($(a.$$.fragment,p),c=!0)},o(p){H(a.$$.fragment,p),c=!1},d(p){p&&P(e),Pe(a)}}}function Os(l){let e,t,n,i,o,a,r,c=(l[20].activeLoad.bolNumber||"--")+"",f,p,v,m,b,g,y=(l[20].activeLoad.cargoType||"--")+"",L,k,h,C,w,A,M;return A=new ft({props:{status:l[20].activeLoad.status||"in_transit"}}),{c(){e=d("div"),t=d("span"),t.textContent="Active Load",n=_(),i=d("div"),o=d("span"),o.textContent="BOL #",a=_(),r=d("span"),f=T(c),p=_(),v=d("div"),m=d("span"),m.textContent="Cargo",b=_(),g=d("span"),L=T(y),k=_(),h=d("div"),C=d("span"),C.textContent="Status",w=_(),Be(A.$$.fragment),u(t,"class","section-label svelte-y1van9"),u(o,"class","detail-label svelte-y1van9"),u(r,"class","detail-value mono svelte-y1van9"),u(i,"class","detail-row svelte-y1van9"),u(m,"class","detail-label svelte-y1van9"),u(g,"class","detail-value svelte-y1van9"),u(v,"class","detail-row svelte-y1van9"),u(C,"class","detail-label svelte-y1van9"),u(h,"class","detail-row svelte-y1van9"),u(e,"class","profile-section svelte-y1van9")},m(N,D){R(N,e,D),s(e,t),s(e,n),s(e,i),s(i,o),s(i,a),s(i,r),s(r,f),s(e,p),s(e,v),s(v,m),s(v,b),s(v,g),s(g,L),s(e,k),s(e,h),s(h,C),s(h,w),qe(A,h,null),M=!0},p(N,D){(!M||D[0]&1048576)&&c!==(c=(N[20].activeLoad.bolNumber||"--")+"")&&q(f,c),(!M||D[0]&1048576)&&y!==(y=(N[20].activeLoad.cargoType||"--")+"")&&q(L,y);const S={};D[0]&1048576&&(S.status=N[20].activeLoad.status||"in_transit"),A.$set(S)},i(N){M||($(A.$$.fragment,N),M=!0)},o(N){H(A.$$.fragment,N),M=!1},d(N){N&&P(e),Pe(A)}}}function Hs(l){let e,t,n,i,o,a=pe(l[20].bolHistory.slice(0,10)),r=[];for(let f=0;f<a.length;f+=1)r[f]=Vs(Ps(l,a,f));const c=f=>H(r[f],1,1,()=>{r[f]=null});return{c(){e=d("div"),t=d("span"),t.textContent="Recent BOL History",n=_(),i=d("div");for(let f=0;f<r.length;f+=1)r[f].c();u(t,"class","section-label svelte-y1van9"),u(i,"class","bol-history-list svelte-y1van9"),u(e,"class","profile-section svelte-y1van9")},m(f,p){R(f,e,p),s(e,t),s(e,n),s(e,i);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(i,null);o=!0},p(f,p){if(p[0]&1048576){a=pe(f[20].bolHistory.slice(0,10));let v;for(v=0;v<a.length;v+=1){const m=Ps(f,a,v);r[v]?(r[v].p(m,p),$(r[v],1)):(r[v]=Vs(m),r[v].c(),$(r[v],1),r[v].m(i,null))}for(Se(),v=a.length;v<r.length;v+=1)c(v);De()}},i(f){if(!o){for(let p=0;p<a.length;p+=1)$(r[p]);o=!0}},o(f){r=r.filter(Boolean);for(let p=0;p<r.length;p+=1)H(r[p]);o=!1},d(f){f&&P(e),rt(r,f)}}}function Vs(l){let e,t,n,i=(l[88].bolNumber||"--")+"",o,a,r,c=(l[88].cargoType||"--")+"",f,p,v,m=Et(l[88].payout)+"",b,g,y,L,k;return y=new ft({props:{status:l[88].status||"completed"}}),{c(){e=d("div"),t=d("span"),n=T("#"),o=T(i),a=_(),r=d("span"),f=T(c),p=_(),v=d("span"),b=T(m),g=_(),Be(y.$$.fragment),L=_(),u(t,"class","mono bol-num svelte-y1van9"),u(r,"class","bol-cargo truncate svelte-y1van9"),u(v,"class","mono bol-payout svelte-y1van9"),u(e,"class","bol-history-row svelte-y1van9")},m(h,C){R(h,e,C),s(e,t),s(t,n),s(t,o),s(e,a),s(e,r),s(r,f),s(e,p),s(e,v),s(v,b),s(e,g),qe(y,e,null),s(e,L),k=!0},p(h,C){(!k||C[0]&1048576)&&i!==(i=(h[88].bolNumber||"--")+"")&&q(o,i),(!k||C[0]&1048576)&&c!==(c=(h[88].cargoType||"--")+"")&&q(f,c),(!k||C[0]&1048576)&&m!==(m=Et(h[88].payout)+"")&&q(b,m);const w={};C[0]&1048576&&(w.status=h[88].status||"completed"),y.$set(w)},i(h){k||($(y.$$.fragment,h),k=!0)},o(h){H(y.$$.fragment,h),k=!1},d(h){h&&P(e),Pe(y)}}}function br(l){let e,t=l[9]?"Cancel":"Suspend Driver",n,i,o,a,r,c=l[9]&&Ws(l);return{c(){e=d("button"),n=T(t),i=_(),c&&c.c(),o=Ct(),u(e,"class","btn btn-danger btn-sm")},m(f,p){R(f,e,p),s(e,n),R(f,i,p),c&&c.m(f,p),R(f,o,p),a||(r=x(e,"click",l[49]),a=!0)},p(f,p){p[0]&512&&t!==(t=f[9]?"Cancel":"Suspend Driver")&&q(n,t),f[9]?c?c.p(f,p):(c=Ws(f),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(f){f&&(P(e),P(i),P(o)),c&&c.d(f),a=!1,r()}}}function gr(l){let e,t,n;return{c(){e=d("button"),e.textContent="Unsuspend Driver",u(e,"class","btn btn-primary btn-sm")},m(i,o){R(i,e,o),t||(n=x(e,"click",l[33]),t=!0)},p:le,d(i){i&&P(e),t=!1,n()}}}function Ws(l){let e,t,n,i,o,a,r,c,f,p;return{c(){e=d("div"),t=d("input"),n=_(),i=d("input"),o=_(),a=d("button"),r=T("Confirm Suspend"),u(t,"type","number"),u(t,"class","input-field input-sm svelte-y1van9"),u(t,"placeholder","Duration (hours)"),u(t,"min","1"),u(i,"type","text"),u(i,"class","input-field input-sm svelte-y1van9"),u(i,"placeholder","Reason for suspension"),u(a,"class","btn btn-danger btn-sm"),a.disabled=c=!l[7]||!l[8].trim(),u(e,"class","suspend-form svelte-y1van9")},m(v,m){R(v,e,m),s(e,t),et(t,l[7]),s(e,n),s(e,i),et(i,l[8]),s(e,o),s(e,a),s(a,r),f||(p=[x(t,"input",l[50]),x(i,"input",l[51]),x(a,"click",l[32])],f=!0)},p(v,m){m[0]&128&&Mt(t.value)!==v[7]&&et(t,v[7]),m[0]&256&&i.value!==v[8]&&et(i,v[8]),m[0]&384&&c!==(c=!v[7]||!v[8].trim())&&(a.disabled=c)},d(v){v&&P(e),f=!1,at(p)}}}function Gs(l){let e,t,n,i,o,a,r=Number(l[10]).toFixed(1)+"",c,f,p,v,m,b,g,y,L,k,h,C,w,A,M,N,D,S,B=l[0].length+"",j,W,V,I,E,z,Q,U,K,ee,F,ne,X,Z,J,Y,se,te,he,ve,re,ke,ye,Le,Ue,me,fe,we,Ve,Ae,We,Ie,Fe,ce,ge,Ce,Ee,nt,Ge,st;function Oe(ae,He){return ae[0].length===0?kr:hr}let Me=Oe(l),Te=Me(l),$e=pe(l[23]),ue=[];for(let ae=0;ae<$e.length;ae+=1)ue[ae]=Js(Ms(l,$e,ae));let O=pe(l[24]),_e=[];for(let ae=0;ae<O.length;ae+=1)_e[ae]=Xs(Ns(l,O,ae));let je=pe(l[23]),Qe=[];for(let ae=0;ae<je.length;ae+=1)Qe[ae]=xs(As(l,je,ae));return{c(){e=d("div"),t=d("div"),n=d("div"),i=d("h3"),i.textContent="Global Multiplier",o=_(),a=d("span"),c=T(r),f=T("x"),p=_(),v=d("div"),m=d("div"),b=d("span"),b.textContent="0.1x",g=_(),y=d("input"),L=_(),k=d("span"),k.textContent="5.0x",h=_(),C=d("button"),C.textContent="Apply Multiplier",w=_(),A=d("div"),M=d("div"),N=d("h3"),N.textContent="Active Surges",D=_(),S=d("span"),j=T(B),W=_(),V=d("div"),Te.c(),I=_(),E=d("div"),z=d("div"),z.innerHTML='<h3 class="card-title">Create Surge</h3>',Q=_(),U=d("div"),K=d("div"),ee=d("div"),F=d("label"),F.textContent="Region",ne=_(),X=d("select");for(let ae=0;ae<ue.length;ae+=1)ue[ae].c();Z=_(),J=d("div"),Y=d("label"),Y.textContent="Percentage (%)",se=_(),te=d("input"),he=_(),ve=d("div"),re=d("label"),re.textContent="Duration (minutes)",ke=_(),ye=d("input"),Le=_(),Ue=d("div"),me=d("label"),me.textContent="Cargo Filter",fe=_(),we=d("select");for(let ae=0;ae<_e.length;ae+=1)_e[ae].c();Ve=_(),Ae=d("button"),We=T("Create Surge"),Fe=_(),ce=d("div"),ge=d("div"),ge.innerHTML='<h3 class="card-title">Board Refresh</h3>',Ce=_(),Ee=d("div"),nt=d("div");for(let ae=0;ae<Qe.length;ae+=1)Qe[ae].c();u(i,"class","card-title"),u(a,"class","mono text-orange multiplier-display svelte-y1van9"),u(n,"class","card-header"),u(b,"class","slider-label mono svelte-y1van9"),u(y,"type","range"),u(y,"class","slider svelte-y1van9"),u(y,"min","0.1"),u(y,"max","5.0"),u(y,"step","0.1"),u(k,"class","slider-label mono svelte-y1van9"),u(m,"class","slider-row svelte-y1van9"),u(C,"class","btn btn-primary btn-sm"),u(v,"class","card-body"),u(t,"class","card"),u(N,"class","card-title"),u(S,"class","mono"),u(M,"class","card-header"),u(V,"class","card-body"),u(A,"class","card"),u(z,"class","card-header"),u(F,"class","form-label svelte-y1van9"),u(F,"for","surge-region"),u(X,"id","surge-region"),u(X,"class","input-field svelte-y1van9"),l[11]===void 0&&Ut(()=>l[55].call(X)),u(ee,"class","form-group svelte-y1van9"),u(Y,"class","form-label svelte-y1van9"),u(Y,"for","surge-pct"),u(te,"id","surge-pct"),u(te,"type","number"),u(te,"class","input-field svelte-y1van9"),u(te,"placeholder","e.g. 25"),u(te,"min","1"),u(te,"max","200"),u(J,"class","form-group svelte-y1van9"),u(re,"class","form-label svelte-y1van9"),u(re,"for","surge-dur"),u(ye,"id","surge-dur"),u(ye,"type","number"),u(ye,"class","input-field svelte-y1van9"),u(ye,"placeholder","e.g. 60"),u(ye,"min","1"),u(ve,"class","form-group svelte-y1van9"),u(me,"class","form-label svelte-y1van9"),u(me,"for","surge-cargo"),u(we,"id","surge-cargo"),u(we,"class","input-field svelte-y1van9"),l[14]===void 0&&Ut(()=>l[58].call(we)),u(Ue,"class","form-group svelte-y1van9"),u(K,"class","form-grid svelte-y1van9"),u(Ae,"class","btn btn-primary btn-sm"),Ae.disabled=Ie=!l[12]||!l[13],u(U,"class","card-body"),u(E,"class","card"),u(ge,"class","card-header"),u(nt,"class","region-refresh-grid svelte-y1van9"),u(Ee,"class","card-body"),u(ce,"class","card"),u(e,"class","tab-content svelte-y1van9")},m(ae,He){R(ae,e,He),s(e,t),s(t,n),s(n,i),s(n,o),s(n,a),s(a,c),s(a,f),s(t,p),s(t,v),s(v,m),s(m,b),s(m,g),s(m,y),et(y,l[10]),s(m,L),s(m,k),s(v,h),s(v,C),s(e,w),s(e,A),s(A,M),s(M,N),s(M,D),s(M,S),s(S,j),s(A,W),s(A,V),Te.m(V,null),s(e,I),s(e,E),s(E,z),s(E,Q),s(E,U),s(U,K),s(K,ee),s(ee,F),s(ee,ne),s(ee,X);for(let G=0;G<ue.length;G+=1)ue[G]&&ue[G].m(X,null);Pt(X,l[11],!0),s(K,Z),s(K,J),s(J,Y),s(J,se),s(J,te),et(te,l[12]),s(K,he),s(K,ve),s(ve,re),s(ve,ke),s(ve,ye),et(ye,l[13]),s(K,Le),s(K,Ue),s(Ue,me),s(Ue,fe),s(Ue,we);for(let G=0;G<_e.length;G+=1)_e[G]&&_e[G].m(we,null);Pt(we,l[14],!0),s(U,Ve),s(U,Ae),s(Ae,We),s(e,Fe),s(e,ce),s(ce,ge),s(ce,Ce),s(ce,Ee),s(Ee,nt);for(let G=0;G<Qe.length;G+=1)Qe[G]&&Qe[G].m(nt,null);Ge||(st=[x(y,"change",l[52]),x(y,"input",l[52]),x(C,"click",l[36]),x(X,"change",l[55]),x(te,"input",l[56]),x(ye,"input",l[57]),x(we,"change",l[58]),x(Ae,"click",l[37])],Ge=!0)},p(ae,He){if(He[0]&1024&&r!==(r=Number(ae[10]).toFixed(1)+"")&&q(c,r),He[0]&1024&&et(y,ae[10]),He[0]&1&&B!==(B=ae[0].length+"")&&q(j,B),Me===(Me=Oe(ae))&&Te?Te.p(ae,He):(Te.d(1),Te=Me(ae),Te&&(Te.c(),Te.m(V,null))),He[0]&8388608){$e=pe(ae[23]);let G;for(G=0;G<$e.length;G+=1){const Re=Ms(ae,$e,G);ue[G]?ue[G].p(Re,He):(ue[G]=Js(Re),ue[G].c(),ue[G].m(X,null))}for(;G<ue.length;G+=1)ue[G].d(1);ue.length=$e.length}if(He[0]&8390656&&Pt(X,ae[11]),He[0]&4096&&Mt(te.value)!==ae[12]&&et(te,ae[12]),He[0]&8192&&Mt(ye.value)!==ae[13]&&et(ye,ae[13]),He[0]&16777216){O=pe(ae[24]);let G;for(G=0;G<O.length;G+=1){const Re=Ns(ae,O,G);_e[G]?_e[G].p(Re,He):(_e[G]=Xs(Re),_e[G].c(),_e[G].m(we,null))}for(;G<_e.length;G+=1)_e[G].d(1);_e.length=O.length}if(He[0]&16793600&&Pt(we,ae[14]),He[0]&12288&&Ie!==(Ie=!ae[12]||!ae[13])&&(Ae.disabled=Ie),He[0]&10485760|He[1]&256){je=pe(ae[23]);let G;for(G=0;G<je.length;G+=1){const Re=As(ae,je,G);Qe[G]?Qe[G].p(Re,He):(Qe[G]=xs(Re),Qe[G].c(),Qe[G].m(nt,null))}for(;G<Qe.length;G+=1)Qe[G].d(1);Qe.length=je.length}},d(ae){ae&&P(e),Te.d(),rt(ue,ae),rt(_e,ae),rt(Qe,ae),Ge=!1,at(st)}}}function hr(l){let e,t=[],n=new Map,i=pe(l[0]);const o=a=>a[85].surgeId||a[85].id;for(let a=0;a<i.length;a+=1){let r=qs(l,i,a),c=o(r);n.set(c,t[a]=Ks(c,r))}return{c(){e=d("div");for(let a=0;a<t.length;a+=1)t[a].c();u(e,"class","surge-list svelte-y1van9")},m(a,r){R(a,e,r);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(a,r){r[0]&8388609|r[1]&128&&(i=pe(a[0]),t=zt(t,r,o,1,a,i,n,e,_i,Ks,null,qs))},d(a){a&&P(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function kr(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-y1van9">No active surges.</span>',u(e,"class","empty-state-inline svelte-y1van9")},m(t,n){R(t,e,n)},p:le,d(t){t&&P(e)}}}function Qs(l){let e,t=l[85].cargoFilter+"",n;return{c(){e=d("span"),n=T(t),u(e,"class","surge-filter text-muted svelte-y1van9")},m(i,o){R(i,e,o),s(e,n)},p(i,o){o[0]&1&&t!==(t=i[85].cargoFilter+"")&&q(n,t)},d(i){i&&P(e)}}}function Zs(l){let e,t=ui(l[85].timeRemaining)+"",n;return{c(){e=d("span"),n=T(t),u(e,"class","surge-time text-muted mono svelte-y1van9")},m(i,o){R(i,e,o),s(e,n)},p(i,o){o[0]&1&&t!==(t=ui(i[85].timeRemaining)+"")&&q(n,t)},d(i){i&&P(e)}}}function Ks(l,e){var D;let t,n,i,o=(((D=e[23].find(w))==null?void 0:D.label)||e[85].region)+"",a,r,c,f,p=e[85].percentage+"",v,m,b,g,y,L,k,h,C;function w(...S){return e[53](e[85],...S)}let A=e[85].cargoFilter&&e[85].cargoFilter!=="all"&&Qs(e),M=e[85].timeRemaining&&Zs(e);function N(){return e[54](e[85])}return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("span"),a=T(o),r=_(),c=d("span"),f=T("+"),v=T(p),m=T("%"),b=_(),A&&A.c(),g=_(),M&&M.c(),y=_(),L=d("button"),L.textContent="Cancel",k=_(),u(i,"class","surge-region svelte-y1van9"),u(c,"class","mono text-orange"),u(n,"class","surge-info svelte-y1van9"),u(L,"class","btn btn-danger btn-sm"),u(t,"class","surge-row svelte-y1van9"),this.first=t},m(S,B){R(S,t,B),s(t,n),s(n,i),s(i,a),s(n,r),s(n,c),s(c,f),s(c,v),s(c,m),s(n,b),A&&A.m(n,null),s(n,g),M&&M.m(n,null),s(t,y),s(t,L),s(t,k),h||(C=x(L,"click",N),h=!0)},p(S,B){var j;e=S,B[0]&1&&o!==(o=(((j=e[23].find(w))==null?void 0:j.label)||e[85].region)+"")&&q(a,o),B[0]&1&&p!==(p=e[85].percentage+"")&&q(v,p),e[85].cargoFilter&&e[85].cargoFilter!=="all"?A?A.p(e,B):(A=Qs(e),A.c(),A.m(n,g)):A&&(A.d(1),A=null),e[85].timeRemaining?M?M.p(e,B):(M=Zs(e),M.c(),M.m(n,null)):M&&(M.d(1),M=null)},d(S){S&&P(t),A&&A.d(),M&&M.d(),h=!1,C()}}}function Js(l){let e,t=l[77].label+"",n;return{c(){e=d("option"),n=T(t),e.__value=l[77].id,et(e,e.__value),u(e,"class","svelte-y1van9")},m(i,o){R(i,e,o),s(e,n)},p:le,d(i){i&&P(e)}}}function Xs(l){let e,t=l[80].label+"",n;return{c(){e=d("option"),n=T(t),e.__value=l[80].id,et(e,e.__value),u(e,"class","svelte-y1van9")},m(i,o){R(i,e,o),s(e,n)},p:le,d(i){i&&P(e)}}}function Ys(l){let e,t=(l[21][l[77].id].loadCount??"--")+"",n,i;return{c(){e=d("span"),n=T(t),i=T(" loads"),u(e,"class","text-muted mono region-meta svelte-y1van9")},m(o,a){R(o,e,a),s(e,n),s(e,i)},p(o,a){a[0]&2097152&&t!==(t=(o[21][o[77].id].loadCount??"--")+"")&&q(n,t)},d(o){o&&P(e)}}}function xs(l){let e,t,n,i,o,a,r,c,f,p=l[21][l[77].id]&&Ys(l);function v(){return l[59](l[77])}return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent=`${l[77].label}`,i=_(),p&&p.c(),o=_(),a=d("button"),a.textContent="Refresh",r=_(),u(n,"class","region-name svelte-y1van9"),u(t,"class","region-refresh-info svelte-y1van9"),u(a,"class","btn btn-secondary btn-sm"),u(e,"class","region-refresh-row svelte-y1van9")},m(m,b){R(m,e,b),s(e,t),s(t,n),s(t,i),p&&p.m(t,null),s(e,o),s(e,a),s(e,r),c||(f=x(a,"click",v),c=!0)},p(m,b){l=m,l[21][l[77].id]?p?p.p(l,b):(p=Ys(l),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},d(m){m&&P(e),p&&p.d(),c=!1,f()}}}function ei(l){let e,t,n,i;const o=[wr,yr],a=[];function r(c,f){return c[2].length===0?0:1}return t=r(l),n=a[t]=o[t](l),{c(){e=d("div"),n.c(),u(e,"class","tab-content svelte-y1van9")},m(c,f){R(c,e,f),a[t].m(e,null),i=!0},p(c,f){let p=t;t=r(c),t===p?a[t].p(c,f):(Se(),H(a[p],1,1,()=>{a[p]=null}),De(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),$(n,1),n.m(e,null))},i(c){i||($(n),i=!0)},o(c){H(n),i=!1},d(c){c&&P(e),a[t].d()}}}function yr(l){let e,t=[],n=new Map,i,o=pe(l[2]);const a=r=>r[74].loadId||r[74].id||r[74].bolNumber;for(let r=0;r<o.length;r+=1){let c=Ds(l,o,r),f=a(c);n.set(f,t[r]=si(f,c))}return{c(){e=d("div");for(let r=0;r<t.length;r+=1)t[r].c();u(e,"class","load-list svelte-y1van9")},m(r,c){R(r,e,c);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);i=!0},p(r,c){c[0]&4|c[1]&24&&(o=pe(r[2]),Se(),t=zt(t,c,a,1,r,o,n,e,Zt,si,null,Ds),De())},i(r){if(!i){for(let c=0;c<o.length;c+=1)$(t[c]);i=!0}},o(r){for(let c=0;c<t.length;c+=1)H(t[c]);i=!1},d(r){r&&P(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function wr(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-y1van9">No active loads on the server.</span>',u(e,"class","empty-state svelte-y1van9")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function ti(l){let e,t,n,i,o=l[74].origin+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Origin",n=_(),i=d("span"),a=T(o),u(t,"class","detail-label svelte-y1van9"),u(i,"class","detail-value truncate svelte-y1van9"),u(e,"class","detail-row svelte-y1van9")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c[0]&4&&o!==(o=r[74].origin+"")&&q(a,o)},d(r){r&&P(e)}}}function li(l){let e,t,n,i,o=(l[74].destination||l[74].destinationLabel)+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Destination",n=_(),i=d("span"),a=T(o),u(t,"class","detail-label svelte-y1van9"),u(i,"class","detail-value truncate svelte-y1van9"),u(e,"class","detail-row svelte-y1van9")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c[0]&4&&o!==(o=(r[74].destination||r[74].destinationLabel)+"")&&q(a,o)},d(r){r&&P(e)}}}function ni(l){let e,t,n,i,o=l[74].integrity+"",a,r;return{c(){e=d("div"),t=d("span"),t.textContent="Integrity",n=_(),i=d("span"),a=T(o),r=T("%"),u(t,"class","detail-label svelte-y1van9"),u(i,"class","detail-value mono svelte-y1van9"),u(e,"class","detail-row svelte-y1van9")},m(c,f){R(c,e,f),s(e,t),s(e,n),s(e,i),s(i,a),s(i,r)},p(c,f){f[0]&4&&o!==(o=c[74].integrity+"")&&q(a,o)},d(c){c&&P(e)}}}function si(l,e){let t,n,i,o,a,r=(e[74].bolNumber||"--")+"",c,f,p,v=(e[74].driverName||e[74].driver||"--")+"",m,b,g,y,L,k,h,C,w,A=(e[74].cargoType||"--")+"",M,N,D,S,B,j,W,V,I,E,z,Q,U;g=new ft({props:{status:e[74].status||"in_transit"}});let K=e[74].origin&&ti(e),ee=(e[74].destination||e[74].destinationLabel)&&li(e),F=e[74].integrity!=null&&ni(e);function ne(){return e[60](e[74])}function X(){return e[61](e[74])}return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("div"),o=d("span"),a=T("BOL #"),c=T(r),f=_(),p=d("span"),m=T(v),b=_(),Be(g.$$.fragment),y=_(),L=d("div"),k=d("div"),h=d("span"),h.textContent="Cargo",C=_(),w=d("span"),M=T(A),N=_(),K&&K.c(),D=_(),ee&&ee.c(),S=_(),F&&F.c(),B=_(),j=d("div"),W=d("button"),W.textContent="Force Complete",V=_(),I=d("button"),I.textContent="Force Abandon",E=_(),u(o,"class","mono bol-num svelte-y1van9"),u(p,"class","load-driver svelte-y1van9"),u(i,"class","load-row-info svelte-y1van9"),u(n,"class","load-row-top svelte-y1van9"),u(h,"class","detail-label svelte-y1van9"),u(w,"class","detail-value svelte-y1van9"),u(k,"class","detail-row svelte-y1van9"),u(L,"class","load-row-details svelte-y1van9"),u(W,"class","btn btn-primary btn-sm"),u(I,"class","btn btn-danger btn-sm"),u(j,"class","load-row-actions svelte-y1van9"),u(t,"class","card load-row-card svelte-y1van9"),this.first=t},m(Z,J){R(Z,t,J),s(t,n),s(n,i),s(i,o),s(o,a),s(o,c),s(i,f),s(i,p),s(p,m),s(n,b),qe(g,n,null),s(t,y),s(t,L),s(L,k),s(k,h),s(k,C),s(k,w),s(w,M),s(L,N),K&&K.m(L,null),s(L,D),ee&&ee.m(L,null),s(L,S),F&&F.m(L,null),s(t,B),s(t,j),s(j,W),s(j,V),s(j,I),s(t,E),z=!0,Q||(U=[x(W,"click",ne),x(I,"click",X)],Q=!0)},p(Z,J){e=Z,(!z||J[0]&4)&&r!==(r=(e[74].bolNumber||"--")+"")&&q(c,r),(!z||J[0]&4)&&v!==(v=(e[74].driverName||e[74].driver||"--")+"")&&q(m,v);const Y={};J[0]&4&&(Y.status=e[74].status||"in_transit"),g.$set(Y),(!z||J[0]&4)&&A!==(A=(e[74].cargoType||"--")+"")&&q(M,A),e[74].origin?K?K.p(e,J):(K=ti(e),K.c(),K.m(L,D)):K&&(K.d(1),K=null),e[74].destination||e[74].destinationLabel?ee?ee.p(e,J):(ee=li(e),ee.c(),ee.m(L,S)):ee&&(ee.d(1),ee=null),e[74].integrity!=null?F?F.p(e,J):(F=ni(e),F.c(),F.m(L,null)):F&&(F.d(1),F=null)},i(Z){z||($(g.$$.fragment,Z),z=!0)},o(Z){H(g.$$.fragment,Z),z=!1},d(Z){Z&&P(t),Pe(g),K&&K.d(),ee&&ee.d(),F&&F.d(),Q=!1,at(U)}}}function ii(l){let e,t,n,i;const o=[Lr,Cr],a=[];function r(c,f){return c[1].length===0?0:1}return t=r(l),n=a[t]=o[t](l),{c(){e=d("div"),n.c(),u(e,"class","tab-content svelte-y1van9")},m(c,f){R(c,e,f),a[t].m(e,null),i=!0},p(c,f){let p=t;t=r(c),t===p?a[t].p(c,f):(Se(),H(a[p],1,1,()=>{a[p]=null}),De(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),$(n,1),n.m(e,null))},i(c){i||($(n),i=!0)},o(c){H(n),i=!1},d(c){c&&P(e),a[t].d()}}}function Cr(l){let e,t=[],n=new Map,i,o=pe(l[1]);const a=r=>r[71].claimId||r[71].id;for(let r=0;r<o.length;r+=1){let c=Ss(l,o,r),f=a(c);n.set(f,t[r]=ri(f,c))}return{c(){e=d("div");for(let r=0;r<t.length;r+=1)t[r].c();u(e,"class","claims-list svelte-y1van9")},m(r,c){R(r,e,c);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);i=!0},p(r,c){c[0]&32770|c[1]&1536&&(o=pe(r[1]),Se(),t=zt(t,c,a,1,r,o,n,e,Zt,ri,null,Ss),De())},i(r){if(!i){for(let c=0;c<o.length;c+=1)$(t[c]);i=!0}},o(r){for(let c=0;c<t.length;c+=1)H(t[c]);i=!1},d(r){r&&P(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Lr(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-y1van9">No pending insurance claims.</span>',u(e,"class","empty-state svelte-y1van9")},m(t,n){R(t,e,n)},p:le,i:le,o:le,d(t){t&&P(e)}}}function ai(l){let e,t,n,i,o=new Date(l[71].filedAt*1e3).toLocaleString()+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Filed",n=_(),i=d("span"),a=T(o),u(t,"class","detail-label svelte-y1van9"),u(i,"class","detail-value mono svelte-y1van9"),u(e,"class","detail-row svelte-y1van9")},m(r,c){R(r,e,c),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,c){c[0]&2&&o!==(o=new Date(r[71].filedAt*1e3).toLocaleString()+"")&&q(a,o)},d(r){r&&P(e)}}}function ri(l,e){let t,n,i,o,a=(e[71].claimId||e[71].id)+"",r,c,f,p,v,m,b,g,y,L=(e[71].driverName||e[71].driver||"--")+"",k,h,C,w,A,M,N=(e[71].bolNumber||"--")+"",D,S,B,j,W,V,I=Et(e[71].amount)+"",E,z,Q,U,K,ee,F=(e[71].reason||"--")+"",ne,X,Z,J,Y,se,te,he,ve,re,ke,ye,Le,Ue,me,fe,we,Ve;f=new ft({props:{status:"warning",label:"Pending"}});let Ae=e[71].filedAt&&ai(e);function We(){return e[62](e[71])}function Ie(){e[63].call(re,e[71])}function Fe(){return e[64](e[71])}return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("h4"),o=T("Claim #"),r=T(a),c=_(),Be(f.$$.fragment),p=_(),v=d("div"),m=d("div"),b=d("span"),b.textContent="Driver",g=_(),y=d("span"),k=T(L),h=_(),C=d("div"),w=d("span"),w.textContent="BOL #",A=_(),M=d("span"),D=T(N),S=_(),B=d("div"),j=d("span"),j.textContent="Amount",W=_(),V=d("span"),E=T(I),z=_(),Q=d("div"),U=d("span"),U.textContent="Reason",K=_(),ee=d("span"),ne=T(F),X=_(),Ae&&Ae.c(),Z=_(),J=d("div"),Y=_(),se=d("div"),te=d("button"),te.textContent="Approve",he=_(),ve=d("div"),re=d("input"),ke=_(),ye=d("button"),Le=T("Deny"),me=_(),u(i,"class","card-title"),u(n,"class","card-header"),u(b,"class","detail-label svelte-y1van9"),u(y,"class","detail-value svelte-y1van9"),u(m,"class","detail-row svelte-y1van9"),u(w,"class","detail-label svelte-y1van9"),u(M,"class","detail-value mono svelte-y1van9"),u(C,"class","detail-row svelte-y1van9"),u(j,"class","detail-label svelte-y1van9"),u(V,"class","detail-value mono svelte-y1van9"),u(B,"class","detail-row svelte-y1van9"),u(U,"class","detail-label svelte-y1van9"),u(ee,"class","detail-value svelte-y1van9"),u(Q,"class","detail-row svelte-y1van9"),u(J,"class","divider"),u(te,"class","btn btn-primary btn-sm"),u(re,"type","text"),u(re,"class","input-field input-sm svelte-y1van9"),u(re,"placeholder","Denial reason..."),u(ye,"class","btn btn-danger btn-sm"),ye.disabled=Ue=!(e[15][e[71].claimId||e[71].id]||"").trim(),u(ve,"class","deny-row svelte-y1van9"),u(se,"class","claim-actions svelte-y1van9"),u(v,"class","card-body"),u(t,"class","card claim-card"),this.first=t},m(ce,ge){R(ce,t,ge),s(t,n),s(n,i),s(i,o),s(i,r),s(n,c),qe(f,n,null),s(t,p),s(t,v),s(v,m),s(m,b),s(m,g),s(m,y),s(y,k),s(v,h),s(v,C),s(C,w),s(C,A),s(C,M),s(M,D),s(v,S),s(v,B),s(B,j),s(B,W),s(B,V),s(V,E),s(v,z),s(v,Q),s(Q,U),s(Q,K),s(Q,ee),s(ee,ne),s(v,X),Ae&&Ae.m(v,null),s(v,Z),s(v,J),s(v,Y),s(v,se),s(se,te),s(se,he),s(se,ve),s(ve,re),et(re,e[15][e[71].claimId||e[71].id]),s(ve,ke),s(ve,ye),s(ye,Le),s(t,me),fe=!0,we||(Ve=[x(te,"click",We),x(re,"input",Ie),x(ye,"click",Fe)],we=!0)},p(ce,ge){e=ce,(!fe||ge[0]&2)&&a!==(a=(e[71].claimId||e[71].id)+"")&&q(r,a),(!fe||ge[0]&2)&&L!==(L=(e[71].driverName||e[71].driver||"--")+"")&&q(k,L),(!fe||ge[0]&2)&&N!==(N=(e[71].bolNumber||"--")+"")&&q(D,N),(!fe||ge[0]&2)&&I!==(I=Et(e[71].amount)+"")&&q(E,I),(!fe||ge[0]&2)&&F!==(F=(e[71].reason||"--")+"")&&q(ne,F),e[71].filedAt?Ae?Ae.p(e,ge):(Ae=ai(e),Ae.c(),Ae.m(v,Z)):Ae&&(Ae.d(1),Ae=null),ge[0]&32770&&re.value!==e[15][e[71].claimId||e[71].id]&&et(re,e[15][e[71].claimId||e[71].id]),(!fe||ge[0]&32770&&Ue!==(Ue=!(e[15][e[71].claimId||e[71].id]||"").trim()))&&(ye.disabled=Ue)},i(ce){fe||($(f.$$.fragment,ce),fe=!0)},o(ce){H(f.$$.fragment,ce),fe=!1},d(ce){ce&&P(t),Pe(f),Ae&&Ae.d(),we=!1,at(Ve)}}}function oi(l){let e,t,n,i,o,a,r,c,f,p,v,m,b,g;return{c(){e=d("div"),t=d("div"),n=d("h3"),i=T(l[17]),o=_(),a=d("p"),r=T(l[18]),c=_(),f=d("div"),p=d("button"),p.textContent="Cancel",v=_(),m=d("button"),m.textContent="Confirm",u(n,"class","svelte-y1van9"),u(a,"class","text-muted svelte-y1van9"),u(p,"class","btn btn-secondary"),u(m,"class","btn btn-primary"),u(f,"class","dialog-actions svelte-y1van9"),u(t,"class","dialog-panel svelte-y1van9"),u(t,"role","document"),u(e,"class","dialog-overlay svelte-y1van9"),u(e,"role","dialog"),u(e,"tabindex","-1")},m(y,L){R(y,e,L),s(e,t),s(t,n),s(n,i),s(t,o),s(t,a),s(a,r),s(t,c),s(t,f),s(f,p),s(f,v),s(f,m),b||(g=[x(p,"click",l[27]),x(m,"click",l[26]),x(t,"click",Dt(l[45])),x(t,"keydown",Dt(l[46])),x(e,"click",l[27]),x(e,"keydown",l[65])],b=!0)},p(y,L){L[0]&131072&&q(i,y[17]),L[0]&262144&&q(r,y[18])},d(y){y&&P(e),b=!1,at(g)}}}function Tr(l){let e,t,n,i,o,a,r,c,f,p,v,m,b,g,y,L;r=new ki({props:{tabs:l[19],activeTab:l[3]}}),r.$on("tabChange",l[25]);let k=l[3]==="dashboard"&&Es(l),h=l[3]==="players"&&$s(l),C=l[3]==="economy"&&Gs(l),w=l[3]==="loads"&&ei(l),A=l[3]==="insurance"&&ii(l),M=l[16]&&oi(l);return{c(){e=d("div"),t=d("div"),n=d("h2"),n.textContent="Admin Panel",i=_(),o=d("button"),o.textContent="Refresh All",a=_(),Be(r.$$.fragment),c=_(),k&&k.c(),f=_(),h&&h.c(),p=_(),C&&C.c(),v=_(),w&&w.c(),m=_(),A&&A.c(),b=_(),M&&M.c(),u(n,"class","admin-title svelte-y1van9"),u(o,"class","btn btn-secondary btn-sm"),u(t,"class","admin-header svelte-y1van9"),u(e,"class","admin-screen svelte-y1van9")},m(N,D){R(N,e,D),s(e,t),s(t,n),s(t,i),s(t,o),s(e,a),qe(r,e,null),s(e,c),k&&k.m(e,null),s(e,f),h&&h.m(e,null),s(e,p),C&&C.m(e,null),s(e,v),w&&w.m(e,null),s(e,m),A&&A.m(e,null),s(e,b),M&&M.m(e,null),g=!0,y||(L=x(o,"click",l[28]),y=!0)},p(N,D){const S={};D[0]&524288&&(S.tabs=N[19]),D[0]&8&&(S.activeTab=N[3]),r.$set(S),N[3]==="dashboard"?k?k.p(N,D):(k=Es(N),k.c(),k.m(e,f)):k&&(k.d(1),k=null),N[3]==="players"?h?(h.p(N,D),D[0]&8&&$(h,1)):(h=$s(N),h.c(),$(h,1),h.m(e,p)):h&&(Se(),H(h,1,1,()=>{h=null}),De()),N[3]==="economy"?C?C.p(N,D):(C=Gs(N),C.c(),C.m(e,v)):C&&(C.d(1),C=null),N[3]==="loads"?w?(w.p(N,D),D[0]&8&&$(w,1)):(w=ei(N),w.c(),$(w,1),w.m(e,m)):w&&(Se(),H(w,1,1,()=>{w=null}),De()),N[3]==="insurance"?A?(A.p(N,D),D[0]&8&&$(A,1)):(A=ii(N),A.c(),$(A,1),A.m(e,b)):A&&(Se(),H(A,1,1,()=>{A=null}),De()),N[16]?M?M.p(N,D):(M=oi(N),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},i(N){g||($(r.$$.fragment,N),$(h),$(w),$(A),g=!0)},o(N){H(r.$$.fragment,N),H(h),H(w),H(A),g=!1},d(N){N&&P(e),Pe(r),k&&k.d(),h&&h.d(),C&&C.d(),w&&w.d(),A&&A.d(),M&&M.d(),y=!1,L()}}}function Et(l){return l==null?"$0":"$"+Number(l).toLocaleString("en-US")}function ui(l){if(!l)return"--";const e=Math.floor(l/3600),t=Math.floor(l%3600/60);return e>0?`${e}h ${t}m`:`${t}m`}function Sr(l,e,t){let n,i,o,a,r,c,f,p,v,m;ht(l,At,O=>t(44,m=O)),$t();let b="dashboard",g="",y=!1,L="",k="",h="",C=!1,w=1,A="los_santos",M="",N="",D="all",S={},B=!1,j="",W="",V=null;const I=[{id:"dashboard",label:"Dashboard"},{id:"players",label:"Players"},{id:"economy",label:"Economy"},{id:"loads",label:"Loads"},{id:"insurance",label:"Insurance"}],E=[{id:"los_santos",label:"Chicago (LS)"},{id:"sandy_shores",label:"Gary (SS)"},{id:"paleto",label:"Wisconsin (Paleto)"},{id:"grapeseed",label:"W. Michigan (GS)"}],z=[{id:"all",label:"All Cargo"},{id:"general",label:"General"},{id:"refrigerated",label:"Refrigerated"},{id:"hazmat",label:"HAZMAT"},{id:"oversized",label:"Oversized"},{id:"livestock",label:"Livestock"}];function Q(O){t(3,b=O.detail.tab)}function U(O,_e,je){t(17,j=O),t(18,W=_e),V=je,t(16,B=!0)}function K(){V&&V(),t(16,B=!1),V=null}function ee(){t(16,B=!1),V=null}async function F(){await Ke("trucking:adminRefreshData")}async function ne(){g.trim()&&(t(5,y=!0),await Ke("trucking:adminLookupPlayer",{query:g.trim()}),t(5,y=!1))}function X(O){O.key==="Enter"&&ne()}async function Z(){const O=m.playerProfile;if(!O||!L)return;const _e=Number(L);isNaN(_e)||_e<0||_e>1e3||U("Adjust Reputation",`Set ${O.name||O.citizenid}'s reputation to ${_e}?`,async()=>{await Ke("trucking:adminAdjustReputation",{citizenid:O.citizenid,newScore:_e}),t(6,L=""),await Ke("trucking:adminLookupPlayer",{query:O.citizenid})})}async function J(){const O=m.playerProfile;if(!O||!k||!h.trim())return;const _e=Number(k);isNaN(_e)||_e<=0||U("Suspend Driver",`Suspend ${O.name||O.citizenid} for ${_e} hours? Reason: "${h.trim()}"`,async()=>{await Ke("trucking:adminSuspendDriver",{citizenid:O.citizenid,duration:_e,reason:h.trim()}),t(7,k=""),t(8,h=""),t(9,C=!1),await Ke("trucking:adminLookupPlayer",{query:O.citizenid})})}async function Y(){const O=m.playerProfile;O&&U("Unsuspend Driver",`Remove suspension from ${O.name||O.citizenid}?`,async()=>{await Ke("trucking:adminUnsuspendDriver",{citizenid:O.citizenid}),await Ke("trucking:adminLookupPlayer",{query:O.citizenid})})}async function se(O){U("Force Complete",`Force complete load ${O}? The driver will receive full payout.`,async()=>{await Ke("trucking:adminForceComplete",{loadId:O})})}async function te(O){U("Force Abandon",`Force abandon load ${O}? The driver will lose their deposit.`,async()=>{await Ke("trucking:adminForceAbandon",{loadId:O})})}async function he(){const O=Number(w);isNaN(O)||O<.1||O>5||U("Set Multiplier",`Set the global economy multiplier to ${O.toFixed(1)}x?`,async()=>{await Ke("trucking:adminSetMultiplier",{multiplier:O})})}async function ve(){var je;const O=Number(M),_e=Number(N);isNaN(O)||O<=0||isNaN(_e)||_e<=0||U("Create Surge",`Create a ${O}% surge in ${((je=E.find(Qe=>Qe.id===A))==null?void 0:je.label)||A} for ${_e} minutes?`,async()=>{await Ke("trucking:adminCreateSurge",{region:A,percentage:O,duration:_e,cargoFilter:D==="all"?null:D}),t(12,M=""),t(13,N="")})}async function re(O){U("Cancel Surge",`Cancel surge ${O}?`,async()=>{await Ke("trucking:adminCancelSurge",{surgeId:O})})}async function ke(O){await Ke("trucking:adminRefreshBoard",{region:O})}async function ye(O){U("Approve Claim",`Approve insurance claim ${O}?`,async()=>{await Ke("trucking:adminApproveClaim",{claimId:O})})}async function Le(O){const _e=(S[O]||"").trim();_e&&U("Deny Claim",`Deny insurance claim ${O}? Reason: "${_e}"`,async()=>{await Ke("trucking:adminDenyClaim",{claimId:O,reason:_e}),t(15,S[O]="",S)})}rl(()=>{F()});function Ue(O){It.call(this,l,O)}function me(O){It.call(this,l,O)}function fe(){g=this.value,t(4,g)}function we(){L=Mt(this.value),t(6,L)}const Ve=()=>t(9,C=!C);function Ae(){k=Mt(this.value),t(7,k)}function We(){h=this.value,t(8,h)}function Ie(){w=Mt(this.value),t(10,w),t(42,c),t(43,n),t(44,m)}const Fe=(O,_e)=>_e.id===O.region,ce=O=>re(O.surgeId||O.id);function ge(){A=tl(this),t(11,A),t(23,E)}function Ce(){M=Mt(this.value),t(12,M)}function Ee(){N=Mt(this.value),t(13,N)}function nt(){D=tl(this),t(14,D),t(24,z)}const Ge=O=>ke(O.id),st=O=>se(O.loadId||O.id),Oe=O=>te(O.loadId||O.id),Me=O=>ye(O.claimId||O.id);function Te(O){S[O.claimId||O.id]=this.value,t(15,S)}const $e=O=>Le(O.claimId||O.id),ue=O=>O.key==="Escape"&&ee();return l.$$.update=()=>{l.$$.dirty[1]&8192&&t(43,n=m),l.$$.dirty[1]&4096&&t(22,i=n.stats),l.$$.dirty[1]&4096&&t(2,o=Array.isArray(n.activeLoads)?n.activeLoads:[]),l.$$.dirty[1]&4096&&t(0,a=Array.isArray(n.activeSurges)?n.activeSurges:[]),l.$$.dirty[1]&4096&&t(21,r=n.boardState||{}),l.$$.dirty[1]&4096&&t(42,c=n.economySettings||{multiplier:1}),l.$$.dirty[1]&4096&&t(1,f=Array.isArray(n.pendingClaims)?n.pendingClaims:[]),l.$$.dirty[1]&4096&&t(20,p=n.playerProfile),l.$$.dirty[1]&2048&&c.multiplier!=null&&t(10,w=c.multiplier),l.$$.dirty[0]&7&&t(19,v=I.map(O=>O.id==="loads"?{...O,count:o.length}:O.id==="insurance"?{...O,count:f.length}:O.id==="economy"?{...O,count:a.length}:O))},[a,f,o,b,g,y,L,k,h,C,w,A,M,N,D,S,B,j,W,v,p,r,i,E,z,Q,K,ee,F,ne,X,Z,J,Y,se,te,he,ve,re,ke,ye,Le,c,n,m,Ue,me,fe,we,Ve,Ae,We,Ie,Fe,ce,ge,Ce,Ee,nt,Ge,st,Oe,Me,Te,$e,ue]}class Dr extends mt{constructor(e){super(),_t(this,e,Sr,Tr,dt,{},null,[-1,-1,-1,-1])}}function ci(l){let e,t,n,i,o,a,r,c,f,p,v,m,b,g,y,L,k,h,C,w=l[4]&&fi(l);const A=[Er,Br,Rr,Pr,qr,Mr,Nr,Ar],M=[];function N(D,S){return D[2]==="home"?0:D[2]==="board"?1:D[2]==="loadDetail"?2:D[2]==="activeLoad"?3:D[2]==="cdlTest"?4:D[2]==="hazmatBriefing"?5:D[2]==="dispatcher"?6:D[2]==="admin"?7:-1}return~(y=N(l))&&(L=M[y]=A[y](l)),{c(){e=d("div"),t=d("div"),n=d("header"),i=d("div"),i.innerHTML='<h1 class="header-title svelte-vucr7r">Trucking</h1>',o=_(),a=d("nav"),r=d("button"),r.textContent="Home",c=_(),f=d("button"),f.textContent="Board",p=_(),w&&w.c(),v=_(),m=d("button"),m.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',b=_(),g=d("main"),L&&L.c(),u(i,"class","header-left svelte-vucr7r"),u(r,"class","nav-btn svelte-vucr7r"),oe(r,"nav-active",l[2]==="home"),u(f,"class","nav-btn svelte-vucr7r"),oe(f,"nav-active",l[2]==="board"||l[2]==="loadDetail"),u(a,"class","header-nav svelte-vucr7r"),u(m,"class","close-btn svelte-vucr7r"),u(m,"aria-label","Close"),u(n,"class","nui-header svelte-vucr7r"),u(g,"class","nui-content svelte-vucr7r"),u(t,"class","nui-container fade-in svelte-vucr7r"),u(e,"class","nui-wrapper svelte-vucr7r"),oe(e,"phone-mode",l[0]==="phone"),oe(e,"standalone-mode",l[0]==="standalone")},m(D,S){R(D,e,S),s(e,t),s(t,n),s(n,i),s(n,o),s(n,a),s(a,r),s(a,c),s(a,f),s(a,p),w&&w.m(a,null),s(n,v),s(n,m),s(t,b),s(t,g),~y&&M[y].m(g,null),k=!0,h||(C=[x(r,"click",l[9]),x(f,"click",l[10]),x(m,"click",l[5])],h=!0)},p(D,S){(!k||S&4)&&oe(r,"nav-active",D[2]==="home"),(!k||S&4)&&oe(f,"nav-active",D[2]==="board"||D[2]==="loadDetail"),D[4]?w?w.p(D,S):(w=fi(D),w.c(),w.m(a,null)):w&&(w.d(1),w=null);let B=y;y=N(D),y===B?~y&&M[y].p(D,S):(L&&(Se(),H(M[B],1,1,()=>{M[B]=null}),De()),~y?(L=M[y],L?L.p(D,S):(L=M[y]=A[y](D),L.c()),$(L,1),L.m(g,null)):L=null),(!k||S&1)&&oe(e,"phone-mode",D[0]==="phone"),(!k||S&1)&&oe(e,"standalone-mode",D[0]==="standalone")},i(D){k||($(L),k=!0)},o(D){H(L),k=!1},d(D){D&&P(e),w&&w.d(),~y&&M[y].d(),h=!1,at(C)}}}function fi(l){let e,t,n;return{c(){e=d("button"),e.textContent="Active Load",u(e,"class","nav-btn svelte-vucr7r"),oe(e,"nav-active",l[2]==="activeLoad")},m(i,o){R(i,e,o),t||(n=x(e,"click",l[11]),t=!0)},p(i,o){o&4&&oe(e,"nav-active",i[2]==="activeLoad")},d(i){i&&P(e),t=!1,n()}}}function Ar(l){let e,t;return e=new Dr({}),e.$on("navigate",l[18]),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p:le,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Nr(l){let e,t;return e=new cr({}),e.$on("navigate",l[17]),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p:le,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Mr(l){let e,t;return e=new Ya({}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p:le,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function qr(l){let e,t;return e=new Qa({}),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p:le,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Pr(l){let e,t;return e=new Oa({}),e.$on("navigate",l[16]),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p:le,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Rr(l){let e,t;return e=new Pa({props:{load:l[1]}}),e.$on("navigate",l[14]),e.$on("back",l[15]),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p(n,i){const o={};i&2&&(o.load=n[1]),e.$set(o)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Br(l){let e,t;return e=new wa({}),e.$on("navigate",l[13]),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p:le,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function Er(l){let e,t;return e=new Yi({}),e.$on("navigate",l[12]),{c(){Be(e.$$.fragment)},m(n,i){qe(e,n,i),t=!0},p:le,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){Pe(e,n)}}}function $r(l){let e,t,n=l[3]&&ci(l);return{c(){n&&n.c(),e=Ct()},m(i,o){n&&n.m(i,o),R(i,e,o),t=!0},p(i,[o]){i[3]?n?(n.p(i,o),o&8&&$(n,1)):(n=ci(i),n.c(),$(n,1),n.m(e.parentNode,e)):n&&(Se(),H(n,1,1,()=>{n=null}),De())},i(i){t||($(n),t=!0)},o(i){H(n),t=!1},d(i){i&&P(e),n&&n.d(i)}}}function zr(l,e,t){let n,i,o,a,r;ht(l,yt,D=>t(7,o=D)),ht(l,Tt,D=>t(8,a=D)),ht(l,Wt,D=>t(4,r=D));let c="standalone",f=null,p;function v(D){D.key==="Escape"&&(D.preventDefault(),m())}function m(){Tt.set(!1),Ri()}function b(D,S=null){D==="loadDetail"&&S&&t(1,f=S),yt.set(D)}rl(()=>{mi()&&(Tt.set(!0),qt.set({citizenid:"DEV123",name:"Dev Driver",reputationScore:650,reputationTier:"established",suspendedUntil:null,totalLoadsCompleted:42,totalLoadsFailed:2,totalLoadsStolen:0,totalDistanceDriven:1280,totalEarnings:87500,licenses:[{type:"class_b",status:"active"},{type:"class_a",status:"active"}],certifications:[{type:"bilkington_carrier",status:"active"}],leonAccess:!1})),p=bi((D,S)=>{switch(D){case"open":Tt.set(!0),t(0,c=S.mode||"standalone"),S.screen&&yt.set(S.screen);break;case"close":Tt.set(!1);break;case"setScreen":yt.set(S.screen),S.screen==="loadDetail"&&S.load&&t(1,f=S.load);break;case"updatePlayer":qt.set(S);break;case"updateActiveLoad":Wt.set(S);break;case"updateBoard":Rt.set(S);break;case"updateInsurance":el.set(S);break;case"updateCompany":Nt.set(S);break;case"updateHUD":jt.set(S);break;case"convoyUpdate":Bi.set(S);break;case"openCDLTest":bl.set(S),Yt.set(null),yt.set("cdlTest"),Tt.set(!0);break;case"openHazmatBriefing":gl.set(S),yt.set("hazmatBriefing"),Tt.set(!0);break;case"testResults":Yt.set(S);break;case"cdlTestResult":Yt.set(S);break;case"closeCDLTest":bl.set(null),gl.set(null),Yt.set(null),yt.set("home");break;case"profileData":qt.set(S);break;case"boardData":Rt.set(S);break;case"showBoard":Rt.set(S),yt.set("board"),Tt.set(!0);break;case"boardRefresh":Rt.set(S);break;case"reputationUpdate":qt.update(B=>({...B,...S}));break;case"loadDetail":t(1,f=S),yt.set("loadDetail");break;case"payoutBreakdown":Ei.set(S);break;case"insuranceData":el.set(S);break;case"insuranceStatus":el.update(B=>({...B,...S}));break;case"companyData":Nt.set(S);break;case"loadReserved":Wt.set(S);break;case"reservationCancelled":Wt.set(null);break;case"loadDetailResponse":t(1,f=S),yt.set("loadDetail");break;case"companyMemberUpdate":Nt.update(B=>({...B,members:S.members}));break;case"driverStatusUpdate":Nt.update(B=>({...B,driverStatus:S}));break;case"openDispatcherUI":Al.set(S),yt.set("dispatcher"),Tt.set(!0);break;case"closeDispatcherUI":Al.set(null),yt.set("home");break;case"companyActiveLoads":Nt.update(B=>({...B,activeLoads:S.loads||S}));break;case"companyMembers":Nt.update(B=>({...B,members:S.members||S}));break;case"driverStatus":Nt.update(B=>({...B,driverStatus:S}));break;case"tempStatus":jt.update(B=>({...B,temperature:S.temperature,tempInRange:S.inRange}));break;case"excursionUpdate":jt.update(B=>({...B,excursion:S}));break;case"excursionStarted":jt.update(B=>({...B,excursionActive:!0,excursion:S}));break;case"excursionEnded":jt.update(B=>({...B,excursionActive:!1,excursion:null}));break;case"excursionStatus":jt.update(B=>({...B,excursion:S}));break;case"welfareStatus":jt.update(B=>({...B,welfare:S}));break;case"showBOLDetail":Dl.set(S);break;case"hideBOLDetail":Dl.set(null);break;case"tutorialHUD":$i.set(S);break;case"credentials":qt.update(B=>({...B,...S}));break;case"openAdminPanel":At.update(B=>({...B,stats:S.stats||S})),yt.set("admin"),Tt.set(!0);break;case"adminServerStats":At.update(B=>({...B,stats:S}));break;case"adminActiveLoads":At.update(B=>({...B,activeLoads:S.loads||S}));break;case"adminActiveSurges":At.update(B=>({...B,activeSurges:S.surges||S}));break;case"adminBoardState":At.update(B=>({...B,boardState:S}));break;case"adminEconomySettings":At.update(B=>({...B,economySettings:S}));break;case"adminPendingClaims":At.update(B=>({...B,pendingClaims:S.claims||S}));break;case"adminPlayerProfile":At.update(B=>({...B,playerProfile:S}));break;case"closeAdminPanel":yt.set("home"),Tt.set(!1);break}}),window.addEventListener("keydown",v)}),kl(()=>{p&&p(),window.removeEventListener("keydown",v)});const g=()=>b("home"),y=()=>b("board"),L=()=>b("activeLoad"),k=D=>b(D.detail.screen,D.detail.data),h=D=>b(D.detail.screen,D.detail.data),C=D=>b(D.detail.screen,D.detail.data),w=()=>b("board"),A=D=>b(D.detail.screen,D.detail.data),M=D=>b(D.detail.screen,D.detail.data),N=D=>b(D.detail.screen,D.detail.data);return l.$$.update=()=>{l.$$.dirty&256&&t(3,n=a),l.$$.dirty&128&&t(2,i=o)},[c,f,i,n,r,m,b,o,a,g,y,L,k,h,C,w,A,M,N]}class jr extends mt{constructor(e){super(),_t(this,e,zr,$r,dt,{})}}new jr({target:document.getElementById("app")});
