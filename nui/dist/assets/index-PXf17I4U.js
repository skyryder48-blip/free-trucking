var Qn=Object.defineProperty;var Zn=(l,e,t)=>e in l?Qn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Yt=(l,e,t)=>Zn(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Y(){}function In(l){return l()}function rl(){return Object.create(null)}function rt(l){l.forEach(In)}function Un(l){return typeof l=="function"}function xe(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Xn(l){return Object.keys(l).length===0}function Yn(l,...e){if(l==null){for(const n of e)n(void 0);return Y}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ft(l,e,t){l.$$.on_destroy.push(Yn(e,t))}function ol(l){return l??""}function s(l,e){l.appendChild(e)}function D(l,e,t){l.insertBefore(e,t||null)}function q(l){l.parentNode&&l.parentNode.removeChild(l)}function kt(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function d(l){return document.createElement(l)}function xt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function S(l){return document.createTextNode(l)}function m(){return S(" ")}function Lt(){return S("")}function fe(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Tt(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function c(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function xn(l){return Array.from(l.childNodes)}function M(l,e){e=""+e,l.data!==e&&(l.data=e)}function mt(l,e){l.value=e??""}function Oe(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function Wt(l,e,t){for(let n=0;n<l.options.length;n+=1){const i=l.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function ul(l){const e=l.querySelector(":checked");return e&&e.__value}function J(l,e,t){l.classList.toggle(e,!!t)}function es(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}let Bt;function Rt(l){Bt=l}function nl(){if(!Bt)throw new Error("Function called outside component initialization");return Bt}function On(l){nl().$$.on_mount.push(l)}function Wn(l){nl().$$.on_destroy.push(l)}function Pt(){const l=nl();return(e,t,{cancelable:n=!1}={})=>{const i=l.$$.callbacks[e];if(i){const o=es(e,t,{cancelable:n});return i.slice().forEach(a=>{a.call(l,o)}),!o.defaultPrevented}return!0}}function Vt(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Dt=[],cl=[];let Et=[];const fl=[],ts=Promise.resolve();let ll=!1;function ls(){ll||(ll=!0,ts.then(Vn))}function zt(l){Et.push(l)}const el=new Set;let $t=0;function Vn(){if($t!==0)return;const l=Bt;do{try{for(;$t<Dt.length;){const e=Dt[$t];$t++,Rt(e),ns(e.$$)}}catch(e){throw Dt.length=0,$t=0,e}for(Rt(null),Dt.length=0,$t=0;cl.length;)cl.pop()();for(let e=0;e<Et.length;e+=1){const t=Et[e];el.has(t)||(el.add(t),t())}Et.length=0}while(Dt.length);for(;fl.length;)fl.pop()();ll=!1,el.clear(),Rt(l)}function ns(l){if(l.fragment!==null){l.update(),rt(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(zt)}}function ss(l){const e=[],t=[];Et.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Et=e}const Ot=new Set;let St;function he(){St={r:0,c:[],p:St}}function ke(){St.r||rt(St.c),St=St.p}function E(l,e){l&&l.i&&(Ot.delete(l),l.i(e))}function j(l,e,t,n){if(l&&l.o){if(Ot.has(l))return;Ot.add(l),St.c.push(()=>{Ot.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function Le(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function is(l,e){l.d(1),e.delete(l.key)}function Qt(l,e){j(l,1,1,()=>{e.delete(l.key)})}function It(l,e,t,n,i,o,a,r,u,f,p,v){let _=l.length,g=o.length,b=_;const h={};for(;b--;)h[l[b].key]=b;const L=[],k=new Map,C=new Map,w=[];for(b=g;b--;){const $=v(i,o,b),P=t($);let B=a.get(P);B?w.push(()=>B.p($,e)):(B=f(P,$),B.c()),k.set(P,L[b]=B),P in h&&C.set(P,Math.abs(b-h[P]))}const y=new Set,A=new Set;function T($){E($,1),$.m(r,p),a.set($.key,$),p=$.first,g--}for(;_&&g;){const $=L[g-1],P=l[_-1],B=$.key,Q=P.key;$===P?(p=$.first,_--,g--):k.has(Q)?!a.has(B)||y.has(B)?T($):A.has(Q)?_--:C.get(B)>C.get(Q)?(A.add(B),T($)):(y.add(Q),_--):(u(P,a),_--)}for(;_--;){const $=l[_];k.has($.key)||u($,a)}for(;g;)T(L[g-1]);return rt(w),L}function $e(l){l&&l.c()}function we(l,e,t){const{fragment:n,after_update:i}=l.$$;n&&n.m(e,t),zt(()=>{const o=l.$$.on_mount.map(In).filter(Un);l.$$.on_destroy?l.$$.on_destroy.push(...o):rt(o),l.$$.on_mount=[]}),i.forEach(zt)}function Ce(l,e){const t=l.$$;t.fragment!==null&&(ss(t.after_update),rt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function as(l,e){l.$$.dirty[0]===-1&&(Dt.push(l),ls(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ot(l,e,t,n,i,o,a=null,r=[-1]){const u=Bt;Rt(l);const f=l.$$={fragment:null,ctx:[],props:o,update:Y,not_equal:i,bound:rl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:rl(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};a&&a(f.root);let p=!1;if(f.ctx=t?t(l,e.props||{},(v,_,...g)=>{const b=g.length?g[0]:_;return f.ctx&&i(f.ctx[v],f.ctx[v]=b)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](b),p&&as(l,v)),_}):[],f.update(),p=!0,rt(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const v=xn(e.target);f.fragment&&f.fragment.l(v),v.forEach(q)}else f.fragment&&f.fragment.c();e.intro&&E(l.$$.fragment),we(l,e.target,e.anchor),Vn()}Rt(u)}class ut{constructor(){Yt(this,"$$");Yt(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=Y}$on(e,t){if(!Un(t))return Y;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Xn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rs="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rs);function Hn(){return!window.invokeNative}async function Mt(l,e={}){if(Hn())return{};const t=`https://trucking/${l}`;return await(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)})).json()}function os(l){function e(t){const{action:n,...i}=t.data;n&&l(n,i)}return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}function us(){Mt("close")}const qt=[];function yt(l,e=Y){let t;const n=new Set;function i(r){if(xe(l,r)&&(l=r,t)){const u=!qt.length;for(const f of n)f[1](),qt.push(f,l);if(u){for(let f=0;f<qt.length;f+=2)qt[f][0](qt[f+1]);qt.length=0}}}function o(r){i(r(l))}function a(r,u=Y){const f=[r,u];return n.add(f),n.size===1&&(t=e(i,o)||Y),r(l),()=>{n.delete(f),n.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:a}}const Ut=yt("home"),Ft=yt({citizenid:"",name:"",reputationScore:500,reputationTier:"developing",suspendedUntil:null,totalLoadsCompleted:0,totalLoadsFailed:0,totalLoadsStolen:0,totalDistanceDriven:0,totalEarnings:0,licenses:[],certifications:[],leonAccess:!1}),Ht=yt(null),sl=yt({standard:[],supplier:[],open:[],routes:[]}),Gn=yt({policies:[],availablePlans:[]}),cs=yt({company:null,members:[],activeClaims:[]}),fs=yt({visible:!1,bolNumber:"",cargoType:"",destination:"",distanceRemaining:0,timeRemaining:0,temperature:null,tempInRange:!0,integrity:100,sealStatus:"not_applied",borderState:"normal"}),ds=yt({active:!1,convoyId:null,leader:null,members:[],bonusPercentage:0}),Nt=yt(!1);function ps(l){let e,t,n;return{c(){e=d("span"),t=S(l[3]),c(e,"class",n=ol(l[1])+" svelte-17m5jgh"),c(e,"title",l[2]),J(e,"badge-small",l[0]==="small")},m(i,o){D(i,e,o),s(e,t)},p(i,[o]){o&8&&M(t,i[3]),o&2&&n!==(n=ol(i[1])+" svelte-17m5jgh")&&c(e,"class",n),o&4&&c(e,"title",i[2]),o&3&&J(e,"badge-small",i[0]==="small")},i:Y,o:Y,d(i){i&&q(e)}}}function vs(l,e,t){let n,i,o,{tier:a=0}=e,{size:r="default"}=e;const u={0:"T0",1:"T1",2:"T2",3:"T3"},f={0:"Entry",1:"Standard",2:"Specialized",3:"Premium"};return l.$$set=p=>{"tier"in p&&t(4,a=p.tier),"size"in p&&t(0,r=p.size)},l.$$.update=()=>{l.$$.dirty&16&&t(3,n=u[a]||"T0"),l.$$.dirty&16&&t(2,i=f[a]||"Entry"),l.$$.dirty&16&&t(1,o=`badge badge-t${a}`)},[r,o,i,n,a]}class Zt extends ut{constructor(e){super(),ot(this,e,vs,ps,xe,{tier:4,size:0})}}function _s(l){let e,t,n;return{c(){e=d("span"),t=S(l[1]),c(e,"class",n="status-badge "+l[0].cssClass+" svelte-zwfd9g")},m(i,o){D(i,e,o),s(e,t)},p(i,[o]){o&2&&M(t,i[1]),o&1&&n!==(n="status-badge "+i[0].cssClass+" svelte-zwfd9g")&&c(e,"class",n)},i:Y,o:Y,d(i){i&&q(e)}}}function ms(l,e,t){let n,i,{status:o="inactive"}=e,{label:a=""}=e;const r={sealed:{text:"Sealed",cssClass:"status-sealed"},broken:{text:"Broken",cssClass:"status-broken"},active:{text:"Active",cssClass:"status-active"},expired:{text:"Expired",cssClass:"status-expired"},not_applied:{text:"Not Applied",cssClass:"status-not-applied"},warning:{text:"Warning",cssClass:"status-warning"},critical:{text:"Critical",cssClass:"status-critical"},inactive:{text:"Inactive",cssClass:"status-inactive"},rejected:{text:"Rejected",cssClass:"status-rejected"},suspended:{text:"Suspended",cssClass:"status-suspended"},in_transit:{text:"In Transit",cssClass:"status-active"},at_origin:{text:"At Origin",cssClass:"status-active"},at_destination:{text:"At Dest",cssClass:"status-active"},completed:{text:"Completed",cssClass:"status-sealed"},distress_active:{text:"Distress",cssClass:"status-critical"}};return l.$$set=u=>{"status"in u&&t(2,o=u.status),"label"in u&&t(3,a=u.label)},l.$$.update=()=>{l.$$.dirty&4&&t(0,n=r[o]||r.inactive),l.$$.dirty&9&&t(1,i=a||n.text)},[n,i,o,a]}class bt extends ut{constructor(e){super(),ot(this,e,ms,_s,xe,{status:2,label:3})}}function dl(l){let e;return{c(){e=d("span"),e.textContent="Time Remaining",c(e,"class","countdown-label svelte-wmne0m")},m(t,n){D(t,e,n)},d(t){t&&q(e)}}}function pl(l){let e;return{c(){e=d("span"),e.textContent="Expired",c(e,"class","countdown-expired-label svelte-wmne0m")},m(t,n){D(t,e,n)},d(t){t&&q(e)}}}function bs(l){let e,t,n,i,o,a=l[1]&&dl(),r=l[2]==="expired"&&pl();return{c(){e=d("div"),a&&a.c(),t=m(),n=d("span"),i=S(l[3]),o=m(),r&&r.c(),c(n,"class","countdown-value mono svelte-wmne0m"),c(e,"class","countdown svelte-wmne0m"),J(e,"countdown-large",l[0]),J(e,"state-warning",l[2]==="warning"),J(e,"state-critical",l[2]==="critical"),J(e,"state-expired",l[2]==="expired")},m(u,f){D(u,e,f),a&&a.m(e,null),s(e,t),s(e,n),s(n,i),s(e,o),r&&r.m(e,null)},p(u,[f]){u[1]?a||(a=dl(),a.c(),a.m(e,t)):a&&(a.d(1),a=null),f&8&&M(i,u[3]),u[2]==="expired"?r||(r=pl(),r.c(),r.m(e,null)):r&&(r.d(1),r=null),f&1&&J(e,"countdown-large",u[0]),f&4&&J(e,"state-warning",u[2]==="warning"),f&4&&J(e,"state-critical",u[2]==="critical"),f&4&&J(e,"state-expired",u[2]==="expired")},i:Y,o:Y,d(u){u&&q(e),a&&a.d(),r&&r.d()}}}function gs(l,e,t){const n=i=>String(i).padStart(2,"0");return l>0?`${l}:${n(e)}:${n(t)}`:`${n(e)}:${n(t)}`}function hs(l,e,t){let n,i,o,a,r,{targetTime:u=0}=e,{warningMinutes:f=15}=e,{criticalMinutes:p=5}=e,{large:v=!1}=e,{showLabel:_=!0}=e,g=0,b;function h(k){return k<=0?"expired":k<=p*60?"critical":k<=f*60?"warning":"normal"}function L(){const k=Math.floor(Date.now()/1e3);t(7,g=Math.max(0,u-k))}return On(()=>{L(),b=setInterval(L,1e3)}),Wn(()=>{b&&clearInterval(b)}),l.$$set=k=>{"targetTime"in k&&t(4,u=k.targetTime),"warningMinutes"in k&&t(5,f=k.warningMinutes),"criticalMinutes"in k&&t(6,p=k.criticalMinutes),"large"in k&&t(0,v=k.large),"showLabel"in k&&t(1,_=k.showLabel)},l.$$.update=()=>{l.$$.dirty&128&&t(10,n=Math.floor(g/3600)),l.$$.dirty&128&&t(9,i=Math.floor(g%3600/60)),l.$$.dirty&128&&t(8,o=g%60),l.$$.dirty&1792&&t(3,a=gs(n,i,o)),l.$$.dirty&128&&t(2,r=h(g))},[v,_,r,a,u,f,p,g,o,i,n]}class Kn extends ut{constructor(e){super(),ot(this,e,hs,bs,xe,{targetTime:4,warningMinutes:5,criticalMinutes:6,large:0,showLabel:1})}}function vl(l){let e,t;return{c(){e=d("span"),t=S(l[3]),c(e,"class","ring-label svelte-am61xn")},m(n,i){D(n,e,i),s(e,t)},p(n,i){i&8&&M(t,n[3])},d(n){n&&q(e)}}}function ks(l){let e,t,n,i,o,a,r,u,f,p,v,_,g,b=Math.round(l[0])+"",h,L,k=l[3]&&vl(l);return{c(){e=d("div"),t=xt("svg"),n=xt("circle"),a=xt("circle"),v=m(),_=d("div"),g=d("span"),h=S(b),L=m(),k&&k.c(),c(n,"cx",i=l[1]/2),c(n,"cy",o=l[1]/2),c(n,"r",l[5]),c(n,"fill","none"),c(n,"stroke","var(--navy-dark)"),c(n,"stroke-width",l[2]),c(a,"cx",r=l[1]/2),c(a,"cy",u=l[1]/2),c(a,"r",l[5]),c(a,"fill","none"),c(a,"stroke",l[6]),c(a,"stroke-width",l[2]),c(a,"stroke-linecap","round"),c(a,"stroke-dasharray",l[4]),c(a,"stroke-dashoffset",l[7]),c(a,"transform",f="rotate(-90 "+l[1]/2+" "+l[1]/2+")"),c(a,"class","progress-arc svelte-am61xn"),c(t,"width",l[1]),c(t,"height",l[1]),c(t,"viewBox",p="0 0 "+l[1]+" "+l[1]),c(t,"class","svelte-am61xn"),c(g,"class","ring-value mono svelte-am61xn"),Oe(g,"color",l[6]),c(_,"class","ring-content svelte-am61xn"),c(e,"class","progress-ring svelte-am61xn"),Oe(e,"width",l[1]+"px"),Oe(e,"height",l[1]+"px")},m(C,w){D(C,e,w),s(e,t),s(t,n),s(t,a),s(e,v),s(e,_),s(_,g),s(g,h),s(_,L),k&&k.m(_,null)},p(C,[w]){w&2&&i!==(i=C[1]/2)&&c(n,"cx",i),w&2&&o!==(o=C[1]/2)&&c(n,"cy",o),w&32&&c(n,"r",C[5]),w&4&&c(n,"stroke-width",C[2]),w&2&&r!==(r=C[1]/2)&&c(a,"cx",r),w&2&&u!==(u=C[1]/2)&&c(a,"cy",u),w&32&&c(a,"r",C[5]),w&64&&c(a,"stroke",C[6]),w&4&&c(a,"stroke-width",C[2]),w&16&&c(a,"stroke-dasharray",C[4]),w&128&&c(a,"stroke-dashoffset",C[7]),w&2&&f!==(f="rotate(-90 "+C[1]/2+" "+C[1]/2+")")&&c(a,"transform",f),w&2&&c(t,"width",C[1]),w&2&&c(t,"height",C[1]),w&2&&p!==(p="0 0 "+C[1]+" "+C[1])&&c(t,"viewBox",p),w&1&&b!==(b=Math.round(C[0])+"")&&M(h,b),w&64&&Oe(g,"color",C[6]),C[3]?k?k.p(C,w):(k=vl(C),k.c(),k.m(_,null)):k&&(k.d(1),k=null),w&2&&Oe(e,"width",C[1]+"px"),w&2&&Oe(e,"height",C[1]+"px")},i:Y,o:Y,d(C){C&&q(e),k&&k.d()}}}function ys(l,e,t){let n,i,o,a,r,{value:u=100}=e,{max:f=100}=e,{size:p=64}=e,{strokeWidth:v=5}=e,{label:_=""}=e,{variant:g="default"}=e,{warningThreshold:b=60}=e,{criticalThreshold:h=40}=e;function L(k,C){return C==="integrity"||C==="default"||C==="temperature"?k<=h?"var(--orange)":k<=b?"var(--warning)":"var(--success)":"var(--orange)"}return l.$$set=k=>{"value"in k&&t(0,u=k.value),"max"in k&&t(8,f=k.max),"size"in k&&t(1,p=k.size),"strokeWidth"in k&&t(2,v=k.strokeWidth),"label"in k&&t(3,_=k.label),"variant"in k&&t(9,g=k.variant),"warningThreshold"in k&&t(10,b=k.warningThreshold),"criticalThreshold"in k&&t(11,h=k.criticalThreshold)},l.$$.update=()=>{l.$$.dirty&257&&t(12,n=Math.max(0,Math.min(100,u/f*100))),l.$$.dirty&6&&t(5,i=(p-v)/2),l.$$.dirty&32&&t(4,o=2*Math.PI*i),l.$$.dirty&4112&&t(7,a=o-n/100*o),l.$$.dirty&4608&&t(6,r=L(n,g))},[u,p,v,_,o,i,r,a,f,g,b,h,n]}class Jn extends ut{constructor(e){super(),ot(this,e,ys,ks,xe,{value:0,max:8,size:1,strokeWidth:2,label:3,variant:9,warningThreshold:10,criticalThreshold:11})}}function _l(l,e,t){const n=l.slice();return n[17]=e[t],n}function ml(l,e,t){const n=l.slice();return n[20]=e[t],n}function bl(l){let e,t,n,i,o,a,r,u,f,p,v,_=(l[3].bolNumber||"—")+"",g,b,h,L=(l[3].cargoType||"Cargo")+"",k,C,w,y=(l[3].destinationLabel||"—")+"",A,T,$,P,B,Q,ne,se,H,R;o=new bt({props:{status:l[3].status||"in_transit"}});let O=l[3].windowExpiresAt&&gl(l);return B=new Jn({props:{value:l[3].cargoIntegrity??100,label:"%",size:52,strokeWidth:4,variant:"integrity"}}),{c(){e=d("div"),t=d("div"),n=d("h3"),n.textContent="Active Load",i=m(),$e(o.$$.fragment),a=m(),r=d("div"),u=d("div"),f=d("div"),p=d("span"),v=S("BOL #"),g=S(_),b=m(),h=d("span"),k=S(L),C=m(),w=d("span"),A=S(y),T=m(),$=d("div"),O&&O.c(),P=m(),$e(B.$$.fragment),Q=m(),ne=d("button"),ne.textContent="View Active Load",c(n,"class","card-title"),c(t,"class","card-header"),c(p,"class","bol-number mono svelte-1b4ep7"),c(h,"class","cargo-label svelte-1b4ep7"),c(w,"class","dest-label text-muted svelte-1b4ep7"),c(f,"class","active-load-info svelte-1b4ep7"),c($,"class","active-load-meters svelte-1b4ep7"),c(u,"class","active-load-top svelte-1b4ep7"),c(ne,"class","btn btn-primary btn-sm"),c(r,"class","card-body"),c(e,"class","card active-load-card svelte-1b4ep7")},m(U,G){D(U,e,G),s(e,t),s(t,n),s(t,i),we(o,t,null),s(e,a),s(e,r),s(r,u),s(u,f),s(f,p),s(p,v),s(p,g),s(f,b),s(f,h),s(h,k),s(f,C),s(f,w),s(w,A),s(u,T),s(u,$),O&&O.m($,null),s($,P),we(B,$,null),s(r,Q),s(r,ne),se=!0,H||(R=fe(ne,"click",l[12]),H=!0)},p(U,G){const V={};G&8&&(V.status=U[3].status||"in_transit"),o.$set(V),(!se||G&8)&&_!==(_=(U[3].bolNumber||"—")+"")&&M(g,_),(!se||G&8)&&L!==(L=(U[3].cargoType||"Cargo")+"")&&M(k,L),(!se||G&8)&&y!==(y=(U[3].destinationLabel||"—")+"")&&M(A,y),U[3].windowExpiresAt?O?(O.p(U,G),G&8&&E(O,1)):(O=gl(U),O.c(),E(O,1),O.m($,P)):O&&(he(),j(O,1,1,()=>{O=null}),ke());const ee={};G&8&&(ee.value=U[3].cargoIntegrity??100),B.$set(ee)},i(U){se||(E(o.$$.fragment,U),E(O),E(B.$$.fragment,U),se=!0)},o(U){j(o.$$.fragment,U),j(O),j(B.$$.fragment,U),se=!1},d(U){U&&q(e),Ce(o),O&&O.d(),Ce(B),H=!1,R()}}}function gl(l){let e,t;return e=new Kn({props:{targetTime:l[3].windowExpiresAt}}),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p(n,i){const o={};i&8&&(o.targetTime=n[3].windowExpiresAt),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function hl(l){let e,t,n,i,o,a=Le(l[4].licenses),r=[];for(let f=0;f<a.length;f+=1)r[f]=kl(ml(l,a,f));const u=f=>j(r[f],1,1,()=>{r[f]=null});return{c(){e=d("div"),t=d("span"),t.textContent="Licenses",n=m(),i=d("div");for(let f=0;f<r.length;f+=1)r[f].c();c(t,"class","section-label svelte-1b4ep7"),c(i,"class","license-list svelte-1b4ep7"),c(e,"class","standing-licenses svelte-1b4ep7")},m(f,p){D(f,e,p),s(e,t),s(e,n),s(e,i);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(i,null);o=!0},p(f,p){if(p&16){a=Le(f[4].licenses);let v;for(v=0;v<a.length;v+=1){const _=ml(f,a,v);r[v]?(r[v].p(_,p),E(r[v],1)):(r[v]=kl(_),r[v].c(),E(r[v],1),r[v].m(i,null))}for(he(),v=a.length;v<r.length;v+=1)u(v);ke()}},i(f){if(!o){for(let p=0;p<a.length;p+=1)E(r[p]);o=!0}},o(f){r=r.filter(Boolean);for(let p=0;p<r.length;p+=1)j(r[p]);o=!1},d(f){f&&q(e),kt(r,f)}}}function kl(l){var f;let e,t,n=((f=l[20].type)==null?void 0:f.replace("_"," ").toUpperCase())+"",i,o,a,r,u;return a=new bt({props:{status:l[20].status}}),{c(){e=d("div"),t=d("span"),i=S(n),o=m(),$e(a.$$.fragment),r=m(),c(t,"class","license-type svelte-1b4ep7"),c(e,"class","license-item svelte-1b4ep7")},m(p,v){D(p,e,v),s(e,t),s(t,i),s(e,o),we(a,e,null),s(e,r),u=!0},p(p,v){var g;(!u||v&16)&&n!==(n=((g=p[20].type)==null?void 0:g.replace("_"," ").toUpperCase())+"")&&M(i,n);const _={};v&16&&(_.status=p[20].status),a.$set(_)},i(p){u||(E(a.$$.fragment,p),u=!0)},o(p){j(a.$$.fragment,p),u=!1},d(p){p&&q(e),Ce(a)}}}function ws(l){let e,t;return e=new bt({props:{status:"inactive",label:"No Policy"}}),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function Cs(l){let e,t;return e=new bt({props:{status:"active"}}),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function Ls(l){let e;return{c(){e=d("p"),e.textContent="No active insurance policy. Consider purchasing coverage before your next haul.",c(e,"class","text-muted"),Oe(e,"font-size","13px")},m(t,n){D(t,e,n)},p:Y,d(t){t&&q(e)}}}function Ss(l){let e,t,n=(l[2].policyType||"Standard")+"",i,o,a=l[2].expiresAt&&yl(l);return{c(){e=d("div"),t=d("span"),i=S(n),o=m(),a&&a.c(),c(t,"class","insurance-type svelte-1b4ep7"),c(e,"class","insurance-info svelte-1b4ep7")},m(r,u){D(r,e,u),s(e,t),s(t,i),s(e,o),a&&a.m(e,null)},p(r,u){u&4&&n!==(n=(r[2].policyType||"Standard")+"")&&M(i,n),r[2].expiresAt?a?a.p(r,u):(a=yl(r),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(r){r&&q(e),a&&a.d()}}}function yl(l){let e,t,n,i=new Date(l[2].expiresAt*1e3).toLocaleDateString()+"",o;return{c(){e=d("span"),t=S("Expires: "),n=d("span"),o=S(i),c(n,"class","mono"),c(e,"class","insurance-expiry text-muted svelte-1b4ep7")},m(a,r){D(a,e,r),s(e,t),s(e,n),s(n,o)},p(a,r){r&4&&i!==(i=new Date(a[2].expiresAt*1e3).toLocaleDateString()+"")&&M(o,i)},d(a){a&&q(e)}}}function wl(l){let e,t,n,i,o=l[0][l[17]]+"",a,r,u;return t=new Zt({props:{tier:l[17],size:"small"}}),{c(){e=d("div"),$e(t.$$.fragment),n=m(),i=d("span"),a=S(o),r=m(),c(i,"class","tier-count-value mono svelte-1b4ep7"),c(e,"class","tier-count-item svelte-1b4ep7")},m(f,p){D(f,e,p),we(t,e,null),s(e,n),s(e,i),s(i,a),s(e,r),u=!0},p(f,p){(!u||p&1)&&o!==(o=f[0][f[17]]+"")&&M(a,o)},i(f){u||(E(t.$$.fragment,f),u=!0)},o(f){j(t.$$.fragment,f),u=!1},d(f){f&&q(e),Ce(t)}}}function Ts(l){var wt,Ye;let e,t,n,i,o,a,r,u=Ll(l[4].reputationTier)+"",f,p,v,_,g,b,h,L,k=l[4].reputationScore+"",C,w,y,A,T,$,P=l[4].totalLoadsCompleted+"",B,Q,ne,se,H,R,O=Cl(l[4].totalEarnings)+"",U,G,V,ee,re,x,te=(((wt=l[4].totalDistanceDriven)==null?void 0:wt.toLocaleString())||"0")+"",Z,z,F,W,X,le,Se,ue,ae,ve,Ie,ye,et,oe,de,Be,dt,tt,We,gt,pt,De,ze,Ke,Je,vt,Ne,Ve,Qe,He,Ze,lt,qe=l[3]&&bl(l),Me=((Ye=l[4].licenses)==null?void 0:Ye.length)>0&&hl(l);const nt=[Cs,ws],Ge=[];function st(K,_e){return K[2]?0:1}ae=st(l),ve=Ge[ae]=nt[ae](l);function Xe(K,_e){return K[2]?Ss:Ls}let it=Xe(l),Re=it(l),ht=Le([0,1,2,3]),ce=[];for(let K=0;K<4;K+=1)ce[K]=wl(_l(l,ht,K));const ct=K=>j(ce[K],1,1,()=>{ce[K]=null});return{c(){e=d("div"),qe&&qe.c(),t=m(),n=d("div"),i=d("div"),o=d("h3"),o.textContent="Driver Standing",a=m(),r=d("span"),f=S(u),p=m(),v=d("div"),_=d("div"),g=d("div"),b=d("span"),b.textContent="Reputation",h=m(),L=d("span"),C=S(k),w=m(),y=d("div"),A=d("span"),A.textContent="Total Deliveries",T=m(),$=d("span"),B=S(P),Q=m(),ne=d("div"),se=d("span"),se.textContent="Total Earnings",H=m(),R=d("span"),U=S(O),G=m(),V=d("div"),ee=d("span"),ee.textContent="Distance Driven",re=m(),x=d("span"),Z=S(te),z=S(" mi"),F=m(),Me&&Me.c(),W=m(),X=d("div"),le=d("div"),Se=d("h3"),Se.textContent="Insurance",ue=m(),ve.c(),Ie=m(),ye=d("div"),Re.c(),et=m(),oe=d("div"),de=d("div"),Be=d("h3"),Be.textContent="Available Loads",dt=m(),tt=d("span"),We=S(l[1]),gt=m(),pt=d("div"),De=d("div");for(let K=0;K<4;K+=1)ce[K].c();ze=m(),Ke=d("div"),Je=d("button"),Je.textContent="View Board",vt=m(),Ne=d("button"),Ne.textContent="View Profile",Ve=m(),Qe=d("button"),Qe.textContent="Buy Insurance",c(o,"class","card-title"),c(r,"class","rep-tier-badge heading svelte-1b4ep7"),c(i,"class","card-header"),c(b,"class","stat-label svelte-1b4ep7"),c(L,"class","stat-value mono svelte-1b4ep7"),c(g,"class","stat-item svelte-1b4ep7"),c(A,"class","stat-label svelte-1b4ep7"),c($,"class","stat-value mono svelte-1b4ep7"),c(y,"class","stat-item svelte-1b4ep7"),c(se,"class","stat-label svelte-1b4ep7"),c(R,"class","stat-value mono svelte-1b4ep7"),c(ne,"class","stat-item svelte-1b4ep7"),c(ee,"class","stat-label svelte-1b4ep7"),c(x,"class","stat-value mono svelte-1b4ep7"),c(V,"class","stat-item svelte-1b4ep7"),c(_,"class","standing-stats svelte-1b4ep7"),c(v,"class","card-body"),c(n,"class","card standing-card"),c(Se,"class","card-title"),c(le,"class","card-header"),c(ye,"class","card-body"),c(X,"class","card insurance-card"),c(Be,"class","card-title"),c(tt,"class","board-count mono svelte-1b4ep7"),c(de,"class","card-header"),c(De,"class","tier-counts svelte-1b4ep7"),c(pt,"class","card-body"),c(oe,"class","card board-summary-card"),c(Je,"class","btn btn-primary svelte-1b4ep7"),c(Ne,"class","btn btn-secondary svelte-1b4ep7"),c(Qe,"class","btn btn-secondary svelte-1b4ep7"),c(Ke,"class","quick-actions svelte-1b4ep7"),c(e,"class","home-screen svelte-1b4ep7")},m(K,_e){D(K,e,_e),qe&&qe.m(e,null),s(e,t),s(e,n),s(n,i),s(i,o),s(i,a),s(i,r),s(r,f),s(n,p),s(n,v),s(v,_),s(_,g),s(g,b),s(g,h),s(g,L),s(L,C),s(_,w),s(_,y),s(y,A),s(y,T),s(y,$),s($,B),s(_,Q),s(_,ne),s(ne,se),s(ne,H),s(ne,R),s(R,U),s(_,G),s(_,V),s(V,ee),s(V,re),s(V,x),s(x,Z),s(x,z),s(v,F),Me&&Me.m(v,null),s(e,W),s(e,X),s(X,le),s(le,Se),s(le,ue),Ge[ae].m(le,null),s(X,Ie),s(X,ye),Re.m(ye,null),s(e,et),s(e,oe),s(oe,de),s(de,Be),s(de,dt),s(de,tt),s(tt,We),s(oe,gt),s(oe,pt),s(pt,De);for(let me=0;me<4;me+=1)ce[me]&&ce[me].m(De,null);s(e,ze),s(e,Ke),s(Ke,Je),s(Ke,vt),s(Ke,Ne),s(Ke,Ve),s(Ke,Qe),He=!0,Ze||(lt=[fe(Je,"click",l[13]),fe(Ne,"click",l[14]),fe(Qe,"click",l[15])],Ze=!0)},p(K,[_e]){var be,Pe;K[3]?qe?(qe.p(K,_e),_e&8&&E(qe,1)):(qe=bl(K),qe.c(),E(qe,1),qe.m(e,t)):qe&&(he(),j(qe,1,1,()=>{qe=null}),ke()),(!He||_e&16)&&u!==(u=Ll(K[4].reputationTier)+"")&&M(f,u),(!He||_e&16)&&k!==(k=K[4].reputationScore+"")&&M(C,k),(!He||_e&16)&&P!==(P=K[4].totalLoadsCompleted+"")&&M(B,P),(!He||_e&16)&&O!==(O=Cl(K[4].totalEarnings)+"")&&M(U,O),(!He||_e&16)&&te!==(te=(((be=K[4].totalDistanceDriven)==null?void 0:be.toLocaleString())||"0")+"")&&M(Z,te),((Pe=K[4].licenses)==null?void 0:Pe.length)>0?Me?(Me.p(K,_e),_e&16&&E(Me,1)):(Me=hl(K),Me.c(),E(Me,1),Me.m(v,null)):Me&&(he(),j(Me,1,1,()=>{Me=null}),ke());let me=ae;if(ae=st(K),ae!==me&&(he(),j(Ge[me],1,1,()=>{Ge[me]=null}),ke(),ve=Ge[ae],ve||(ve=Ge[ae]=nt[ae](K),ve.c()),E(ve,1),ve.m(le,null)),it===(it=Xe(K))&&Re?Re.p(K,_e):(Re.d(1),Re=it(K),Re&&(Re.c(),Re.m(ye,null))),(!He||_e&2)&&M(We,K[1]),_e&1){ht=Le([0,1,2,3]);let pe;for(pe=0;pe<4;pe+=1){const Ae=_l(K,ht,pe);ce[pe]?(ce[pe].p(Ae,_e),E(ce[pe],1)):(ce[pe]=wl(Ae),ce[pe].c(),E(ce[pe],1),ce[pe].m(De,null))}for(he(),pe=4;pe<4;pe+=1)ct(pe);ke()}},i(K){if(!He){E(qe),E(Me),E(ve);for(let _e=0;_e<4;_e+=1)E(ce[_e]);He=!0}},o(K){j(qe),j(Me),j(ve),ce=ce.filter(Boolean);for(let _e=0;_e<4;_e+=1)j(ce[_e]);He=!1},d(K){K&&q(e),qe&&qe.d(),Me&&Me.d(),Ge[ae].d(),Re.d(),kt(ce,K),Ze=!1,rt(lt)}}}function Cl(l){return l==null?"$0":"$"+Number(l).toLocaleString("en-US")}function Ll(l){return{suspended:"Suspended",restricted:"Restricted",probationary:"Probationary",developing:"Developing",established:"Established",professional:"Professional",elite:"Elite"}[l]||l}function $s(l,e,t){let n,i,o,a,r,u,f,p,v,_,g;ft(l,sl,y=>t(8,p=y)),ft(l,Gn,y=>t(9,v=y)),ft(l,Ht,y=>t(10,_=y)),ft(l,Ft,y=>t(11,g=y));const b=Pt();function h(y,A=null){b("navigate",{screen:y,data:A})}const L=()=>h("activeLoad"),k=()=>h("board"),C=()=>h("profile"),w=()=>h("insurance");return l.$$.update=()=>{var y;l.$$.dirty&2048&&t(4,n=g),l.$$.dirty&1024&&t(3,i=_),l.$$.dirty&512&&t(7,o=v),l.$$.dirty&256&&t(6,a=p),l.$$.dirty&128&&t(2,r=((y=o.policies)==null?void 0:y.find(A=>A.status==="active"))||null),l.$$.dirty&64&&t(0,u=(()=>{const A=a.standard||[],T={0:0,1:0,2:0,3:0};return A.forEach($=>{T[$.tier]!==void 0&&T[$.tier]++}),T})()),l.$$.dirty&1&&t(1,f=Object.values(u).reduce((A,T)=>A+T,0))},[u,f,r,i,n,h,a,o,p,v,_,g,L,k,C,w]}class qs extends ut{constructor(e){super(),ot(this,e,$s,Ts,xe,{})}}function Sl(l,e,t){const n=l.slice();return n[5]=e[t],n}function Tl(l){let e,t=l[5].count+"",n;return{c(){e=d("span"),n=S(t),c(e,"class","tab-count mono svelte-1wvtizk")},m(i,o){D(i,e,o),s(e,n)},p(i,o){o&1&&t!==(t=i[5].count+"")&&M(n,t)},d(i){i&&q(e)}}}function $l(l,e){let t,n=e[5].label+"",i,o,a,r,u,f=e[5].count!==void 0&&Tl(e);function p(){return e[3](e[5])}return{key:l,first:null,c(){t=d("button"),i=S(n),o=m(),f&&f.c(),a=m(),c(t,"class","tab-item svelte-1wvtizk"),J(t,"tab-active",e[1]===e[5].id),this.first=t},m(v,_){D(v,t,_),s(t,i),s(t,o),f&&f.m(t,null),s(t,a),r||(u=fe(t,"click",p),r=!0)},p(v,_){e=v,_&1&&n!==(n=e[5].label+"")&&M(i,n),e[5].count!==void 0?f?f.p(e,_):(f=Tl(e),f.c(),f.m(t,a)):f&&(f.d(1),f=null),_&3&&J(t,"tab-active",e[1]===e[5].id)},d(v){v&&q(t),f&&f.d(),r=!1,u()}}}function Ds(l){let e,t=[],n=new Map,i=Le(l[0]);const o=a=>a[5].id;for(let a=0;a<i.length;a+=1){let r=Sl(l,i,a),u=o(r);n.set(u,t[a]=$l(u,r))}return{c(){e=d("div");for(let a=0;a<t.length;a+=1)t[a].c();c(e,"class","tab-bar svelte-1wvtizk")},m(a,r){D(a,e,r);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null)},p(a,[r]){r&7&&(i=Le(a[0]),t=It(t,r,o,1,a,i,n,e,is,$l,null,Sl))},i:Y,o:Y,d(a){a&&q(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Es(l,e,t){let{tabs:n=[]}=e,{activeTab:i=""}=e;const o=Pt();function a(u){o("tabChange",{tab:u})}const r=u=>a(u.id);return l.$$set=u=>{"tabs"in u&&t(0,n=u.tabs),"activeTab"in u&&t(1,i=u.activeTab)},[n,i,a,r]}class Ms extends ut{constructor(e){super(),ot(this,e,Es,Ds,xe,{tabs:0,activeTab:1})}}function ql(l,e,t){const n=l.slice();return n[5]=e[t],n}function Dl(l){var g;let e,t,n,i,o,a,r,u,f=At((g=l[0])==null?void 0:g.totalEstimated)+"",p,v=Le(l[2]),_=[];for(let b=0;b<v.length;b+=1)_[b]=Ml(ql(l,v,b));return{c(){e=d("div");for(let b=0;b<_.length;b+=1)_[b].c();t=m(),n=d("div"),i=m(),o=d("div"),a=d("span"),a.textContent="Total Estimated",r=m(),u=d("span"),p=S(f),c(n,"class","payout-divider svelte-klj94l"),c(a,"class","payout-line-label svelte-klj94l"),c(u,"class","payout-line-value payout-figure mono svelte-klj94l"),c(o,"class","payout-line payout-total-line svelte-klj94l"),c(e,"class","payout-body fade-in svelte-klj94l")},m(b,h){D(b,e,h);for(let L=0;L<_.length;L+=1)_[L]&&_[L].m(e,null);s(e,t),s(e,n),s(e,i),s(e,o),s(o,a),s(o,r),s(o,u),s(u,p)},p(b,h){var L;if(h&4){v=Le(b[2]);let k;for(k=0;k<v.length;k+=1){const C=ql(b,v,k);_[k]?_[k].p(C,h):(_[k]=Ml(C),_[k].c(),_[k].m(e,t))}for(;k<_.length;k+=1)_[k].d(1);_.length=v.length}h&1&&f!==(f=At((L=b[0])==null?void 0:L.totalEstimated)+"")&&M(p,f)},d(b){b&&q(e),kt(_,b)}}}function El(l){let e,t=At(l[5].value)+"",n;return{c(){e=d("span"),n=S(t),c(e,"class","payout-line-value mono svelte-klj94l")},m(i,o){D(i,e,o),s(e,n)},p(i,o){o&4&&t!==(t=At(i[5].value)+"")&&M(n,t)},d(i){i&&q(e)}}}function Ml(l){let e,t,n=l[5].label+"",i,o,a=l[5].value!=null&&El(l);return{c(){e=d("div"),t=d("span"),i=S(n),o=m(),a&&a.c(),c(t,"class","payout-line-label svelte-klj94l"),c(e,"class","payout-line svelte-klj94l"),J(e,"surge-line",l[5].type==="surge")},m(r,u){D(r,e,u),s(e,t),s(t,i),s(e,o),a&&a.m(e,null)},p(r,u){u&4&&n!==(n=r[5].label+"")&&M(i,n),r[5].value!=null?a?a.p(r,u):(a=El(r),a.c(),a.m(e,null)):a&&(a.d(1),a=null),u&4&&J(e,"surge-line",r[5].type==="surge")},d(r){r&&q(e),a&&a.d()}}}function As(l){var k;let e,t,n,i,o,a,r=At((k=l[0])==null?void 0:k.totalEstimated)+"",u,f,p,v=l[1]?"▲":"▼",_,g,b,h,L=l[1]&&Dl(l);return{c(){e=d("div"),t=d("button"),n=d("span"),n.textContent="Payout Breakdown",i=m(),o=d("div"),a=d("span"),u=S(r),f=m(),p=d("span"),_=S(v),g=m(),L&&L.c(),c(n,"class","payout-title svelte-klj94l"),c(a,"class","payout-total mono svelte-klj94l"),c(p,"class","payout-chevron svelte-klj94l"),c(o,"class","payout-header-right svelte-klj94l"),c(t,"class","payout-header svelte-klj94l"),c(e,"class","payout-breakdown svelte-klj94l"),J(e,"expanded",l[1])},m(C,w){D(C,e,w),s(e,t),s(t,n),s(t,i),s(t,o),s(o,a),s(a,u),s(o,f),s(o,p),s(p,_),s(e,g),L&&L.m(e,null),b||(h=fe(t,"click",l[3]),b=!0)},p(C,[w]){var y;w&1&&r!==(r=At((y=C[0])==null?void 0:y.totalEstimated)+"")&&M(u,r),w&2&&v!==(v=C[1]?"▲":"▼")&&M(_,v),C[1]?L?L.p(C,w):(L=Dl(C),L.c(),L.m(e,null)):L&&(L.d(1),L=null),w&2&&J(e,"expanded",C[1])},i:Y,o:Y,d(C){C&&q(e),L&&L.d(),b=!1,h()}}}function Ps(l){if(!l)return[];const e=[];if(l.baseRate&&l.distance?e.push({label:`Base rate ($${tl(l.baseRate)}/mi x ${tl(l.distance)} mi)`,value:l.basePayout||l.baseRate*l.distance,type:"base"}):l.basePayout&&e.push({label:"Base payout",value:l.basePayout,type:"base"}),l.weightMultiplier&&l.weightMultiplier!==1&&e.push({label:`Weight multiplier (x${tl(l.weightMultiplier)})`,value:null,type:"modifier"}),l.ownerOpBonus&&e.push({label:"Owner-op bonus",value:l.ownerOpBonus,type:"bonus"}),l.timePerformance&&e.push({label:"Est. time performance",value:l.timePerformance,type:"bonus"}),l.complianceBonus&&e.push({label:"Compliance potential",value:l.complianceBonus,type:"bonus"}),l.nightHaulPremium&&e.push({label:"Night haul premium",value:l.nightHaulPremium,type:"bonus"}),l.surgeBonus){const t=l.surgePercentage?`Surge bonus (+${l.surgePercentage}%)`:"Surge bonus";e.push({label:t,value:l.surgeBonus,type:"surge"})}return e}function tl(l){return l==null?"—":Number(l).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}function At(l){return l==null?"—":"$"+Number(l).toLocaleString("en-US")}function js(l,e,t){let n,{breakdown:i={}}=e,{startExpanded:o=!1}=e,a=o;function r(){t(1,a=!a)}return l.$$set=u=>{"breakdown"in u&&t(0,i=u.breakdown),"startExpanded"in u&&t(4,o=u.startExpanded)},l.$$.update=()=>{l.$$.dirty&1&&t(2,n=Ps(i))},[i,a,n,r,o]}class il extends ut{constructor(e){super(),ot(this,e,js,As,xe,{breakdown:0,startExpanded:4})}}function Al(l){let e,t,n=l[0].cargoSubtype+"",i,o;return{c(){e=d("span"),t=S("("),i=S(n),o=S(")"),c(e,"class","cargo-subtype text-muted svelte-n0u9b4")},m(a,r){D(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r&1&&n!==(n=a[0].cargoSubtype+"")&&M(i,n)},d(a){a&&q(e)}}}function Pl(l){let e,t,n=l[0].surgePercentage+"",i,o;return{c(){e=d("span"),t=S("+"),i=S(n),o=S("%"),c(e,"class","badge badge-surge svelte-n0u9b4")},m(a,r){D(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r&1&&n!==(n=a[0].surgePercentage+"")&&M(i,n)},d(a){a&&q(e)}}}function jl(l){let e,t,n,i=l[0].requiredLicense&&l[0].requiredLicense!=="none"&&Nl(l),o=l[0].requiredEndorsement&&Rl(l),a=l[0].requiredCertification&&Bl(l);return{c(){e=d("div"),i&&i.c(),t=m(),o&&o.c(),n=m(),a&&a.c(),c(e,"class","card-row-reqs svelte-n0u9b4")},m(r,u){D(r,e,u),i&&i.m(e,null),s(e,t),o&&o.m(e,null),s(e,n),a&&a.m(e,null)},p(r,u){r[0].requiredLicense&&r[0].requiredLicense!=="none"?i?i.p(r,u):(i=Nl(r),i.c(),i.m(e,t)):i&&(i.d(1),i=null),r[0].requiredEndorsement?o?o.p(r,u):(o=Rl(r),o.c(),o.m(e,n)):o&&(o.d(1),o=null),r[0].requiredCertification?a?a.p(r,u):(a=Bl(r),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(r){r&&q(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function Nl(l){let e,t,n;return{c(){e=d("span"),t=S("CDL"),c(e,"class","req-icon svelte-n0u9b4"),c(e,"title",n="CDL Required: "+l[0].requiredLicense)},m(i,o){D(i,e,o),s(e,t)},p(i,o){o&1&&n!==(n="CDL Required: "+i[0].requiredLicense)&&c(e,"title",n)},d(i){i&&q(e)}}}function Rl(l){let e,t;function n(a,r){return a[0].requiredEndorsement==="tanker"?Bs:a[0].requiredEndorsement==="hazmat"?Rs:Ns}let i=n(l),o=i(l);return{c(){e=d("span"),o.c(),c(e,"class","req-icon svelte-n0u9b4"),c(e,"title",t="Endorsement: "+l[0].requiredEndorsement)},m(a,r){D(a,e,r),o.m(e,null)},p(a,r){i===(i=n(a))&&o?o.p(a,r):(o.d(1),o=i(a),o&&(o.c(),o.m(e,null))),r&1&&t!==(t="Endorsement: "+a[0].requiredEndorsement)&&c(e,"title",t)},d(a){a&&q(e),o.d()}}}function Ns(l){let e=l[0].requiredEndorsement.substring(0,3).toUpperCase()+"",t;return{c(){t=S(e)},m(n,i){D(n,t,i)},p(n,i){i&1&&e!==(e=n[0].requiredEndorsement.substring(0,3).toUpperCase()+"")&&M(t,e)},d(n){n&&q(t)}}}function Rs(l){let e;return{c(){e=S("HAZ")},m(t,n){D(t,e,n)},p:Y,d(t){t&&q(e)}}}function Bs(l){let e;return{c(){e=S("TKR")},m(t,n){D(t,e,n)},p:Y,d(t){t&&q(e)}}}function Bl(l){let e,t,n;return{c(){e=d("span"),t=S("CERT"),c(e,"class","req-icon svelte-n0u9b4"),c(e,"title",n="Cert: "+l[0].requiredCertification)},m(i,o){D(i,e,o),s(e,t)},p(i,o){o&1&&n!==(n="Cert: "+i[0].requiredCertification)&&c(e,"title",n)},d(i){i&&q(e)}}}function zl(l){let e,t=l[2]?"▲":"▼",n;return{c(){e=d("span"),n=S(t),c(e,"class","expand-indicator svelte-n0u9b4")},m(i,o){D(i,e,o),s(e,n)},p(i,o){o&4&&t!==(t=i[2]?"▲":"▼")&&M(n,t)},d(i){i&&q(e)}}}function Fl(l){var et;let e,t,n,i,o,a,r=(l[0].shipperName||"—")+"",u,f,p,v,_,g,b=l[0].weightLbs?l[0].weightLbs.toLocaleString()+" lbs":"—",h,L,k,C,w,y,A=(l[0].requiredVehicleType||"Any")+"",T,$,P,B,Q,ne,se=(l[0].requiredLicense==="none"?"None":(et=l[0].requiredLicense)==null?void 0:et.toUpperCase())+"",H,R,O,U,G,V,ee,re=Gt(l[0].depositAmount)+"",x,te,Z,z,F,W,X,le,Se,ue=l[0].requiredCertification&&Il(l),ae=l[0].payoutBreakdown&&Ul(l);function ve(oe,de){return oe[4]?Fs:zs}let Ie=ve(l),ye=Ie(l);return{c(){e=d("div"),t=d("div"),n=d("div"),i=d("span"),i.textContent="Shipper",o=m(),a=d("span"),u=S(r),f=m(),p=d("div"),v=d("span"),v.textContent="Weight",_=m(),g=d("span"),h=S(b),L=m(),k=d("div"),C=d("span"),C.textContent="Vehicle Type",w=m(),y=d("span"),T=S(A),$=m(),P=d("div"),B=d("span"),B.textContent="License",Q=m(),ne=d("span"),H=S(se),R=m(),ue&&ue.c(),O=m(),U=d("div"),G=d("span"),G.textContent="Deposit",V=m(),ee=d("span"),x=S(re),te=m(),ae&&ae.c(),Z=m(),z=d("div"),F=d("button"),F.textContent="View Details",W=m(),ye.c(),c(i,"class","detail-label svelte-n0u9b4"),c(a,"class","detail-value svelte-n0u9b4"),c(n,"class","detail-item svelte-n0u9b4"),c(v,"class","detail-label svelte-n0u9b4"),c(g,"class","detail-value mono svelte-n0u9b4"),c(p,"class","detail-item svelte-n0u9b4"),c(C,"class","detail-label svelte-n0u9b4"),c(y,"class","detail-value svelte-n0u9b4"),c(k,"class","detail-item svelte-n0u9b4"),c(B,"class","detail-label svelte-n0u9b4"),c(ne,"class","detail-value svelte-n0u9b4"),c(P,"class","detail-item svelte-n0u9b4"),c(G,"class","detail-label svelte-n0u9b4"),c(ee,"class","detail-value mono svelte-n0u9b4"),c(U,"class","detail-item svelte-n0u9b4"),c(t,"class","detail-grid svelte-n0u9b4"),c(F,"class","btn btn-secondary btn-sm"),c(z,"class","card-actions svelte-n0u9b4"),c(e,"class","card-expanded-body fade-in svelte-n0u9b4")},m(oe,de){D(oe,e,de),s(e,t),s(t,n),s(n,i),s(n,o),s(n,a),s(a,u),s(t,f),s(t,p),s(p,v),s(p,_),s(p,g),s(g,h),s(t,L),s(t,k),s(k,C),s(k,w),s(k,y),s(y,T),s(t,$),s(t,P),s(P,B),s(P,Q),s(P,ne),s(ne,H),s(t,R),ue&&ue.m(t,null),s(t,O),s(t,U),s(U,G),s(U,V),s(U,ee),s(ee,x),s(e,te),ae&&ae.m(e,null),s(e,Z),s(e,z),s(z,F),s(z,W),ye.m(z,null),X=!0,le||(Se=fe(F,"click",Tt(l[7])),le=!0)},p(oe,de){var Be;(!X||de&1)&&r!==(r=(oe[0].shipperName||"—")+"")&&M(u,r),(!X||de&1)&&b!==(b=oe[0].weightLbs?oe[0].weightLbs.toLocaleString()+" lbs":"—")&&M(h,b),(!X||de&1)&&A!==(A=(oe[0].requiredVehicleType||"Any")+"")&&M(T,A),(!X||de&1)&&se!==(se=(oe[0].requiredLicense==="none"?"None":(Be=oe[0].requiredLicense)==null?void 0:Be.toUpperCase())+"")&&M(H,se),oe[0].requiredCertification?ue?ue.p(oe,de):(ue=Il(oe),ue.c(),ue.m(t,O)):ue&&(ue.d(1),ue=null),(!X||de&1)&&re!==(re=Gt(oe[0].depositAmount)+"")&&M(x,re),oe[0].payoutBreakdown?ae?(ae.p(oe,de),de&1&&E(ae,1)):(ae=Ul(oe),ae.c(),E(ae,1),ae.m(e,Z)):ae&&(he(),j(ae,1,1,()=>{ae=null}),ke()),Ie===(Ie=ve(oe))&&ye?ye.p(oe,de):(ye.d(1),ye=Ie(oe),ye&&(ye.c(),ye.m(z,null)))},i(oe){X||(E(ae),X=!0)},o(oe){j(ae),X=!1},d(oe){oe&&q(e),ue&&ue.d(),ae&&ae.d(),ye.d(),le=!1,Se()}}}function Il(l){let e,t,n,i,o=l[0].requiredCertification+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Certification",n=m(),i=d("span"),a=S(o),c(t,"class","detail-label svelte-n0u9b4"),c(i,"class","detail-value svelte-n0u9b4"),c(e,"class","detail-item svelte-n0u9b4")},m(r,u){D(r,e,u),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,u){u&1&&o!==(o=r[0].requiredCertification+"")&&M(a,o)},d(r){r&&q(e)}}}function Ul(l){let e,t;return e=new il({props:{breakdown:l[0].payoutBreakdown}}),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.breakdown=n[0].payoutBreakdown),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function zs(l){let e,t,n;return{c(){e=d("button"),e.textContent="Reserve (3:00)",c(e,"class","btn btn-primary btn-sm")},m(i,o){D(i,e,o),t||(n=fe(e,"click",Tt(l[8])),t=!0)},p:Y,d(i){i&&q(e),t=!1,n()}}}function Fs(l){let e,t,n;return{c(){e=d("button"),e.textContent="Accept Load",c(e,"class","btn btn-primary btn-sm")},m(i,o){D(i,e,o),t||(n=fe(e,"click",Tt(l[9])),t=!0)},p:Y,d(i){i&&q(e),t=!1,n()}}}function Is(l){let e,t,n,i,o,a,r,u=(l[0].cargoType||"Cargo")+"",f,p,v,_,g,b,h=Gt(l[0].basePayout||l[0].basePayoutRental)+"",L,k,C,w,y=(l[0].originLabel||"—")+"",A,T,$,P,B=(l[0].destinationLabel||"—")+"",Q,ne,se,H=Ol(l[0].distanceMiles)+"",R,O,U,G,V,ee,re;o=new Zt({props:{tier:l[0].tier,size:"small"}});let x=l[0].cargoSubtype&&Al(l),te=l[3]&&Pl(l),Z=l[5]&&jl(l),z=l[1]&&zl(l),F=l[2]&&Fl(l);return{c(){e=d("div"),t=d("button"),n=d("div"),i=d("div"),$e(o.$$.fragment),a=m(),r=d("span"),f=S(u),p=m(),x&&x.c(),v=m(),_=d("div"),te&&te.c(),g=m(),b=d("span"),L=S(h),k=m(),C=d("div"),w=d("span"),A=S(y),T=m(),$=d("span"),$.textContent="→",P=m(),Q=S(B),ne=m(),se=d("span"),R=S(H),O=m(),Z&&Z.c(),U=m(),z&&z.c(),G=m(),F&&F.c(),c(r,"class","cargo-type svelte-n0u9b4"),c(i,"class","card-left svelte-n0u9b4"),c(b,"class","payout-figure mono svelte-n0u9b4"),c(_,"class","card-right svelte-n0u9b4"),c(n,"class","card-row-top svelte-n0u9b4"),c($,"class","route-arrow svelte-n0u9b4"),c(w,"class","route-text text-muted svelte-n0u9b4"),c(se,"class","distance mono text-muted svelte-n0u9b4"),c(C,"class","card-row-route svelte-n0u9b4"),c(t,"class","card-main svelte-n0u9b4"),c(e,"class","load-card svelte-n0u9b4"),J(e,"surge-active",l[3]),J(e,"card-expanded",l[2])},m(W,X){D(W,e,X),s(e,t),s(t,n),s(n,i),we(o,i,null),s(i,a),s(i,r),s(r,f),s(i,p),x&&x.m(i,null),s(n,v),s(n,_),te&&te.m(_,null),s(_,g),s(_,b),s(b,L),s(t,k),s(t,C),s(C,w),s(w,A),s(w,T),s(w,$),s(w,P),s(w,Q),s(C,ne),s(C,se),s(se,R),s(t,O),Z&&Z.m(t,null),s(t,U),z&&z.m(t,null),s(e,G),F&&F.m(e,null),V=!0,ee||(re=fe(t,"click",l[6]),ee=!0)},p(W,[X]){const le={};X&1&&(le.tier=W[0].tier),o.$set(le),(!V||X&1)&&u!==(u=(W[0].cargoType||"Cargo")+"")&&M(f,u),W[0].cargoSubtype?x?x.p(W,X):(x=Al(W),x.c(),x.m(i,null)):x&&(x.d(1),x=null),W[3]?te?te.p(W,X):(te=Pl(W),te.c(),te.m(_,g)):te&&(te.d(1),te=null),(!V||X&1)&&h!==(h=Gt(W[0].basePayout||W[0].basePayoutRental)+"")&&M(L,h),(!V||X&1)&&y!==(y=(W[0].originLabel||"—")+"")&&M(A,y),(!V||X&1)&&B!==(B=(W[0].destinationLabel||"—")+"")&&M(Q,B),(!V||X&1)&&H!==(H=Ol(W[0].distanceMiles)+"")&&M(R,H),W[5]?Z?Z.p(W,X):(Z=jl(W),Z.c(),Z.m(t,U)):Z&&(Z.d(1),Z=null),W[1]?z?z.p(W,X):(z=zl(W),z.c(),z.m(t,null)):z&&(z.d(1),z=null),W[2]?F?(F.p(W,X),X&4&&E(F,1)):(F=Fl(W),F.c(),E(F,1),F.m(e,null)):F&&(he(),j(F,1,1,()=>{F=null}),ke()),(!V||X&8)&&J(e,"surge-active",W[3]),(!V||X&4)&&J(e,"card-expanded",W[2])},i(W){V||(E(o.$$.fragment,W),E(F),V=!0)},o(W){j(o.$$.fragment,W),j(F),V=!1},d(W){W&&q(e),Ce(o),x&&x.d(),te&&te.d(),Z&&Z.d(),z&&z.d(),F&&F.d(),ee=!1,re()}}}function Gt(l){return l==null?"—":"$"+Number(l).toLocaleString("en-US")}function Ol(l){return l==null?"—":Number(l).toFixed(1)+" mi"}function Us(l,e,t){let n,i,o,{load:a={}}=e,{expandable:r=!0}=e;const u=Pt();let f=!1;function p(){r&&t(2,f=!f)}function v(){u("viewDetail",{load:a})}function _(){u("reserve",{load:a})}function g(){u("accept",{load:a})}return l.$$set=b=>{"load"in b&&t(0,a=b.load),"expandable"in b&&t(1,r=b.expandable)},l.$$.update=()=>{l.$$.dirty&1&&t(5,n=a.requiredLicense!=="none"||a.requiredEndorsement||a.requiredCertification),l.$$.dirty&1&&t(4,i=a.boardStatus==="reserved"),l.$$.dirty&1&&t(3,o=a.surgeActive)},[a,r,f,o,i,n,p,v,_,g]}class Os extends ut{constructor(e){super(),ot(this,e,Us,Is,xe,{load:0,expandable:1})}}function Wl(l,e,t){const n=l.slice();return n[27]=e[t],n}function Vl(l,e,t){const n=l.slice();return n[30]=e[t],n[32]=t,n}function Hl(l,e,t){const n=l.slice();return n[33]=e[t],n}function Gl(l,e,t){const n=l.slice();return n[33]=e[t],n}function Kl(l,e,t){const n=l.slice();return n[38]=e[t],n}function Jl(l){let e,t,n,i,o,a,r,u,f,p,v,_,g,b,h,L,k,C,w=l[8]&&Ql(l);const y=[Vs,Ws],A=[];function T($,P){return $[7].length===0?0:1}return b=T(l),h=A[b]=y[b](l),{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Tier",i=m(),o=d("select"),a=d("option"),a.textContent="All Tiers",r=d("option"),r.textContent="T0 — Entry",u=d("option"),u.textContent="T1 — Standard",f=d("option"),f.textContent="T2 — Specialized",p=d("option"),p.textContent="T3 — Premium",v=m(),w&&w.c(),_=m(),g=d("div"),h.c(),c(n,"class","filter-label svelte-t5sfgo"),c(n,"for","tier-filter"),a.__value="all",mt(a,a.__value),c(a,"class","svelte-t5sfgo"),r.__value="0",mt(r,r.__value),c(r,"class","svelte-t5sfgo"),u.__value="1",mt(u,u.__value),c(u,"class","svelte-t5sfgo"),f.__value="2",mt(f,f.__value),c(f,"class","svelte-t5sfgo"),p.__value="3",mt(p,p.__value),c(p,"class","svelte-t5sfgo"),c(o,"id","tier-filter"),c(o,"class","filter-select svelte-t5sfgo"),l[0]===void 0&&zt(()=>l[21].call(o)),c(t,"class","filter-group svelte-t5sfgo"),c(e,"class","board-filters svelte-t5sfgo"),c(g,"class","load-list svelte-t5sfgo")},m($,P){D($,e,P),s(e,t),s(t,n),s(t,i),s(t,o),s(o,a),s(o,r),s(o,u),s(o,f),s(o,p),Wt(o,l[0],!0),s(e,v),w&&w.m(e,null),D($,_,P),D($,g,P),A[b].m(g,null),L=!0,k||(C=fe(o,"change",l[21]),k=!0)},p($,P){P[0]&1&&Wt(o,$[0]),$[8]?w?w.p($,P):(w=Ql($),w.c(),w.m(e,null)):w&&(w.d(1),w=null);let B=b;b=T($),b===B?A[b].p($,P):(he(),j(A[B],1,1,()=>{A[B]=null}),ke(),h=A[b],h?h.p($,P):(h=A[b]=y[b]($),h.c()),E(h,1),h.m(g,null))},i($){L||(E(h),L=!0)},o($){j(h),L=!1},d($){$&&(q(e),q(_),q(g)),w&&w.d(),A[b].d(),k=!1,C()}}}function Ql(l){let e,t,n,i,o,a,r,u,f,p,v;return{c(){e=d("div"),t=d("label"),t.textContent="Region",n=m(),i=d("select"),o=d("option"),o.textContent="All Regions",a=d("option"),a.textContent="Chicago (LS)",r=d("option"),r.textContent="Gary (SS)",u=d("option"),u.textContent="Wisconsin (Paleto)",f=d("option"),f.textContent="W. Michigan (GS)",c(t,"class","filter-label svelte-t5sfgo"),c(t,"for","region-filter"),o.__value="all",mt(o,o.__value),c(o,"class","svelte-t5sfgo"),a.__value="los_santos",mt(a,a.__value),c(a,"class","svelte-t5sfgo"),r.__value="sandy_shores",mt(r,r.__value),c(r,"class","svelte-t5sfgo"),u.__value="paleto",mt(u,u.__value),c(u,"class","svelte-t5sfgo"),f.__value="grapeseed",mt(f,f.__value),c(f,"class","svelte-t5sfgo"),c(i,"id","region-filter"),c(i,"class","filter-select svelte-t5sfgo"),l[1]===void 0&&zt(()=>l[22].call(i)),c(e,"class","filter-group svelte-t5sfgo")},m(_,g){D(_,e,g),s(e,t),s(e,n),s(e,i),s(i,o),s(i,a),s(i,r),s(i,u),s(i,f),Wt(i,l[1],!0),p||(v=fe(i,"change",l[22]),p=!0)},p(_,g){g[0]&2&&Wt(i,_[1])},d(_){_&&q(e),p=!1,v()}}}function Ws(l){let e=[],t=new Map,n,i,o=Le(l[7]);const a=r=>r[38].id;for(let r=0;r<o.length;r+=1){let u=Kl(l,o,r),f=a(u);t.set(f,e[r]=Zl(f,u))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Lt()},m(r,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,u);D(r,n,u),i=!0},p(r,u){u[0]&14464&&(o=Le(r[7]),he(),e=It(e,u,a,1,r,o,t,n.parentNode,Qt,Zl,n,Kl),ke())},i(r){if(!i){for(let u=0;u<o.length;u+=1)E(e[u]);i=!0}},o(r){for(let u=0;u<e.length;u+=1)j(e[u]);i=!1},d(r){r&&q(n);for(let u=0;u<e.length;u+=1)e[u].d(r)}}}function Vs(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No loads available matching your filters.</span>',c(e,"class","empty-state svelte-t5sfgo")},m(t,n){D(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&q(e)}}}function Zl(l,e){let t,n,i;return n=new Os({props:{load:e[38]}}),n.$on("viewDetail",e[11]),n.$on("reserve",e[12]),n.$on("accept",e[13]),{key:l,first:null,c(){t=Lt(),$e(n.$$.fragment),this.first=t},m(o,a){D(o,t,a),we(n,o,a),i=!0},p(o,a){e=o;const r={};a[0]&128&&(r.load=e[38]),n.$set(r)},i(o){i||(E(n.$$.fragment,o),i=!0)},o(o){j(n.$$.fragment,o),i=!1},d(o){o&&q(t),Ce(n,o)}}}function Xl(l){let e,t,n,i;const o=[Gs,Hs],a=[];function r(u,f){return(u[2].supplier||[]).length===0?0:1}return t=r(l),n=a[t]=o[t](l),{c(){e=d("div"),n.c(),c(e,"class","load-list svelte-t5sfgo")},m(u,f){D(u,e,f),a[t].m(e,null),i=!0},p(u,f){let p=t;t=r(u),t===p?a[t].p(u,f):(he(),j(a[p],1,1,()=>{a[p]=null}),ke(),n=a[t],n?n.p(u,f):(n=a[t]=o[t](u),n.c()),E(n,1),n.m(e,null))},i(u){i||(E(n),i=!0)},o(u){j(n),i=!1},d(u){u&&q(e),a[t].d()}}}function Hs(l){let e=[],t=new Map,n,i,o=Le(l[2].supplier);const a=r=>r[33].id;for(let r=0;r<o.length;r+=1){let u=Gl(l,o,r),f=a(u);t.set(f,e[r]=en(f,u))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Lt()},m(r,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,u);D(r,n,u),i=!0},p(r,u){u[0]&4&&(o=Le(r[2].supplier),he(),e=It(e,u,a,1,r,o,t,n.parentNode,Qt,en,n,Gl),ke())},i(r){if(!i){for(let u=0;u<o.length;u+=1)E(e[u]);i=!0}},o(r){for(let u=0;u<e.length;u+=1)j(e[u]);i=!1},d(r){r&&q(n);for(let u=0;u<e.length;u+=1)e[u].d(r)}}}function Gs(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No supplier contracts available.</span>',c(e,"class","empty-state svelte-t5sfgo")},m(t,n){D(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&q(e)}}}function Yl(l){let e,t,n,i,o=new Date(l[33].deadline*1e3).toLocaleString()+"",a;return{c(){e=d("div"),t=d("span"),t.textContent="Deadline",n=m(),i=d("span"),a=S(o),c(t,"class","detail-label svelte-t5sfgo"),c(i,"class","detail-value mono svelte-t5sfgo"),c(e,"class","detail-row svelte-t5sfgo")},m(r,u){D(r,e,u),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,u){u[0]&4&&o!==(o=new Date(r[33].deadline*1e3).toLocaleString()+"")&&M(a,o)},d(r){r&&q(e)}}}function xl(l){let e,t;return{c(){e=d("div"),t=d("div"),c(t,"class","progress-bar-fill svelte-t5sfgo"),Oe(t,"width",Math.min(100,(l[33].quantity||0)/l[33].quantityRequired*100)+"%"),c(e,"class","progress-bar-container svelte-t5sfgo")},m(n,i){D(n,e,i),s(e,t)},p(n,i){i[0]&4&&Oe(t,"width",Math.min(100,(n[33].quantity||0)/n[33].quantityRequired*100)+"%")},d(n){n&&q(e)}}}function en(l,e){let t,n,i,o=(e[33].supplierName||"Supplier")+"",a,r,u,f,p,v,_,g,b,h,L=(e[33].itemRequired||"—")+"",k,C,w,y,A,T,$=(e[33].quantity||0)+"",P,B,Q=(e[33].quantityRequired||0)+"",ne,se,H,R,O,U,G=Ct(e[33].payout)+"",V,ee,re,x,te;u=new bt({props:{status:e[33].status||"active"}});let Z=e[33].deadline&&Yl(e),z=e[33].quantityRequired&&xl(e);return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("h4"),a=S(o),r=m(),$e(u.$$.fragment),f=m(),p=d("div"),v=d("div"),_=d("div"),g=d("span"),g.textContent="Items Required",b=m(),h=d("span"),k=S(L),C=m(),w=d("div"),y=d("span"),y.textContent="Quantity",A=m(),T=d("span"),P=S($),B=S(" / "),ne=S(Q),se=m(),H=d("div"),R=d("span"),R.textContent="Payout",O=m(),U=d("span"),V=S(G),ee=m(),Z&&Z.c(),re=m(),z&&z.c(),x=m(),c(i,"class","supplier-name svelte-t5sfgo"),c(n,"class","card-header"),c(g,"class","detail-label svelte-t5sfgo"),c(h,"class","detail-value svelte-t5sfgo"),c(_,"class","detail-row svelte-t5sfgo"),c(y,"class","detail-label svelte-t5sfgo"),c(T,"class","detail-value mono svelte-t5sfgo"),c(w,"class","detail-row svelte-t5sfgo"),c(R,"class","detail-label svelte-t5sfgo"),c(U,"class","detail-value mono payout-figure svelte-t5sfgo"),c(H,"class","detail-row svelte-t5sfgo"),c(v,"class","supplier-details svelte-t5sfgo"),c(p,"class","card-body"),c(t,"class","card supplier-card"),this.first=t},m(F,W){D(F,t,W),s(t,n),s(n,i),s(i,a),s(n,r),we(u,n,null),s(t,f),s(t,p),s(p,v),s(v,_),s(_,g),s(_,b),s(_,h),s(h,k),s(v,C),s(v,w),s(w,y),s(w,A),s(w,T),s(T,P),s(T,B),s(T,ne),s(v,se),s(v,H),s(H,R),s(H,O),s(H,U),s(U,V),s(v,ee),Z&&Z.m(v,null),s(p,re),z&&z.m(p,null),s(t,x),te=!0},p(F,W){e=F,(!te||W[0]&4)&&o!==(o=(e[33].supplierName||"Supplier")+"")&&M(a,o);const X={};W[0]&4&&(X.status=e[33].status||"active"),u.$set(X),(!te||W[0]&4)&&L!==(L=(e[33].itemRequired||"—")+"")&&M(k,L),(!te||W[0]&4)&&$!==($=(e[33].quantity||0)+"")&&M(P,$),(!te||W[0]&4)&&Q!==(Q=(e[33].quantityRequired||0)+"")&&M(ne,Q),(!te||W[0]&4)&&G!==(G=Ct(e[33].payout)+"")&&M(V,G),e[33].deadline?Z?Z.p(e,W):(Z=Yl(e),Z.c(),Z.m(v,null)):Z&&(Z.d(1),Z=null),e[33].quantityRequired?z?z.p(e,W):(z=xl(e),z.c(),z.m(p,null)):z&&(z.d(1),z=null)},i(F){te||(E(u.$$.fragment,F),te=!0)},o(F){j(u.$$.fragment,F),te=!1},d(F){F&&q(t),Ce(u),Z&&Z.d(),z&&z.d()}}}function tn(l){let e,t,n,i;const o=[Js,Ks],a=[];function r(u,f){return(u[2].open||[]).length===0?0:1}return t=r(l),n=a[t]=o[t](l),{c(){e=d("div"),n.c(),c(e,"class","load-list svelte-t5sfgo")},m(u,f){D(u,e,f),a[t].m(e,null),i=!0},p(u,f){let p=t;t=r(u),t===p?a[t].p(u,f):(he(),j(a[p],1,1,()=>{a[p]=null}),ke(),n=a[t],n?n.p(u,f):(n=a[t]=o[t](u),n.c()),E(n,1),n.m(e,null))},i(u){i||(E(n),i=!0)},o(u){j(n),i=!1},d(u){u&&q(e),a[t].d()}}}function Ks(l){let e=[],t=new Map,n,i,o=Le(l[2].open);const a=r=>r[33].id;for(let r=0;r<o.length;r+=1){let u=Hl(l,o,r),f=a(u);t.set(f,e[r]=nn(f,u))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Lt()},m(r,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,u);D(r,n,u),i=!0},p(r,u){u[0]&4&&(o=Le(r[2].open),he(),e=It(e,u,a,1,r,o,t,n.parentNode,Qt,nn,n,Hl),ke())},i(r){if(!i){for(let u=0;u<o.length;u+=1)E(e[u]);i=!0}},o(r){for(let u=0;u<e.length;u+=1)j(e[u]);i=!1},d(r){r&&q(n);for(let u=0;u<e.length;u+=1)e[u].d(r)}}}function Js(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No open contracts available.</span>',c(e,"class","empty-state svelte-t5sfgo")},m(t,n){D(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&q(e)}}}function ln(l){let e,t;return{c(){e=d("div"),t=d("div"),c(t,"class","progress-bar-fill svelte-t5sfgo"),Oe(t,"width",Math.min(100,(l[33].currentProgress||0)/l[33].targetProgress*100)+"%"),c(e,"class","progress-bar-container svelte-t5sfgo")},m(n,i){D(n,e,i),s(e,t)},p(n,i){i[0]&4&&Oe(t,"width",Math.min(100,(n[33].currentProgress||0)/n[33].targetProgress*100)+"%")},d(n){n&&q(e)}}}function nn(l,e){let t,n,i,o=(e[33].title||"Open Contract")+"",a,r,u,f,p,v,_=(e[33].description||"")+"",g,b,h,L,k,C,w=(e[33].currentProgress||0)+"",y,A,T=(e[33].targetProgress||0)+"",$,P,B,Q,ne,se,H=Ct(e[33].payoutPerUnit)+"",R,O,U,G;u=new bt({props:{status:e[33].status||"active"}});let V=e[33].targetProgress&&ln(e);return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("h4"),a=S(o),r=m(),$e(u.$$.fragment),f=m(),p=d("div"),v=d("p"),g=S(_),b=m(),h=d("div"),L=d("span"),L.textContent="Progress",k=m(),C=d("span"),y=S(w),A=S(" / "),$=S(T),P=m(),B=d("div"),Q=d("span"),Q.textContent="Payout per Unit",ne=m(),se=d("span"),R=S(H),O=m(),V&&V.c(),U=m(),c(i,"class","contract-title svelte-t5sfgo"),c(n,"class","card-header"),c(v,"class","contract-desc text-muted svelte-t5sfgo"),c(L,"class","detail-label svelte-t5sfgo"),c(C,"class","detail-value mono svelte-t5sfgo"),c(h,"class","detail-row svelte-t5sfgo"),c(Q,"class","detail-label svelte-t5sfgo"),c(se,"class","detail-value mono payout-figure svelte-t5sfgo"),c(B,"class","detail-row svelte-t5sfgo"),c(p,"class","card-body"),c(t,"class","card open-card"),this.first=t},m(ee,re){D(ee,t,re),s(t,n),s(n,i),s(i,a),s(n,r),we(u,n,null),s(t,f),s(t,p),s(p,v),s(v,g),s(p,b),s(p,h),s(h,L),s(h,k),s(h,C),s(C,y),s(C,A),s(C,$),s(p,P),s(p,B),s(B,Q),s(B,ne),s(B,se),s(se,R),s(p,O),V&&V.m(p,null),s(t,U),G=!0},p(ee,re){e=ee,(!G||re[0]&4)&&o!==(o=(e[33].title||"Open Contract")+"")&&M(a,o);const x={};re[0]&4&&(x.status=e[33].status||"active"),u.$set(x),(!G||re[0]&4)&&_!==(_=(e[33].description||"")+"")&&M(g,_),(!G||re[0]&4)&&w!==(w=(e[33].currentProgress||0)+"")&&M(y,w),(!G||re[0]&4)&&T!==(T=(e[33].targetProgress||0)+"")&&M($,T),(!G||re[0]&4)&&H!==(H=Ct(e[33].payoutPerUnit)+"")&&M(R,H),e[33].targetProgress?V?V.p(e,re):(V=ln(e),V.c(),V.m(p,null)):V&&(V.d(1),V=null)},i(ee){G||(E(u.$$.fragment,ee),G=!0)},o(ee){j(u.$$.fragment,ee),G=!1},d(ee){ee&&q(t),Ce(u),V&&V.d()}}}function sn(l){let e,t,n,i;const o=[Zs,Qs],a=[];function r(u,f){return(u[2].routes||[]).length===0?0:1}return t=r(l),n=a[t]=o[t](l),{c(){e=d("div"),n.c(),c(e,"class","load-list svelte-t5sfgo")},m(u,f){D(u,e,f),a[t].m(e,null),i=!0},p(u,f){let p=t;t=r(u),t===p?a[t].p(u,f):(he(),j(a[p],1,1,()=>{a[p]=null}),ke(),n=a[t],n?n.p(u,f):(n=a[t]=o[t](u),n.c()),E(n,1),n.m(e,null))},i(u){i||(E(n),i=!0)},o(u){j(n),i=!1},d(u){u&&q(e),a[t].d()}}}function Qs(l){let e=[],t=new Map,n,i,o=Le(l[2].routes);const a=r=>r[27].id;for(let r=0;r<o.length;r+=1){let u=Wl(l,o,r),f=a(u);t.set(f,e[r]=un(f,u))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Lt()},m(r,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,u);D(r,n,u),i=!0},p(r,u){u[0]&1028&&(o=Le(r[2].routes),he(),e=It(e,u,a,1,r,o,t,n.parentNode,Qt,un,n,Wl),ke())},i(r){if(!i){for(let u=0;u<o.length;u+=1)E(e[u]);i=!0}},o(r){for(let u=0;u<e.length;u+=1)j(e[u]);i=!1},d(r){r&&q(n);for(let u=0;u<e.length;u+=1)e[u].d(r)}}}function Zs(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="empty-text text-muted svelte-t5sfgo">No multi-stop routes available.</span>',c(e,"class","empty-state svelte-t5sfgo")},m(t,n){D(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&q(e)}}}function an(l){let e;return{c(){e=d("span"),e.textContent="✓",c(e,"class","stop-check text-success svelte-t5sfgo")},m(t,n){D(t,e,n)},d(t){t&&q(e)}}}function rn(l){let e,t,n,i,o=(l[30].label||"Stop")+"",a,r,u,f=l[30].completed&&an();return{c(){e=d("div"),t=d("span"),t.textContent=`${l[32]+1}`,n=m(),i=d("span"),a=S(o),r=m(),f&&f.c(),u=m(),c(t,"class","stop-number mono svelte-t5sfgo"),c(i,"class","stop-label svelte-t5sfgo"),c(e,"class","route-stop svelte-t5sfgo"),J(e,"stop-completed",l[30].completed)},m(p,v){D(p,e,v),s(e,t),s(e,n),s(e,i),s(i,a),s(e,r),f&&f.m(e,null),s(e,u)},p(p,v){v[0]&4&&o!==(o=(p[30].label||"Stop")+"")&&M(a,o),p[30].completed?f||(f=an(),f.c(),f.m(e,u)):f&&(f.d(1),f=null),v[0]&4&&J(e,"stop-completed",p[30].completed)},d(p){p&&q(e),f&&f.d()}}}function on(l){let e,t,n,i,o,a=l[27].premium+"",r,u;return{c(){e=d("div"),t=d("span"),t.textContent="Route Premium",n=m(),i=d("span"),o=S("+"),r=S(a),u=S("%"),c(t,"class","detail-label svelte-t5sfgo"),c(i,"class","detail-value mono text-orange svelte-t5sfgo"),c(e,"class","detail-row svelte-t5sfgo")},m(f,p){D(f,e,p),s(e,t),s(e,n),s(e,i),s(i,o),s(i,r),s(i,u)},p(f,p){p[0]&4&&a!==(a=f[27].premium+"")&&M(r,a)},d(f){f&&q(e)}}}function un(l,e){var X;let t,n,i,o,a,r,u=(e[27].name||"Route")+"",f,p,v,_=Ct(e[27].totalPayout)+"",g,b,h,L,k,C,w,y,A,T,$=fn(e[27].totalDistance)+"",P,B,Q,ne,se,H,R=(((X=e[27].stops)==null?void 0:X.length)||0)+"",O,U,G,V,ee,re,x,te;o=new Zt({props:{tier:e[27].tier||2,size:"small"}});let Z=Le(e[27].stops||[]),z=[];for(let le=0;le<Z.length;le+=1)z[le]=rn(Vl(e,Z,le));let F=e[27].premium&&on(e);function W(){return e[23](e[27])}return{key:l,first:null,c(){t=d("div"),n=d("div"),i=d("div"),$e(o.$$.fragment),a=m(),r=d("h4"),f=S(u),p=m(),v=d("span"),g=S(_),b=m(),h=d("div"),L=d("div");for(let le=0;le<z.length;le+=1)z[le].c();k=m(),C=d("div"),w=d("div"),y=d("span"),y.textContent="Total Distance",A=m(),T=d("span"),P=S($),B=m(),Q=d("div"),ne=d("span"),ne.textContent="Stops",se=m(),H=d("span"),O=S(R),U=m(),F&&F.c(),G=m(),V=d("button"),V.textContent="View Route Details",ee=m(),c(r,"class","route-name svelte-t5sfgo"),c(i,"class","route-header-left svelte-t5sfgo"),c(v,"class","payout-figure mono svelte-t5sfgo"),c(n,"class","card-header"),c(L,"class","route-stops svelte-t5sfgo"),c(y,"class","detail-label svelte-t5sfgo"),c(T,"class","detail-value mono svelte-t5sfgo"),c(w,"class","detail-row svelte-t5sfgo"),c(ne,"class","detail-label svelte-t5sfgo"),c(H,"class","detail-value mono svelte-t5sfgo"),c(Q,"class","detail-row svelte-t5sfgo"),c(C,"class","route-summary svelte-t5sfgo"),c(V,"class","btn btn-primary btn-sm"),c(h,"class","card-body"),c(t,"class","card route-card"),this.first=t},m(le,Se){D(le,t,Se),s(t,n),s(n,i),we(o,i,null),s(i,a),s(i,r),s(r,f),s(n,p),s(n,v),s(v,g),s(t,b),s(t,h),s(h,L);for(let ue=0;ue<z.length;ue+=1)z[ue]&&z[ue].m(L,null);s(h,k),s(h,C),s(C,w),s(w,y),s(w,A),s(w,T),s(T,P),s(C,B),s(C,Q),s(Q,ne),s(Q,se),s(Q,H),s(H,O),s(C,U),F&&F.m(C,null),s(h,G),s(h,V),s(t,ee),re=!0,x||(te=fe(V,"click",W),x=!0)},p(le,Se){var ae;e=le;const ue={};if(Se[0]&4&&(ue.tier=e[27].tier||2),o.$set(ue),(!re||Se[0]&4)&&u!==(u=(e[27].name||"Route")+"")&&M(f,u),(!re||Se[0]&4)&&_!==(_=Ct(e[27].totalPayout)+"")&&M(g,_),Se[0]&4){Z=Le(e[27].stops||[]);let ve;for(ve=0;ve<Z.length;ve+=1){const Ie=Vl(e,Z,ve);z[ve]?z[ve].p(Ie,Se):(z[ve]=rn(Ie),z[ve].c(),z[ve].m(L,null))}for(;ve<z.length;ve+=1)z[ve].d(1);z.length=Z.length}(!re||Se[0]&4)&&$!==($=fn(e[27].totalDistance)+"")&&M(P,$),(!re||Se[0]&4)&&R!==(R=(((ae=e[27].stops)==null?void 0:ae.length)||0)+"")&&M(O,R),e[27].premium?F?F.p(e,Se):(F=on(e),F.c(),F.m(C,null)):F&&(F.d(1),F=null)},i(le){re||(E(o.$$.fragment,le),re=!0)},o(le){j(o.$$.fragment,le),re=!1},d(le){le&&q(t),Ce(o),kt(z,le),F&&F.d(),x=!1,te()}}}function cn(l){var C;let e,t,n,i,o,a,r,u=Ct((C=l[5])==null?void 0:C.depositAmount)+"",f,p,v,_,g,b,h,L,k;return{c(){e=d("div"),t=d("div"),n=d("h3"),n.textContent="Confirm Accept",i=m(),o=d("p"),a=S(`Accept this load? A deposit of
          `),r=d("span"),f=S(u),p=S(`
          will be placed.`),v=m(),_=d("div"),g=d("button"),g.textContent="Cancel",b=m(),h=d("button"),h.textContent="Accept Load",c(n,"class","svelte-t5sfgo"),c(r,"class","mono"),c(o,"class","text-muted svelte-t5sfgo"),c(g,"class","btn btn-secondary"),c(h,"class","btn btn-primary"),c(_,"class","dialog-actions svelte-t5sfgo"),c(t,"class","dialog-panel svelte-t5sfgo"),c(t,"role","document"),c(e,"class","dialog-overlay svelte-t5sfgo"),c(e,"role","dialog"),c(e,"tabindex","-1")},m(w,y){D(w,e,y),s(e,t),s(t,n),s(t,i),s(t,o),s(o,a),s(o,r),s(r,f),s(o,p),s(t,v),s(t,_),s(_,g),s(_,b),s(_,h),L||(k=[fe(g,"click",l[15]),fe(h,"click",l[14]),fe(t,"click",Tt(l[19])),fe(t,"keydown",Tt(l[20])),fe(e,"click",l[15]),fe(e,"keydown",l[24])],L=!0)},p(w,y){var A;y[0]&32&&u!==(u=Ct((A=w[5])==null?void 0:A.depositAmount)+"")&&M(f,u)},d(w){w&&q(e),L=!1,rt(k)}}}function Xs(l){let e,t,n,i,o,a,r,u;t=new Ms({props:{tabs:l[6],activeTab:l[3]}}),t.$on("tabChange",l[9]);let f=l[3]==="standard"&&Jl(l),p=l[3]==="supplier"&&Xl(l),v=l[3]==="open"&&tn(l),_=l[3]==="routes"&&sn(l),g=l[4]&&cn(l);return{c(){e=d("div"),$e(t.$$.fragment),n=m(),f&&f.c(),i=m(),p&&p.c(),o=m(),v&&v.c(),a=m(),_&&_.c(),r=m(),g&&g.c(),c(e,"class","board-screen svelte-t5sfgo")},m(b,h){D(b,e,h),we(t,e,null),s(e,n),f&&f.m(e,null),s(e,i),p&&p.m(e,null),s(e,o),v&&v.m(e,null),s(e,a),_&&_.m(e,null),s(e,r),g&&g.m(e,null),u=!0},p(b,h){const L={};h[0]&64&&(L.tabs=b[6]),h[0]&8&&(L.activeTab=b[3]),t.$set(L),b[3]==="standard"?f?(f.p(b,h),h[0]&8&&E(f,1)):(f=Jl(b),f.c(),E(f,1),f.m(e,i)):f&&(he(),j(f,1,1,()=>{f=null}),ke()),b[3]==="supplier"?p?(p.p(b,h),h[0]&8&&E(p,1)):(p=Xl(b),p.c(),E(p,1),p.m(e,o)):p&&(he(),j(p,1,1,()=>{p=null}),ke()),b[3]==="open"?v?(v.p(b,h),h[0]&8&&E(v,1)):(v=tn(b),v.c(),E(v,1),v.m(e,a)):v&&(he(),j(v,1,1,()=>{v=null}),ke()),b[3]==="routes"?_?(_.p(b,h),h[0]&8&&E(_,1)):(_=sn(b),_.c(),E(_,1),_.m(e,r)):_&&(he(),j(_,1,1,()=>{_=null}),ke()),b[4]?g?g.p(b,h):(g=cn(b),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(b){u||(E(t.$$.fragment,b),E(f),E(p),E(v),E(_),u=!0)},o(b){j(t.$$.fragment,b),j(f),j(p),j(v),j(_),u=!1},d(b){b&&q(e),Ce(t),f&&f.d(),p&&p.d(),v&&v.d(),_&&_.d(),g&&g.d()}}}function Ct(l){return l==null?"$0":"$"+Number(l).toLocaleString("en-US")}function fn(l){return l==null?"—":Number(l).toFixed(1)+" mi"}function Ys(l,e,t){let n,i,o,a,r,u,f;ft(l,Ft,R=>t(17,u=R)),ft(l,sl,R=>t(18,f=R));const p=Pt();let v="standard",_="all",g="all",b=!1,h=null;const L=[{id:"standard",label:"Standard"},{id:"supplier",label:"Supplier"},{id:"open",label:"Open"},{id:"routes",label:"Routes"}];function k(R){t(3,v=R.detail.tab)}function C(R,O=null){p("navigate",{screen:R,data:O})}function w(R){C("loadDetail",R.detail.load)}async function y(R){const O=R.detail.load;await Mt("reserveLoad",{loadId:O.id})}function A(R){t(5,h=R.detail.load),t(4,b=!0)}async function T(){h&&await Mt("acceptLoad",{loadId:h.id}),t(4,b=!1),t(5,h=null)}function $(){t(4,b=!1),t(5,h=null)}function P(R){Vt.call(this,l,R)}function B(R){Vt.call(this,l,R)}function Q(){_=ul(this),t(0,_)}function ne(){g=ul(this),t(1,g)}const se=R=>C("loadDetail",R),H=R=>R.key==="Escape"&&$();return l.$$.update=()=>{l.$$.dirty[0]&262144&&t(2,n=f),l.$$.dirty[0]&131072&&t(16,i=u),l.$$.dirty[0]&65536&&t(8,o=["professional","elite"].includes(i.reputationTier)),l.$$.dirty[0]&7&&t(7,a=(()=>{let R=n.standard||[];return _!=="all"&&(R=R.filter(O=>O.tier===Number(_))),g!=="all"&&(R=R.filter(O=>O.boardRegion===g)),R})()),l.$$.dirty[0]&4&&t(6,r=L.map(R=>({...R,count:R.id==="standard"?(n.standard||[]).length:R.id==="supplier"?(n.supplier||[]).length:R.id==="open"?(n.open||[]).length:R.id==="routes"?(n.routes||[]).length:0})))},[_,g,n,v,b,h,r,a,o,k,C,w,y,A,T,$,i,u,f,P,B,Q,ne,se,H]}class xs extends ut{constructor(e){super(),ot(this,e,Ys,Xs,xe,{},null,[-1,-1])}}function dn(l,e,t){const n=l.slice();return n[10]=e[t],n}function pn(l,e,t){const n=l.slice();return n[13]=e[t],n[15]=t,n}function ei(l){let e,t,n,i,o,a;return{c(){e=d("div"),t=d("span"),t.textContent="No load selected.",n=m(),i=d("button"),i.textContent="Back to Board",c(t,"class","text-muted"),c(i,"class","btn btn-secondary"),c(e,"class","empty-state svelte-71s5ly")},m(r,u){D(r,e,u),s(e,t),s(e,n),s(e,i),o||(a=fe(i,"click",l[5]),o=!0)},p:Y,i:Y,o:Y,d(r){r&&q(e),o=!1,a()}}}function ti(l){let e,t,n,i,o,a,r,u,f=(l[0].cargoType||"Cargo")+"",p,v,_,g,b,h,L,k,C,w,y,A,T,$=wn(l[0].distanceMiles)+"",P,B,Q,ne,se,H,R,O,U,G,V=(l[0].cargoType||"—")+"",ee,re,x,te,Z,z,F=Cn(l[0].weightLbs)+"",W,X,le,Se,ue,ae,ve,Ie,ye=(l[0].shipperName||"—")+"",et,oe,de,Be,dt,tt,We=(l[0].requiredVehicleType||"Any")+"",gt,pt,De,ze,Ke,Je,vt,Ne,Ve,Qe,He,Ze,lt=Kt(l[0].depositAmount)+"",qe,Me,nt,Ge,st,Xe,it=l[0].deliveryWindowMinutes?l[0].deliveryWindowMinutes+" min":"—",Re,ht,ce,ct,wt,Ye,K=l[2]?"Accepting...":"Accept Load",_e,me,be,Pe,pe;a=new Zt({props:{tier:l[0].tier}});let Ae=l[0].cargoSubtype&&vn(l),ge=l[0].surgeActive&&_n(l);function je(I,Te){return I[3]?ni:li}let Fe=je(l),Ee=Fe(l),N=l[0].tempMinF!=null&&l[0].tempMaxF!=null&&bn(l),ie=l[0].hazmatClass&&gn(l);const _t=[ii,si],at=[];function jt(I,Te){return I[0].payoutBreakdown?0:1}De=jt(l),ze=at[De]=_t[De](l);let Ue=l[1].length>0&&kn(l);return{c(){e=d("div"),t=d("button"),t.innerHTML='<span class="back-arrow svelte-71s5ly">←</span> Back to Board',n=m(),i=d("div"),o=d("div"),$e(a.$$.fragment),r=m(),u=d("h2"),p=S(f),v=m(),Ae&&Ae.c(),_=m(),ge&&ge.c(),g=m(),b=d("div"),h=d("h3"),h.textContent="Route",L=m(),k=d("div"),Ee.c(),C=m(),w=d("div"),y=d("span"),y.textContent="Total Distance:",A=m(),T=d("span"),P=S($),B=m(),Q=d("div"),ne=d("h3"),ne.textContent="Cargo Details",se=m(),H=d("div"),R=d("div"),O=d("span"),O.textContent="Type",U=m(),G=d("span"),ee=S(V),re=m(),x=d("div"),te=d("span"),te.textContent="Weight",Z=m(),z=d("span"),W=S(F),X=m(),N&&N.c(),le=m(),ie&&ie.c(),Se=m(),ue=d("div"),ae=d("span"),ae.textContent="Shipper",ve=m(),Ie=d("span"),et=S(ye),oe=m(),de=d("div"),Be=d("span"),Be.textContent="Vehicle Type",dt=m(),tt=d("span"),gt=S(We),pt=m(),ze.c(),Ke=m(),Ue&&Ue.c(),Je=m(),vt=d("div"),Ne=d("div"),Ve=d("div"),Qe=d("span"),Qe.textContent="Deposit",He=m(),Ze=d("span"),qe=S(lt),Me=m(),nt=d("div"),Ge=d("span"),Ge.textContent="Delivery Window",st=m(),Xe=d("span"),Re=S(it),ht=m(),ce=d("div"),ct=d("button"),ct.textContent="Back",wt=m(),Ye=d("button"),_e=S(K),c(t,"class","back-btn svelte-71s5ly"),c(u,"class","cargo-title svelte-71s5ly"),c(o,"class","header-left svelte-71s5ly"),c(i,"class","detail-header svelte-71s5ly"),c(h,"class","card-title"),c(k,"class","route-display svelte-71s5ly"),c(y,"class","text-muted"),c(T,"class","mono"),c(w,"class","route-distance svelte-71s5ly"),c(b,"class","card route-card"),c(ne,"class","card-title"),c(O,"class","detail-label svelte-71s5ly"),c(G,"class","detail-value svelte-71s5ly"),c(R,"class","detail-item svelte-71s5ly"),c(te,"class","detail-label svelte-71s5ly"),c(z,"class","detail-value mono svelte-71s5ly"),c(x,"class","detail-item svelte-71s5ly"),c(ae,"class","detail-label svelte-71s5ly"),c(Ie,"class","detail-value svelte-71s5ly"),c(ue,"class","detail-item svelte-71s5ly"),c(Be,"class","detail-label svelte-71s5ly"),c(tt,"class","detail-value svelte-71s5ly"),c(de,"class","detail-item svelte-71s5ly"),c(H,"class","detail-grid svelte-71s5ly"),c(Q,"class","card cargo-card"),c(Qe,"class","detail-label svelte-71s5ly"),c(Ze,"class","detail-value mono svelte-71s5ly"),c(Ve,"class","detail-item svelte-71s5ly"),c(Ge,"class","detail-label svelte-71s5ly"),c(Xe,"class","detail-value mono svelte-71s5ly"),c(nt,"class","detail-item svelte-71s5ly"),c(Ne,"class","info-row svelte-71s5ly"),c(vt,"class","card info-card"),c(ct,"class","btn btn-secondary"),c(Ye,"class","btn btn-primary"),Ye.disabled=me=!l[4]||l[2],c(ce,"class","detail-actions svelte-71s5ly"),c(e,"class","load-detail-screen svelte-71s5ly")},m(I,Te){D(I,e,Te),s(e,t),s(e,n),s(e,i),s(i,o),we(a,o,null),s(o,r),s(o,u),s(u,p),s(o,v),Ae&&Ae.m(o,null),s(i,_),ge&&ge.m(i,null),s(e,g),s(e,b),s(b,h),s(b,L),s(b,k),Ee.m(k,null),s(b,C),s(b,w),s(w,y),s(w,A),s(w,T),s(T,P),s(e,B),s(e,Q),s(Q,ne),s(Q,se),s(Q,H),s(H,R),s(R,O),s(R,U),s(R,G),s(G,ee),s(H,re),s(H,x),s(x,te),s(x,Z),s(x,z),s(z,W),s(H,X),N&&N.m(H,null),s(H,le),ie&&ie.m(H,null),s(H,Se),s(H,ue),s(ue,ae),s(ue,ve),s(ue,Ie),s(Ie,et),s(H,oe),s(H,de),s(de,Be),s(de,dt),s(de,tt),s(tt,gt),s(e,pt),at[De].m(e,null),s(e,Ke),Ue&&Ue.m(e,null),s(e,Je),s(e,vt),s(vt,Ne),s(Ne,Ve),s(Ve,Qe),s(Ve,He),s(Ve,Ze),s(Ze,qe),s(Ne,Me),s(Ne,nt),s(nt,Ge),s(nt,st),s(nt,Xe),s(Xe,Re),s(e,ht),s(e,ce),s(ce,ct),s(ce,wt),s(ce,Ye),s(Ye,_e),be=!0,Pe||(pe=[fe(t,"click",l[5]),fe(ct,"click",l[5]),fe(Ye,"click",l[6])],Pe=!0)},p(I,Te){const al={};Te&1&&(al.tier=I[0].tier),a.$set(al),(!be||Te&1)&&f!==(f=(I[0].cargoType||"Cargo")+"")&&M(p,f),I[0].cargoSubtype?Ae?Ae.p(I,Te):(Ae=vn(I),Ae.c(),Ae.m(o,null)):Ae&&(Ae.d(1),Ae=null),I[0].surgeActive?ge?ge.p(I,Te):(ge=_n(I),ge.c(),ge.m(i,null)):ge&&(ge.d(1),ge=null),Fe===(Fe=je(I))&&Ee?Ee.p(I,Te):(Ee.d(1),Ee=Fe(I),Ee&&(Ee.c(),Ee.m(k,null))),(!be||Te&1)&&$!==($=wn(I[0].distanceMiles)+"")&&M(P,$),(!be||Te&1)&&V!==(V=(I[0].cargoType||"—")+"")&&M(ee,V),(!be||Te&1)&&F!==(F=Cn(I[0].weightLbs)+"")&&M(W,F),I[0].tempMinF!=null&&I[0].tempMaxF!=null?N?N.p(I,Te):(N=bn(I),N.c(),N.m(H,le)):N&&(N.d(1),N=null),I[0].hazmatClass?ie?(ie.p(I,Te),Te&1&&E(ie,1)):(ie=gn(I),ie.c(),E(ie,1),ie.m(H,Se)):ie&&(he(),j(ie,1,1,()=>{ie=null}),ke()),(!be||Te&1)&&ye!==(ye=(I[0].shipperName||"—")+"")&&M(et,ye),(!be||Te&1)&&We!==(We=(I[0].requiredVehicleType||"Any")+"")&&M(gt,We);let Xt=De;De=jt(I),De===Xt?at[De].p(I,Te):(he(),j(at[Xt],1,1,()=>{at[Xt]=null}),ke(),ze=at[De],ze?ze.p(I,Te):(ze=at[De]=_t[De](I),ze.c()),E(ze,1),ze.m(e,Ke)),I[1].length>0?Ue?Ue.p(I,Te):(Ue=kn(I),Ue.c(),Ue.m(e,Je)):Ue&&(Ue.d(1),Ue=null),(!be||Te&1)&&lt!==(lt=Kt(I[0].depositAmount)+"")&&M(qe,lt),(!be||Te&1)&&it!==(it=I[0].deliveryWindowMinutes?I[0].deliveryWindowMinutes+" min":"—")&&M(Re,it),(!be||Te&4)&&K!==(K=I[2]?"Accepting...":"Accept Load")&&M(_e,K),(!be||Te&20&&me!==(me=!I[4]||I[2]))&&(Ye.disabled=me)},i(I){be||(E(a.$$.fragment,I),E(ie),E(ze),be=!0)},o(I){j(a.$$.fragment,I),j(ie),j(ze),be=!1},d(I){I&&q(e),Ce(a),Ae&&Ae.d(),ge&&ge.d(),Ee.d(),N&&N.d(),ie&&ie.d(),at[De].d(),Ue&&Ue.d(),Pe=!1,rt(pe)}}}function vn(l){let e,t,n=l[0].cargoSubtype+"",i,o;return{c(){e=d("span"),t=S("("),i=S(n),o=S(")"),c(e,"class","cargo-sub text-muted svelte-71s5ly")},m(a,r){D(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r&1&&n!==(n=a[0].cargoSubtype+"")&&M(i,n)},d(a){a&&q(e)}}}function _n(l){let e,t,n=l[0].surgePercentage+"",i,o;return{c(){e=d("span"),t=S("SURGE +"),i=S(n),o=S("%"),c(e,"class","badge badge-surge svelte-71s5ly")},m(a,r){D(a,e,r),s(e,t),s(e,i),s(e,o)},p(a,r){r&1&&n!==(n=a[0].surgePercentage+"")&&M(i,n)},d(a){a&&q(e)}}}function li(l){let e,t,n,i,o,a=(l[0].originLabel||"—")+"",r,u,f,p,v,_,g,b,h=(l[0].destinationLabel||"—")+"",L;return{c(){e=d("div"),t=d("div"),n=d("span"),i=m(),o=d("span"),r=S(a),u=m(),f=d("div"),p=m(),v=d("div"),_=d("span"),g=m(),b=d("span"),L=S(h),c(n,"class","route-dot svelte-71s5ly"),c(o,"class","route-location svelte-71s5ly"),c(t,"class","route-point origin svelte-71s5ly"),c(f,"class","route-connector svelte-71s5ly"),c(_,"class","route-dot dest-dot svelte-71s5ly"),c(b,"class","route-location svelte-71s5ly"),c(v,"class","route-point destination svelte-71s5ly"),c(e,"class","single-route svelte-71s5ly")},m(k,C){D(k,e,C),s(e,t),s(t,n),s(t,i),s(t,o),s(o,r),s(e,u),s(e,f),s(e,p),s(e,v),s(v,_),s(v,g),s(v,b),s(b,L)},p(k,C){C&1&&a!==(a=(k[0].originLabel||"—")+"")&&M(r,a),C&1&&h!==(h=(k[0].destinationLabel||"—")+"")&&M(L,h)},d(k){k&&q(e)}}}function ni(l){let e,t,n,i,o,a=l[0].originLabel+"",r,u,f,p,v,_,g,b,h,L=l[0].destinationLabel+"",k,C=Le(l[0].stops||[]),w=[];for(let y=0;y<C.length;y+=1)w[y]=mn(pn(l,C,y));return{c(){e=d("div"),t=d("div"),n=d("span"),i=m(),o=d("span"),r=S(a),u=m();for(let y=0;y<w.length;y+=1)w[y].c();f=m(),p=d("div"),v=m(),_=d("div"),g=d("span"),b=m(),h=d("span"),k=S(L),c(n,"class","route-dot svelte-71s5ly"),c(o,"class","route-location svelte-71s5ly"),c(t,"class","route-point origin svelte-71s5ly"),c(p,"class","route-connector svelte-71s5ly"),c(g,"class","route-dot dest-dot svelte-71s5ly"),c(h,"class","route-location svelte-71s5ly"),c(_,"class","route-point destination svelte-71s5ly"),c(e,"class","multi-stop-route svelte-71s5ly")},m(y,A){D(y,e,A),s(e,t),s(t,n),s(t,i),s(t,o),s(o,r),s(e,u);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(e,null);s(e,f),s(e,p),s(e,v),s(e,_),s(_,g),s(_,b),s(_,h),s(h,k)},p(y,A){if(A&1&&a!==(a=y[0].originLabel+"")&&M(r,a),A&1){C=Le(y[0].stops||[]);let T;for(T=0;T<C.length;T+=1){const $=pn(y,C,T);w[T]?w[T].p($,A):(w[T]=mn($),w[T].c(),w[T].m(e,f))}for(;T<w.length;T+=1)w[T].d(1);w.length=C.length}A&1&&L!==(L=y[0].destinationLabel+"")&&M(k,L)},d(y){y&&q(e),kt(w,y)}}}function mn(l){let e,t,n,i,o,a,r=(l[13].label||`Stop ${l[15]+1}`)+"",u;return{c(){e=d("div"),t=m(),n=d("div"),i=d("span"),o=m(),a=d("span"),u=S(r),c(e,"class","route-connector svelte-71s5ly"),c(i,"class","route-dot stop-dot svelte-71s5ly"),c(a,"class","route-location svelte-71s5ly"),c(n,"class","route-point stop svelte-71s5ly")},m(f,p){D(f,e,p),D(f,t,p),D(f,n,p),s(n,i),s(n,o),s(n,a),s(a,u)},p(f,p){p&1&&r!==(r=(f[13].label||`Stop ${f[15]+1}`)+"")&&M(u,r)},d(f){f&&(q(e),q(t),q(n))}}}function bn(l){let e,t,n,i,o=l[0].tempMinF+"",a,r,u=l[0].tempMaxF+"",f,p;return{c(){e=d("div"),t=d("span"),t.textContent="Temperature Range",n=m(),i=d("span"),a=S(o),r=S("°F - "),f=S(u),p=S("°F"),c(t,"class","detail-label svelte-71s5ly"),c(i,"class","detail-value mono svelte-71s5ly"),c(e,"class","detail-item svelte-71s5ly")},m(v,_){D(v,e,_),s(e,t),s(e,n),s(e,i),s(i,a),s(i,r),s(i,f),s(i,p)},p(v,_){_&1&&o!==(o=v[0].tempMinF+"")&&M(a,o),_&1&&u!==(u=v[0].tempMaxF+"")&&M(f,u)},d(v){v&&q(e)}}}function gn(l){let e,t,n,i,o,a,r;o=new bt({props:{status:"warning",label:"Class "+l[0].hazmatClass}});let u=l[0].hazmatUnNumber&&hn(l);return{c(){e=d("div"),t=d("span"),t.textContent="Hazmat Class",n=m(),i=d("span"),$e(o.$$.fragment),a=m(),u&&u.c(),c(t,"class","detail-label svelte-71s5ly"),c(i,"class","detail-value svelte-71s5ly"),c(e,"class","detail-item svelte-71s5ly")},m(f,p){D(f,e,p),s(e,t),s(e,n),s(e,i),we(o,i,null),s(i,a),u&&u.m(i,null),r=!0},p(f,p){const v={};p&1&&(v.label="Class "+f[0].hazmatClass),o.$set(v),f[0].hazmatUnNumber?u?u.p(f,p):(u=hn(f),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(f){r||(E(o.$$.fragment,f),r=!0)},o(f){j(o.$$.fragment,f),r=!1},d(f){f&&q(e),Ce(o),u&&u.d()}}}function hn(l){let e,t,n=l[0].hazmatUnNumber+"",i;return{c(){e=d("span"),t=S("UN"),i=S(n),c(e,"class","mono text-muted"),Oe(e,"margin-left","6px")},m(o,a){D(o,e,a),s(e,t),s(e,i)},p(o,a){a&1&&n!==(n=o[0].hazmatUnNumber+"")&&M(i,n)},d(o){o&&q(e)}}}function si(l){let e,t,n,i,o=Kt(l[0].basePayout||l[0].basePayoutRental)+"",a;return{c(){e=d("div"),t=d("h3"),t.textContent="Estimated Payout",n=m(),i=d("span"),a=S(o),c(t,"class","card-title"),c(i,"class","payout-figure mono svelte-71s5ly"),Oe(i,"font-size","20px"),c(e,"class","card payout-card")},m(r,u){D(r,e,u),s(e,t),s(e,n),s(e,i),s(i,a)},p(r,u){u&1&&o!==(o=Kt(r[0].basePayout||r[0].basePayoutRental)+"")&&M(a,o)},i:Y,o:Y,d(r){r&&q(e)}}}function ii(l){let e,t;return e=new il({props:{breakdown:l[0].payoutBreakdown,startExpanded:!0}}),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.breakdown=n[0].payoutBreakdown),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function kn(l){let e,t,n,i,o=Le(l[1]),a=[];for(let r=0;r<o.length;r+=1)a[r]=yn(dn(l,o,r));return{c(){e=d("div"),t=d("h3"),t.textContent="Requirements",n=m(),i=d("div");for(let r=0;r<a.length;r+=1)a[r].c();c(t,"class","card-title"),c(i,"class","requirements-list svelte-71s5ly"),c(e,"class","card requirements-card")},m(r,u){D(r,e,u),s(e,t),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(r,u){if(u&2){o=Le(r[1]);let f;for(f=0;f<o.length;f+=1){const p=dn(r,o,f);a[f]?a[f].p(p,u):(a[f]=yn(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}},d(r){r&&q(e),kt(a,r)}}}function yn(l){let e,t,n=l[10].met?"✓":"✗",i,o,a,r=l[10].label+"",u,f;return{c(){e=d("div"),t=d("span"),i=S(n),o=m(),a=d("span"),u=S(r),f=m(),c(t,"class","req-icon svelte-71s5ly"),c(a,"class","req-label svelte-71s5ly"),c(e,"class","req-row svelte-71s5ly"),J(e,"req-met",l[10].met),J(e,"req-unmet",!l[10].met)},m(p,v){D(p,e,v),s(e,t),s(t,i),s(e,o),s(e,a),s(a,u),s(e,f)},p(p,v){v&2&&n!==(n=p[10].met?"✓":"✗")&&M(i,n),v&2&&r!==(r=p[10].label+"")&&M(u,r),v&2&&J(e,"req-met",p[10].met),v&2&&J(e,"req-unmet",!p[10].met)},d(p){p&&q(e)}}}function ai(l){let e,t,n,i;const o=[ti,ei],a=[];function r(u,f){return u[0]?0:1}return e=r(l),t=a[e]=o[e](l),{c(){t.c(),n=Lt()},m(u,f){a[e].m(u,f),D(u,n,f),i=!0},p(u,[f]){let p=e;e=r(u),e===p?a[e].p(u,f):(he(),j(a[p],1,1,()=>{a[p]=null}),ke(),t=a[e],t?t.p(u,f):(t=a[e]=o[e](u),t.c()),E(t,1),t.m(n.parentNode,n))},i(u){i||(E(t),i=!0)},o(u){j(t),i=!1},d(u){u&&q(n),a[e].d(u)}}}function Kt(l){return l==null?"—":"$"+Number(l).toLocaleString("en-US")}function wn(l){return l==null?"—":Number(l).toFixed(1)+" mi"}function Cn(l){return l==null?"—":Number(l).toLocaleString()+" lbs"}function ri(l,e){var n,i,o;if(!l)return[];const t=[];if(l.requiredLicense&&l.requiredLicense!=="none"){const a=(n=e.licenses)==null?void 0:n.some(r=>r.type===l.requiredLicense&&r.status==="active");t.push({label:`CDL ${l.requiredLicense.replace("_"," ").toUpperCase()}`,met:a})}if(l.requiredEndorsement){const a=(i=e.licenses)==null?void 0:i.some(r=>r.type===l.requiredEndorsement&&r.status==="active");t.push({label:`Endorsement: ${l.requiredEndorsement.replace("_"," ").toUpperCase()}`,met:a})}if(l.requiredCertification){const a=(o=e.certifications)==null?void 0:o.some(r=>r.type===l.requiredCertification&&r.status==="active");t.push({label:`Certification: ${l.requiredCertification.replace(/_/g," ")}`,met:a})}return t}function oi(l,e,t){let n,i,o,a,r;ft(l,Ft,g=>t(8,r=g));let{load:u=null}=e;const f=Pt();let p=!1;function v(){f("back")}async function _(){!u||p||(t(2,p=!0),await Mt("acceptLoad",{loadId:u.id}),t(2,p=!1))}return l.$$set=g=>{"load"in g&&t(0,u=g.load)},l.$$.update=()=>{l.$$.dirty&256&&t(7,n=r),l.$$.dirty&129&&t(1,i=ri(u,n)),l.$$.dirty&2&&t(4,o=i.every(g=>g.met)),l.$$.dirty&1&&t(3,a=(u==null?void 0:u.isMultiStop)||(u==null?void 0:u.stops)&&u.stops.length>1)},[u,i,p,a,o,v,_,n,r]}class ui extends ut{constructor(e){super(),ot(this,e,oi,ai,xe,{load:0})}}function Ln(l,e,t){const n=l.slice();return n[18]=e[t],n[20]=t,n}function Sn(l,e,t){const n=l.slice();return n[21]=e[t],n}function Tn(l,e,t){const n=l.slice();return n[24]=e[t],n}function ci(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="text-muted" style="font-size: 14px;">No active load. Visit the board to pick up a job.</span>',c(e,"class","empty-state svelte-97jg85")},m(t,n){D(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&q(e)}}}function fi(l){let e,t,n,i,o,a=(l[0].bolNumber||"—")+"",r,u,f,p=(l[0].cargoType||"Cargo")+"",v,_,g,b,h,L,k,C,w,y,A=(l[0].destinationLabel||"—")+"",T,$,P,B,Q,ne,se=Bn(l[0].distanceRemaining)+"",H,R,O,U,G,V,ee,re,x,te,Z,z,F,W,X,le,Se=(l[0].cargoIntegrity??100)+"",ue,ae,ve,Ie,ye,et,oe,de,Be,dt,tt,We,gt,pt,De,ze,Ke,Je,vt,Ne,Ve,Qe,He,Ze,lt=Jt(l[0].estimatedPayout)+"",qe,Me,nt,Ge,st,Xe,it,Re,ht,ce,ct,wt;g=new bt({props:{status:l[0].status||"in_transit"}});const Ye=[pi,di],K=[];function _e(N,ie){return N[0].windowExpiresAt?0:1}U=_e(l),G=K[U]=Ye[U](l);let me=l[2]&&$n(l);F=new Jn({props:{value:l[0].cargoIntegrity??100,label:"%",size:72,strokeWidth:5,variant:"integrity",criticalThreshold:40,warningThreshold:70}});let be=(l[0].cargoIntegrity??100)<=40&&qn(),Pe=l[1]&&Dn(l);We=new bt({props:{status:l[0].sealStatus||"not_applied"}});let pe=l[0].sealNumber&&Mn(l),Ae=Le(l[6]),ge=[];for(let N=0;N<Ae.length;N+=1)ge[N]=An(Sn(l,Ae,N));let je=l[0].payoutBreakdown&&Pn(l),Fe=l[7]&&l[0].stops&&jn(l),Ee=l[3]&&Rn(l);return{c(){e=d("div"),t=d("div"),n=d("div"),i=d("span"),o=S("BOL #"),r=S(a),u=m(),f=d("h2"),v=S(p),_=m(),$e(g.$$.fragment),b=m(),h=d("div"),L=d("div"),k=d("div"),C=d("span"),C.textContent="Destination",w=m(),y=d("span"),T=S(A),$=m(),P=d("div"),B=d("span"),B.textContent="Distance Remaining",Q=m(),ne=d("span"),H=S(se),R=m(),O=d("div"),G.c(),V=m(),ee=d("div"),me&&me.c(),re=m(),x=d("div"),te=d("h4"),te.textContent="Cargo Integrity",Z=m(),z=d("div"),$e(F.$$.fragment),W=m(),X=d("div"),le=d("span"),ue=S(Se),ae=S("%"),ve=m(),be&&be.c(),Ie=m(),ye=d("div"),ye.innerHTML='Rejection threshold: <span class="mono">40%</span>',et=m(),Pe&&Pe.c(),oe=m(),de=d("div"),Be=d("div"),dt=d("h4"),dt.textContent="Seal Status",tt=m(),$e(We.$$.fragment),gt=m(),pe&&pe.c(),pt=m(),De=d("div"),ze=d("h4"),ze.textContent="Compliance Checklist",Ke=m(),Je=d("div");for(let N=0;N<ge.length;N+=1)ge[N].c();vt=m(),Ne=d("div"),Ve=d("div"),Qe=d("h4"),Qe.textContent="Estimated Payout",He=m(),Ze=d("span"),qe=S(lt),Me=m(),je&&je.c(),nt=m(),Fe&&Fe.c(),Ge=m(),st=d("div"),Xe=d("button"),Xe.textContent="Distress Signal",it=m(),Re=d("button"),Re.textContent="Abandon Load",ht=m(),Ee&&Ee.c(),c(i,"class","bol-number mono svelte-97jg85"),c(f,"class","cargo-title svelte-97jg85"),c(n,"class","header-info svelte-97jg85"),c(t,"class","load-header svelte-97jg85"),c(C,"class","dest-label text-muted svelte-97jg85"),c(y,"class","dest-name svelte-97jg85"),c(k,"class","dest-info svelte-97jg85"),c(B,"class","dest-label text-muted svelte-97jg85"),c(ne,"class","dest-value mono svelte-97jg85"),c(P,"class","dest-distance svelte-97jg85"),c(L,"class","dest-row svelte-97jg85"),c(h,"class","card destination-card"),c(O,"class","card timer-card svelte-97jg85"),c(te,"class","card-title"),c(le,"class","integrity-value mono"),Oe(le,"font-size","14px"),c(X,"class","integrity-info svelte-97jg85"),c(ye,"class","threshold-marker text-muted"),Oe(ye,"font-size","10px"),Oe(ye,"margin-top","4px"),c(z,"class","integrity-display svelte-97jg85"),c(x,"class","card meter-card svelte-97jg85"),c(ee,"class","meters-row svelte-97jg85"),c(dt,"class","card-title"),c(Be,"class","card-header"),c(de,"class","card seal-card"),c(ze,"class","card-title"),c(Je,"class","compliance-list svelte-97jg85"),c(De,"class","card compliance-card"),c(Qe,"class","card-title"),c(Ze,"class","payout-value payout-figure mono svelte-97jg85"),c(Ve,"class","card-header"),c(Ne,"class","card payout-card"),c(Xe,"class","btn btn-secondary"),c(Re,"class","btn btn-danger"),c(st,"class","load-actions svelte-97jg85"),c(e,"class","active-load-screen svelte-97jg85")},m(N,ie){D(N,e,ie),s(e,t),s(t,n),s(n,i),s(i,o),s(i,r),s(n,u),s(n,f),s(f,v),s(n,_),we(g,n,null),s(e,b),s(e,h),s(h,L),s(L,k),s(k,C),s(k,w),s(k,y),s(y,T),s(L,$),s(L,P),s(P,B),s(P,Q),s(P,ne),s(ne,H),s(e,R),s(e,O),K[U].m(O,null),s(e,V),s(e,ee),me&&me.m(ee,null),s(ee,re),s(ee,x),s(x,te),s(x,Z),s(x,z),we(F,z,null),s(z,W),s(z,X),s(X,le),s(le,ue),s(le,ae),s(X,ve),be&&be.m(X,null),s(z,Ie),s(z,ye),s(ee,et),Pe&&Pe.m(ee,null),s(e,oe),s(e,de),s(de,Be),s(Be,dt),s(Be,tt),we(We,Be,null),s(de,gt),pe&&pe.m(de,null),s(e,pt),s(e,De),s(De,ze),s(De,Ke),s(De,Je);for(let _t=0;_t<ge.length;_t+=1)ge[_t]&&ge[_t].m(Je,null);s(e,vt),s(e,Ne),s(Ne,Ve),s(Ve,Qe),s(Ve,He),s(Ve,Ze),s(Ze,qe),s(Ne,Me),je&&je.m(Ne,null),s(e,nt),Fe&&Fe.m(e,null),s(e,Ge),s(e,st),s(st,Xe),s(st,it),s(st,Re),s(e,ht),Ee&&Ee.m(e,null),ce=!0,ct||(wt=[fe(Xe,"click",l[9]),fe(Re,"click",l[10])],ct=!0)},p(N,ie){(!ce||ie&1)&&a!==(a=(N[0].bolNumber||"—")+"")&&M(r,a),(!ce||ie&1)&&p!==(p=(N[0].cargoType||"Cargo")+"")&&M(v,p);const _t={};ie&1&&(_t.status=N[0].status||"in_transit"),g.$set(_t),(!ce||ie&1)&&A!==(A=(N[0].destinationLabel||"—")+"")&&M(T,A),(!ce||ie&1)&&se!==(se=Bn(N[0].distanceRemaining)+"")&&M(H,se);let at=U;U=_e(N),U===at?K[U].p(N,ie):(he(),j(K[at],1,1,()=>{K[at]=null}),ke(),G=K[U],G?G.p(N,ie):(G=K[U]=Ye[U](N),G.c()),E(G,1),G.m(O,null)),N[2]?me?(me.p(N,ie),ie&4&&E(me,1)):(me=$n(N),me.c(),E(me,1),me.m(ee,re)):me&&(he(),j(me,1,1,()=>{me=null}),ke());const jt={};ie&1&&(jt.value=N[0].cargoIntegrity??100),F.$set(jt),(!ce||ie&1)&&Se!==(Se=(N[0].cargoIntegrity??100)+"")&&M(ue,Se),(N[0].cargoIntegrity??100)<=40?be||(be=qn(),be.c(),be.m(X,null)):be&&(be.d(1),be=null),N[1]?Pe?Pe.p(N,ie):(Pe=Dn(N),Pe.c(),Pe.m(ee,null)):Pe&&(Pe.d(1),Pe=null);const Ue={};if(ie&1&&(Ue.status=N[0].sealStatus||"not_applied"),We.$set(Ue),N[0].sealNumber?pe?pe.p(N,ie):(pe=Mn(N),pe.c(),pe.m(de,null)):pe&&(pe.d(1),pe=null),ie&64){Ae=Le(N[6]);let I;for(I=0;I<Ae.length;I+=1){const Te=Sn(N,Ae,I);ge[I]?ge[I].p(Te,ie):(ge[I]=An(Te),ge[I].c(),ge[I].m(Je,null))}for(;I<ge.length;I+=1)ge[I].d(1);ge.length=Ae.length}(!ce||ie&1)&&lt!==(lt=Jt(N[0].estimatedPayout)+"")&&M(qe,lt),N[0].payoutBreakdown?je?(je.p(N,ie),ie&1&&E(je,1)):(je=Pn(N),je.c(),E(je,1),je.m(Ne,null)):je&&(he(),j(je,1,1,()=>{je=null}),ke()),N[7]&&N[0].stops?Fe?Fe.p(N,ie):(Fe=jn(N),Fe.c(),Fe.m(e,Ge)):Fe&&(Fe.d(1),Fe=null),N[3]?Ee?Ee.p(N,ie):(Ee=Rn(N),Ee.c(),Ee.m(e,null)):Ee&&(Ee.d(1),Ee=null)},i(N){ce||(E(g.$$.fragment,N),E(G),E(me),E(F.$$.fragment,N),E(We.$$.fragment,N),E(je),ce=!0)},o(N){j(g.$$.fragment,N),j(G),j(me),j(F.$$.fragment,N),j(We.$$.fragment,N),j(je),ce=!1},d(N){N&&q(e),Ce(g),K[U].d(),me&&me.d(),Ce(F),be&&be.d(),Pe&&Pe.d(),Ce(We),pe&&pe.d(),kt(ge,N),je&&je.d(),Fe&&Fe.d(),Ee&&Ee.d(),ct=!1,rt(wt)}}}function di(l){let e;return{c(){e=d("span"),e.textContent="No delivery window set",c(e,"class","text-muted")},m(t,n){D(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&q(e)}}}function pi(l){let e,t;return e=new Kn({props:{targetTime:l[0].windowExpiresAt,large:!0,warningMinutes:15,criticalMinutes:5}}),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.targetTime=n[0].windowExpiresAt),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function $n(l){let e,t,n,i,o,a=l[0].currentTempF!=null?l[0].currentTempF+"°F":"—",r,u,f,p,v=(l[0].tempMinF??"—")+"",_,g,b=(l[0].tempMaxF??"—")+"",h,L,k,C,w;return C=new bt({props:{status:l[8]?"active":"critical",label:l[8]?"In Range":"Out of Range"}}),{c(){e=d("div"),t=d("h4"),t.textContent="Temperature",n=m(),i=d("div"),o=d("span"),r=S(a),u=m(),f=d("span"),p=S("Target: "),_=S(v),g=S("°F - "),h=S(b),L=S("°F"),k=m(),$e(C.$$.fragment),c(t,"class","card-title"),c(o,"class","temp-value mono svelte-97jg85"),J(o,"temp-ok",l[8]),J(o,"temp-bad",!l[8]),c(f,"class","temp-range text-muted mono svelte-97jg85"),c(i,"class","temp-display svelte-97jg85"),c(e,"class","card meter-card svelte-97jg85")},m(y,A){D(y,e,A),s(e,t),s(e,n),s(e,i),s(i,o),s(o,r),s(i,u),s(i,f),s(f,p),s(f,_),s(f,g),s(f,h),s(f,L),s(i,k),we(C,i,null),w=!0},p(y,A){(!w||A&1)&&a!==(a=y[0].currentTempF!=null?y[0].currentTempF+"°F":"—")&&M(r,a),(!w||A&256)&&J(o,"temp-ok",y[8]),(!w||A&256)&&J(o,"temp-bad",!y[8]),(!w||A&1)&&v!==(v=(y[0].tempMinF??"—")+"")&&M(_,v),(!w||A&1)&&b!==(b=(y[0].tempMaxF??"—")+"")&&M(h,b);const T={};A&256&&(T.status=y[8]?"active":"critical"),A&256&&(T.label=y[8]?"In Range":"Out of Range"),C.$set(T)},i(y){w||(E(C.$$.fragment,y),w=!0)},o(y){j(C.$$.fragment,y),w=!1},d(y){y&&q(e),Ce(C)}}}function qn(l){let e;return{c(){e=d("span"),e.textContent="Below rejection threshold",c(e,"class","integrity-warning text-orange"),Oe(e,"font-size","11px")},m(t,n){D(t,e,n)},d(t){t&&q(e)}}}function Dn(l){let e,t,n,i,o=Le(l[5]),a=[];for(let r=0;r<o.length;r+=1)a[r]=En(Tn(l,o,r));return{c(){e=d("div"),t=d("h4"),t.textContent="Welfare Rating",n=m(),i=d("div");for(let r=0;r<a.length;r+=1)a[r].c();c(t,"class","card-title"),c(i,"class","welfare-stars svelte-97jg85"),c(e,"class","card meter-card svelte-97jg85")},m(r,u){D(r,e,u),s(e,t),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(r,u){if(u&32){o=Le(r[5]);let f;for(f=0;f<o.length;f+=1){const p=Tn(r,o,f);a[f]?a[f].p(p,u):(a[f]=En(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}},d(r){r&&q(e),kt(a,r)}}}function En(l){let e;return{c(){e=d("span"),e.textContent=`★
              `,c(e,"class","star svelte-97jg85"),J(e,"star-filled",l[24]),J(e,"star-empty",!l[24])},m(t,n){D(t,e,n)},p(t,n){n&32&&J(e,"star-filled",t[24]),n&32&&J(e,"star-empty",!t[24])},d(t){t&&q(e)}}}function Mn(l){let e,t,n=l[0].sealNumber+"",i;return{c(){e=d("span"),t=S("Seal #"),i=S(n),c(e,"class","seal-number mono text-muted svelte-97jg85")},m(o,a){D(o,e,a),s(e,t),s(e,i)},p(o,a){a&1&&n!==(n=o[0].sealNumber+"")&&M(i,n)},d(o){o&&q(e)}}}function An(l){let e,t,n=l[21].done?"✓":"✗",i,o,a,r=l[21].label+"",u,f;return{c(){e=d("div"),t=d("span"),i=S(n),o=m(),a=d("span"),u=S(r),f=m(),c(t,"class","compliance-icon svelte-97jg85"),c(a,"class","compliance-label svelte-97jg85"),c(e,"class","compliance-item svelte-97jg85"),J(e,"item-done",l[21].done)},m(p,v){D(p,e,v),s(e,t),s(t,i),s(e,o),s(e,a),s(a,u),s(e,f)},p(p,v){v&64&&n!==(n=p[21].done?"✓":"✗")&&M(i,n),v&64&&r!==(r=p[21].label+"")&&M(u,r),v&64&&J(e,"item-done",p[21].done)},d(p){p&&q(e)}}}function Pn(l){let e,t;return e=new il({props:{breakdown:l[0].payoutBreakdown}}),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.breakdown=n[0].payoutBreakdown),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function jn(l){let e,t,n,i,o=Le(l[0].stops),a=[];for(let r=0;r<o.length;r+=1)a[r]=Nn(Ln(l,o,r));return{c(){e=d("div"),t=d("h4"),t.textContent="Route Progress",n=m(),i=d("div");for(let r=0;r<a.length;r+=1)a[r].c();c(t,"class","card-title"),c(i,"class","stops-list svelte-97jg85"),c(e,"class","card stops-card")},m(r,u){D(r,e,u),s(e,t),s(e,n),s(e,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null)},p(r,u){if(u&1){o=Le(r[0].stops);let f;for(f=0;f<o.length;f+=1){const p=Ln(r,o,f);a[f]?a[f].p(p,u):(a[f]=Nn(p),a[f].c(),a[f].m(i,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}},d(r){r&&q(e),kt(a,r)}}}function vi(l){let e;return{c(){e=d("span"),e.textContent="○",c(e,"class","text-muted")},m(t,n){D(t,e,n)},d(t){t&&q(e)}}}function _i(l){let e;return{c(){e=d("span"),e.textContent="●",c(e,"class","text-orange")},m(t,n){D(t,e,n)},d(t){t&&q(e)}}}function mi(l){let e;return{c(){e=d("span"),e.textContent="✓",c(e,"class","text-success")},m(t,n){D(t,e,n)},d(t){t&&q(e)}}}function Nn(l){let e,t,n,i,o=(l[18].label||`Stop ${l[20]+1}`)+"",a,r;function u(v,_){return v[20]<(v[0].currentStop||1)-1?mi:v[20]===(v[0].currentStop||1)-1?_i:vi}let f=u(l),p=f(l);return{c(){e=d("div"),t=d("span"),p.c(),n=m(),i=d("span"),a=S(o),r=m(),c(t,"class","stop-indicator svelte-97jg85"),c(i,"class","stop-name svelte-97jg85"),c(e,"class","stop-item svelte-97jg85"),J(e,"stop-completed",l[20]<(l[0].currentStop||1)-1),J(e,"stop-current",l[20]===(l[0].currentStop||1)-1),J(e,"stop-remaining",l[20]>(l[0].currentStop||1)-1)},m(v,_){D(v,e,_),s(e,t),p.m(t,null),s(e,n),s(e,i),s(i,a),s(e,r)},p(v,_){f!==(f=u(v))&&(p.d(1),p=f(v),p&&(p.c(),p.m(t,null))),_&1&&o!==(o=(v[18].label||`Stop ${v[20]+1}`)+"")&&M(a,o),_&1&&J(e,"stop-completed",v[20]<(v[0].currentStop||1)-1),_&1&&J(e,"stop-current",v[20]===(v[0].currentStop||1)-1),_&1&&J(e,"stop-remaining",v[20]>(v[0].currentStop||1)-1)},d(v){v&&q(e),p.d()}}}function Rn(l){let e,t,n,i,o,a,r,u=Jt(l[0].depositPosted)+"",f,p,v,_,g,b,h,L=l[4]?"Abandoning...":"Confirm Abandon",k,C,w;return{c(){e=d("div"),t=d("div"),n=d("h3"),n.textContent="Abandon Load?",i=m(),o=d("p"),a=S(`Abandoning this load will forfeit your deposit of
            `),r=d("span"),f=S(u),p=S(`
            and impact your reputation score. This action cannot be undone.`),v=m(),_=d("div"),g=d("button"),g.textContent="Cancel",b=m(),h=d("button"),k=S(L),c(n,"class","svelte-97jg85"),c(r,"class","mono"),c(o,"class","text-muted svelte-97jg85"),c(g,"class","btn btn-secondary"),c(h,"class","btn btn-danger"),h.disabled=l[4],c(_,"class","dialog-actions svelte-97jg85"),c(t,"class","dialog-panel svelte-97jg85"),c(t,"role","document"),c(e,"class","dialog-overlay svelte-97jg85"),c(e,"role","dialog"),c(e,"tabindex","-1")},m(y,A){D(y,e,A),s(e,t),s(t,n),s(t,i),s(t,o),s(o,a),s(o,r),s(r,f),s(o,p),s(t,v),s(t,_),s(_,g),s(_,b),s(_,h),s(h,k),C||(w=[fe(g,"click",l[12]),fe(h,"click",l[11]),fe(t,"click",Tt(l[14])),fe(t,"keydown",Tt(l[15])),fe(e,"click",l[12]),fe(e,"keydown",l[16])],C=!0)},p(y,A){A&1&&u!==(u=Jt(y[0].depositPosted)+"")&&M(f,u),A&16&&L!==(L=y[4]?"Abandoning...":"Confirm Abandon")&&M(k,L),A&16&&(h.disabled=y[4])},d(y){y&&q(e),C=!1,rt(w)}}}function bi(l){let e,t,n,i;const o=[fi,ci],a=[];function r(u,f){return u[0]?0:1}return e=r(l),t=a[e]=o[e](l),{c(){t.c(),n=Lt()},m(u,f){a[e].m(u,f),D(u,n,f),i=!0},p(u,[f]){let p=e;e=r(u),e===p?a[e].p(u,f):(he(),j(a[p],1,1,()=>{a[p]=null}),ke(),t=a[e],t?t.p(u,f):(t=a[e]=o[e](u),t.c()),E(t,1),t.m(n.parentNode,n))},i(u){i||(E(t),i=!0)},o(u){j(t),i=!1},d(u){u&&q(n),a[e].d(u)}}}function Jt(l){return l==null?"—":"$"+Number(l).toLocaleString("en-US")}function Bn(l){return l==null?"—":Number(l).toFixed(1)+" mi"}function gi(l,e,t){let n,i,o,a,r,u,f,p;ft(l,Ht,y=>t(13,p=y)),Pt();let v=!1,_=!1;async function g(){await Mt("distressSignal",{bolId:p==null?void 0:p.bolId})}function b(){t(3,v=!0)}async function h(){t(4,_=!0),await Mt("abandonLoad",{bolId:p==null?void 0:p.bolId}),t(4,_=!1),t(3,v=!1)}function L(){t(3,v=!1)}function k(y){Vt.call(this,l,y)}function C(y){Vt.call(this,l,y)}const w=y=>y.key==="Escape"&&L();return l.$$.update=()=>{l.$$.dirty&8192&&t(0,n=p),l.$$.dirty&1&&t(2,i=n==null?void 0:n.tempMonitoringActive),l.$$.dirty&5&&t(8,o=i&&(n==null?void 0:n.currentTempF)!=null?n.currentTempF>=(n.tempMinF??-999)&&n.currentTempF<=(n.tempMaxF??999):!0),l.$$.dirty&1&&t(1,a=(n==null?void 0:n.welfareRating)!=null),l.$$.dirty&1&&t(7,r=(n==null?void 0:n.isMultiStop)||(n==null?void 0:n.stops)&&n.stops.length>1),l.$$.dirty&1&&t(6,u=n?[{label:"Pre-Trip Inspection",done:n.preTripCompleted},{label:"Manifest Verified",done:n.manifestVerified},{label:"Weigh Station",done:n.weighStationStamped},{label:"Seal Applied",done:n.sealStatus==="sealed"}]:[]),l.$$.dirty&3&&t(5,f=a?Array.from({length:5},(y,A)=>A<(n.welfareRating||0)):[])},[n,a,i,v,_,f,u,r,o,g,b,h,L,p,k,C,w]}class hi extends ut{constructor(e){super(),ot(this,e,gi,bi,xe,{})}}function zn(l){let e,t,n,i,o,a,r,u,f,p,v,_,g,b,h,L,k,C,w,y=l[4]&&Fn(l);const A=[Ci,wi,yi,ki],T=[];function $(P,B){return P[2]==="home"?0:P[2]==="board"?1:P[2]==="loadDetail"?2:P[2]==="activeLoad"?3:-1}return~(h=$(l))&&(L=T[h]=A[h](l)),{c(){e=d("div"),t=d("div"),n=d("header"),i=d("div"),i.innerHTML='<h1 class="header-title svelte-vucr7r">Trucking</h1>',o=m(),a=d("nav"),r=d("button"),r.textContent="Home",u=m(),f=d("button"),f.textContent="Board",p=m(),y&&y.c(),v=m(),_=d("button"),_.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',g=m(),b=d("main"),L&&L.c(),c(i,"class","header-left svelte-vucr7r"),c(r,"class","nav-btn svelte-vucr7r"),J(r,"nav-active",l[2]==="home"),c(f,"class","nav-btn svelte-vucr7r"),J(f,"nav-active",l[2]==="board"||l[2]==="loadDetail"),c(a,"class","header-nav svelte-vucr7r"),c(_,"class","close-btn svelte-vucr7r"),c(_,"aria-label","Close"),c(n,"class","nui-header svelte-vucr7r"),c(b,"class","nui-content svelte-vucr7r"),c(t,"class","nui-container fade-in svelte-vucr7r"),c(e,"class","nui-wrapper svelte-vucr7r"),J(e,"phone-mode",l[0]==="phone"),J(e,"standalone-mode",l[0]==="standalone")},m(P,B){D(P,e,B),s(e,t),s(t,n),s(n,i),s(n,o),s(n,a),s(a,r),s(a,u),s(a,f),s(a,p),y&&y.m(a,null),s(n,v),s(n,_),s(t,g),s(t,b),~h&&T[h].m(b,null),k=!0,C||(w=[fe(r,"click",l[9]),fe(f,"click",l[10]),fe(_,"click",l[5])],C=!0)},p(P,B){(!k||B&4)&&J(r,"nav-active",P[2]==="home"),(!k||B&4)&&J(f,"nav-active",P[2]==="board"||P[2]==="loadDetail"),P[4]?y?y.p(P,B):(y=Fn(P),y.c(),y.m(a,null)):y&&(y.d(1),y=null);let Q=h;h=$(P),h===Q?~h&&T[h].p(P,B):(L&&(he(),j(T[Q],1,1,()=>{T[Q]=null}),ke()),~h?(L=T[h],L?L.p(P,B):(L=T[h]=A[h](P),L.c()),E(L,1),L.m(b,null)):L=null),(!k||B&1)&&J(e,"phone-mode",P[0]==="phone"),(!k||B&1)&&J(e,"standalone-mode",P[0]==="standalone")},i(P){k||(E(L),k=!0)},o(P){j(L),k=!1},d(P){P&&q(e),y&&y.d(),~h&&T[h].d(),C=!1,rt(w)}}}function Fn(l){let e,t,n;return{c(){e=d("button"),e.textContent="Active Load",c(e,"class","nav-btn svelte-vucr7r"),J(e,"nav-active",l[2]==="activeLoad")},m(i,o){D(i,e,o),t||(n=fe(e,"click",l[11]),t=!0)},p(i,o){o&4&&J(e,"nav-active",i[2]==="activeLoad")},d(i){i&&q(e),t=!1,n()}}}function ki(l){let e,t;return e=new hi({}),e.$on("navigate",l[16]),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p:Y,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function yi(l){let e,t;return e=new ui({props:{load:l[1]}}),e.$on("navigate",l[14]),e.$on("back",l[15]),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p(n,i){const o={};i&2&&(o.load=n[1]),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function wi(l){let e,t;return e=new xs({}),e.$on("navigate",l[13]),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p:Y,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function Ci(l){let e,t;return e=new qs({}),e.$on("navigate",l[12]),{c(){$e(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p:Y,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function Li(l){let e,t,n=l[3]&&zn(l);return{c(){n&&n.c(),e=Lt()},m(i,o){n&&n.m(i,o),D(i,e,o),t=!0},p(i,[o]){i[3]?n?(n.p(i,o),o&8&&E(n,1)):(n=zn(i),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(he(),j(n,1,1,()=>{n=null}),ke())},i(i){t||(E(n),t=!0)},o(i){j(n),t=!1},d(i){i&&q(e),n&&n.d(i)}}}function Si(l,e,t){let n,i,o,a,r;ft(l,Ut,T=>t(7,o=T)),ft(l,Nt,T=>t(8,a=T)),ft(l,Ht,T=>t(4,r=T));let u="standalone",f=null,p;function v(T){T.key==="Escape"&&(T.preventDefault(),_())}function _(){Nt.set(!1),us()}function g(T,$=null){T==="loadDetail"&&$&&t(1,f=$),Ut.set(T)}On(()=>{Hn()&&(Nt.set(!0),Ft.set({citizenid:"DEV123",name:"Dev Driver",reputationScore:650,reputationTier:"established",suspendedUntil:null,totalLoadsCompleted:42,totalLoadsFailed:2,totalLoadsStolen:0,totalDistanceDriven:1280,totalEarnings:87500,licenses:[{type:"class_b",status:"active"},{type:"class_a",status:"active"}],certifications:[{type:"bilkington_carrier",status:"active"}],leonAccess:!1})),p=os((T,$)=>{switch(T){case"show":Nt.set(!0),t(0,u=$.mode||"standalone"),$.screen&&Ut.set($.screen);break;case"hide":Nt.set(!1);break;case"setScreen":Ut.set($.screen),$.screen==="loadDetail"&&$.load&&t(1,f=$.load);break;case"updatePlayer":Ft.set($.player);break;case"updateActiveLoad":Ht.set($.load);break;case"updateBoard":sl.set($.board);break;case"updateInsurance":Gn.set($.insurance);break;case"updateCompany":cs.set($.company);break;case"updateHud":fs.set($.hud);break;case"updateConvoy":ds.set($.convoy);break}}),window.addEventListener("keydown",v)}),Wn(()=>{p&&p(),window.removeEventListener("keydown",v)});const b=()=>g("home"),h=()=>g("board"),L=()=>g("activeLoad"),k=T=>g(T.detail.screen,T.detail.data),C=T=>g(T.detail.screen,T.detail.data),w=T=>g(T.detail.screen,T.detail.data),y=()=>g("board"),A=T=>g(T.detail.screen,T.detail.data);return l.$$.update=()=>{l.$$.dirty&256&&t(3,n=a),l.$$.dirty&128&&t(2,i=o)},[u,f,i,n,r,_,g,o,a,b,h,L,k,C,w,y,A]}class Ti extends ut{constructor(e){super(),ot(this,e,Si,Li,xe,{})}}new Ti({target:document.getElementById("app")});
